diff --git a/docs/ARCHITECTURE.md b/docs/ARCHITECTURE.md
index 5370359..e79ba8c 100644
--- a/docs/ARCHITECTURE.md
+++ b/docs/ARCHITECTURE.md
@@ -40,9 +40,9 @@ This document describes the high-level architecture of we-ne.
 **Key Accounts (PDAs)**:
 | Account | Seeds | Description |
 |---------|-------|-------------|
-| Grant | `["grant", authority, mint, nonce]` | Stores grant configuration |
+| Grant | `["grant", authority, mint, grant_id]` | Stores grant configuration |
 | ClaimReceipt | `["receipt", grant, claimer, period_index]` | Prevents double-claims |
-| Vault | `[grant_pubkey]` (Token Account) | Holds SPL tokens for distribution |
+| Vault | `["vault", grant_pubkey]` (Token Account) | Holds SPL tokens for distribution |
 
 **Instructions**:
 - `create_grant` - Initialize a new grant with period settings
diff --git a/docs/update_reports/UPDATE_SUMMARY_STAGE2_9.md b/docs/update_reports/UPDATE_SUMMARY_STAGE2_9.md
new file mode 100644
index 0000000..0945a02
--- /dev/null
+++ b/docs/update_reports/UPDATE_SUMMARY_STAGE2_9.md
@@ -0,0 +1,33 @@
+# Update Summary (Stage 2–9)
+
+## What changed (high level)
+- School MVP (Admin Web + Student App) flow improvements:
+  - Admin auth (8-digit passcode, cookie session)
+  - Student join/claim API with idempotency
+  - Join token mint + verification (HMAC, TTL)
+  - Admin print QR uses server-minted token when API enabled
+  - Participations API for admin list / event detail + CSV
+  - Server persistence (Stage 9): events/participations survive restart (JSON storage)
+
+## Key directories touched
+- wene-mobile/: Admin UI, QR scan/join flow, API client integration
+- wene-mobile/server/: School API (auth/events/participations/claim/join-token) + persistence
+- docs/: LAN setup, role/state docs, school PoC docs, ops notes
+
+## How to test (Web admin)
+1) Server:
+   - SCHOOL_ADMIN_PASSCODE=12345678
+   - SCHOOL_ADMIN_WEB_ORIGIN="http://localhost:8081,http://<LAN-IP>:8081"
+   - SCHOOL_JOIN_TOKEN_SECRET="<set>"
+   - SCHOOL_REQUIRE_JOIN_TOKEN=1 (prod-like) / 0 (dev)
+   - npm start (from wene-mobile/server)
+2) Client:
+   - EXPO_PUBLIC_SCHOOL_API_URL=http://localhost:3000/school
+   - npx expo start --web -c
+3) Open /admin -> login -> create event -> print QR
+4) Student scan -> /u/join -> claim ok
+5) Admin /admin/participants and /admin/events/:id show logs; CSV download works (Web only)
+
+## Notes
+- Secrets are server-only (NO EXPO_PUBLIC_*).
+- /claim does not redirect to /admin/login on 401 (student UX).
diff --git a/docs/update_reports/commits_since_main.txt b/docs/update_reports/commits_since_main.txt
new file mode 100644
index 0000000..39b22b3
--- /dev/null
+++ b/docs/update_reports/commits_since_main.txt
@@ -0,0 +1 @@
+No commits since origin/main; all changes are uncommitted (working tree vs origin/main).
diff --git a/docs/update_reports/diff_name_status.txt b/docs/update_reports/diff_name_status.txt
new file mode 100644
index 0000000..de438e2
--- /dev/null
+++ b/docs/update_reports/diff_name_status.txt
@@ -0,0 +1,88 @@
+M	.gitignore
+M	docs/ARCHITECTURE.md
+M	grant_program/Anchor.toml
+M	grant_program/programs/grant_program/src/lib.rs
+D	grant_program/programs/grant_program/src/lib.rs.bak
+M	wene-mobile/README_SCHOOL.md
+M	wene-mobile/android/app/build.gradle
+M	wene-mobile/android/app/src/main/AndroidManifest.xml
+M	wene-mobile/app.config.ts
+M	wene-mobile/app/_layout.tsx
+M	wene-mobile/app/use/[campaignId].tsx
+M	wene-mobile/package-lock.json
+M	wene-mobile/package.json
+M	wene-mobile/scripts/doctor.js
+M	wene-mobile/src/api/schoolClaim.ts
+M	wene-mobile/src/api/schoolClaimClient.mock.ts
+M	wene-mobile/src/api/schoolClaimClient.ts
+M	wene-mobile/src/api/schoolEvents.ts
+M	wene-mobile/src/data/adminMock.ts
+M	wene-mobile/src/lib/schoolRoutes.ts
+M	wene-mobile/src/screens/HomeScreen.tsx
+M	wene-mobile/src/screens/ReceiveScreen.tsx
+M	wene-mobile/src/screens/SchoolClaimScreen.tsx
+M	wene-mobile/src/screens/admin/AdminCategoriesScreen.tsx
+M	wene-mobile/src/screens/admin/AdminEventDetailScreen.tsx
+M	wene-mobile/src/screens/admin/AdminEventsScreen.tsx
+M	wene-mobile/src/screens/admin/AdminLoginScreen.tsx
+M	wene-mobile/src/screens/admin/AdminParticipantsScreen.tsx
+M	wene-mobile/src/screens/admin/AdminPrintScreen.tsx
+M	wene-mobile/src/screens/user/UserConfirmScreen.tsx
+M	wene-mobile/src/screens/user/UserEventsScreen.tsx
+M	wene-mobile/src/screens/user/UserScanScreen.tsx
+M	wene-mobile/src/screens/user/UserSuccessScreen.tsx
+M	wene-mobile/src/solana/grantProgram.ts
+M	wene-mobile/src/solana/index.ts
+M	wene-mobile/src/solana/sendTx.ts
+M	wene-mobile/src/solana/singleton.ts
+M	wene-mobile/src/solana/txBuilders.ts
+M	wene-mobile/src/solana/wallet.ts
+M	wene-mobile/src/types/school.ts
+M	wene-mobile/src/types/ui.ts
+M	wene-mobile/src/ui/components/AdminSearchBar.tsx
+M	wene-mobile/src/ui/components/AdminShell.tsx
+M	wene-mobile/src/ui/components/Button.tsx
+M	wene-mobile/src/ui/components/DevRoleSwitcher.tsx
+M	wene-mobile/src/ui/components/EventRow.tsx
+M	wene-mobile/src/ui/components/StatusBadge.tsx
+A	 app.json
+A	 docs/update_reports/commits_since_main.txt
+A	 docs/update_reports/diff_name_status.txt
+A	 docs/update_reports/diff_patch_core.txt
+A	 docs/update_reports/diff_patch_wene_mobile.txt
+A	 docs/update_reports/diff_stat.txt
+A	 wene-mobile/app/admin/_layout.tsx
+A	 wene-mobile/app/admin/events/new.tsx
+A	 wene-mobile/app/register.tsx
+A	 wene-mobile/app/u/certificates.tsx
+A	 wene-mobile/app/u/join.tsx
+A	 wene-mobile/app/u/register.tsx
+A	 wene-mobile/docs/ADMIN_USER_LINKAGE.md
+A	 wene-mobile/docs/SCHOOL_POC_LAN_SETUP.md
+A	 wene-mobile/server/README.md
+A	 wene-mobile/server/index.js
+A	 wene-mobile/server/package.json
+A	 wene-mobile/server/storage.js
+A	 wene-mobile/src/api/adminApiClient.ts
+A	 wene-mobile/src/api/adminApiHealth.ts
+A	 wene-mobile/src/api/certificates.ts
+A	 wene-mobile/src/api/participation.ts
+A	 wene-mobile/src/api/participationClient.mock.ts
+A	 wene-mobile/src/api/participationClient.ts
+A	 wene-mobile/src/config/api.ts
+A	 wene-mobile/src/data/adminEventsStore.ts
+A	 wene-mobile/src/data/adminRoleStore.ts
+A	 wene-mobile/src/data/certificatesMock.ts
+A	 wene-mobile/src/data/participationMock.ts
+A	 wene-mobile/src/data/studentRegistryMock.ts
+A	 wene-mobile/src/hooks/useAdminRole.ts
+A	 wene-mobile/src/screens/admin/AdminEventCreateScreen.tsx
+A	 wene-mobile/src/screens/user/CertificatesScreen.tsx
+A	 wene-mobile/src/screens/user/JoinScreen.tsx
+A	 wene-mobile/src/screens/user/RegisterScreen.tsx
+A	 wene-mobile/src/store/studentSession.ts
+A	 wene-mobile/src/types/certificate.ts
+A	 wene-mobile/src/types/participation.ts
+A	 wene-mobile/src/utils/appUrl.ts
+A	 wene-mobile/src/utils/csv.ts
+A	 wene-mobile/src/utils/studentSession.ts
diff --git a/docs/update_reports/diff_patch_core.txt b/docs/update_reports/diff_patch_core.txt
new file mode 100644
index 0000000..e69de29
diff --git a/docs/update_reports/diff_patch_wene_mobile.txt b/docs/update_reports/diff_patch_wene_mobile.txt
new file mode 100644
index 0000000..e69de29
diff --git a/docs/update_reports/diff_stat.txt b/docs/update_reports/diff_stat.txt
new file mode 100644
index 0000000..c8c0ba2
--- /dev/null
+++ b/docs/update_reports/diff_stat.txt
@@ -0,0 +1,48 @@
+ .gitignore                                         |   2 +
+ docs/ARCHITECTURE.md                               |   4 +-
+ grant_program/Anchor.toml                          |   3 +-
+ grant_program/programs/grant_program/src/lib.rs    |  32 +-
+ .../programs/grant_program/src/lib.rs.bak          | 571 ---------------------
+ wene-mobile/README_SCHOOL.md                       |  23 +-
+ wene-mobile/android/app/build.gradle               |   4 +-
+ .../android/app/src/main/AndroidManifest.xml       |   2 +
+ wene-mobile/app.config.ts                          |   6 +
+ wene-mobile/app/_layout.tsx                        |  16 +
+ wene-mobile/app/use/[campaignId].tsx               |   7 +-
+ wene-mobile/package-lock.json                      | 373 ++++++++++++++
+ wene-mobile/package.json                           |  14 +-
+ wene-mobile/scripts/doctor.js                      | 202 +++++++-
+ wene-mobile/src/api/schoolClaim.ts                 |  14 +-
+ wene-mobile/src/api/schoolClaimClient.mock.ts      |  15 +-
+ wene-mobile/src/api/schoolClaimClient.ts           |  57 +-
+ wene-mobile/src/api/schoolEvents.ts                |  11 +-
+ wene-mobile/src/data/adminMock.ts                  | 203 +++++++-
+ wene-mobile/src/lib/schoolRoutes.ts                |   4 +
+ wene-mobile/src/screens/HomeScreen.tsx             |  62 ++-
+ wene-mobile/src/screens/ReceiveScreen.tsx          |   2 +-
+ wene-mobile/src/screens/SchoolClaimScreen.tsx      |  12 +-
+ .../src/screens/admin/AdminCategoriesScreen.tsx    |  22 +-
+ .../src/screens/admin/AdminEventDetailScreen.tsx   | 167 ++++--
+ .../src/screens/admin/AdminEventsScreen.tsx        |  49 +-
+ wene-mobile/src/screens/admin/AdminLoginScreen.tsx | 114 +++-
+ .../src/screens/admin/AdminParticipantsScreen.tsx  | 181 +++++--
+ wene-mobile/src/screens/admin/AdminPrintScreen.tsx |  91 ++--
+ wene-mobile/src/screens/user/UserConfirmScreen.tsx |  32 +-
+ wene-mobile/src/screens/user/UserEventsScreen.tsx  |  80 ++-
+ wene-mobile/src/screens/user/UserScanScreen.tsx    | 263 +++++++++-
+ wene-mobile/src/screens/user/UserSuccessScreen.tsx |  12 +-
+ wene-mobile/src/solana/grantProgram.ts             | 128 +----
+ wene-mobile/src/solana/index.ts                    |   2 -
+ wene-mobile/src/solana/sendTx.ts                   |   2 +-
+ wene-mobile/src/solana/singleton.ts                |   2 +-
+ wene-mobile/src/solana/txBuilders.ts               |  39 +-
+ wene-mobile/src/solana/wallet.ts                   |   9 +-
+ wene-mobile/src/types/school.ts                    |   2 +
+ wene-mobile/src/types/ui.ts                        |  12 +-
+ wene-mobile/src/ui/components/AdminSearchBar.tsx   |  17 +-
+ wene-mobile/src/ui/components/AdminShell.tsx       |  73 ++-
+ wene-mobile/src/ui/components/Button.tsx           |  48 +-
+ wene-mobile/src/ui/components/DevRoleSwitcher.tsx  |   7 +-
+ wene-mobile/src/ui/components/EventRow.tsx         |  23 +-
+ wene-mobile/src/ui/components/StatusBadge.tsx      |   9 +-
+ 47 files changed, 2030 insertions(+), 993 deletions(-)
diff --git a/wene-mobile/README_SCHOOL.md b/wene-mobile/README_SCHOOL.md
index 95e5300..02025a9 100644
--- a/wene-mobile/README_SCHOOL.md
+++ b/wene-mobile/README_SCHOOL.md
@@ -2,9 +2,15 @@
 
 イベント・行事に参加した記録を、QRコードを読み取るだけで簡単に残せるアプリです。
 
+## 初回起動と登録
+
+- **初回起動時**: アプリを開くと未登録の場合は自動で**アカウント登録画面**へ誘導されます。学年・表示名・確認用コードを入力して「登録する」をタップしてください。
+- **登録後**: 登録情報は端末に保存され、アプリを閉じて再度開いても**ログイン状態が維持**されます。
+- **未登録の参加**: 登録していない状態では参加処理は完了できません（参加者一覧の「参加する」やリンク参加時に登録を促すメッセージが表示されます）。
+
 ## 使い方
 
-1. アプリを開く
+1. アプリを開く（初回は登録画面へ）
 2. 「参加を開始」または「QRを読み取る」をタップ
 3. 受付のQRコードを読み取る
 4. イベント内容を確認して「参加する」をタップ
@@ -14,6 +20,22 @@
 
 「参加券」画面で、未完了・完了済みの参加券を確認できます。
 
+## 実運用（API 連携）
+
+バックエンド API を用意している場合、環境変数で有効にできます。
+
+- **EXPO_PUBLIC_SCHOOL_API_URL**: 学校向け API のベース URL（例: `https://api.example.com/school`）  
+  **注意**: 管理者パスコードはサーバー側の環境変数（例: `SCHOOL_ADMIN_PASSCODE`）のみで設定し、`EXPO_PUBLIC_*` には含めないでください。
+  - 設定すると以下が API 取得に切り替わります：
+    - イベント一覧・作成・更新
+    - カテゴリ一覧
+    - 参加ログ（参加者検索・イベント別参加数）
+    - 参加券の送信（利用者の「参加する」）
+  - 未設定の場合は従来どおりローカルストア・永続化で動作します。
+  - API 有効時、管理画面の「印刷用QR」はサーバー発行の参加用トークン（署名・有効期限付き）付き URL になり、`POST /school/claim` でトークン検証が行われます。本番運用では `SCHOOL_REQUIRE_JOIN_TOKEN=1` を推奨（詳細は `wene-mobile/server/README.md` および `wene-mobile/docs/SCHOOL_POC_LAN_SETUP.md`）。
+
+API のエンドポイント例: `GET/POST /events`, `GET /categories`, `GET/POST /participations`, `POST /claim`, `POST /school/events/:id/join-token`
+
 ## 配布
 
 - **Android**: APK を配布（Play Store 不要）
diff --git a/wene-mobile/android/app/build.gradle b/wene-mobile/android/app/build.gradle
index c54bf05..541e81c 100644
--- a/wene-mobile/android/app/build.gradle
+++ b/wene-mobile/android/app/build.gradle
@@ -92,8 +92,8 @@ android {
         applicationId 'jp.wene.app'
         minSdkVersion rootProject.ext.minSdkVersion
         targetSdkVersion rootProject.ext.targetSdkVersion
-        versionCode 130818
-        versionName "1.0.0-130818"
+        versionCode 324323
+        versionName "1.0.0-324323"
 
         buildConfigField "String", "REACT_NATIVE_RELEASE_LEVEL", "\"${findProperty('reactNativeReleaseLevel') ?: 'stable'}\""
     }
diff --git a/wene-mobile/android/app/src/main/AndroidManifest.xml b/wene-mobile/android/app/src/main/AndroidManifest.xml
index 0884d83..d702d2a 100644
--- a/wene-mobile/android/app/src/main/AndroidManifest.xml
+++ b/wene-mobile/android/app/src/main/AndroidManifest.xml
@@ -1,6 +1,8 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android">
+  <uses-permission android:name="android.permission.CAMERA"/>
   <uses-permission android:name="android.permission.INTERNET"/>
   <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
+  <uses-permission android:name="android.permission.RECORD_AUDIO"/>
   <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW"/>
   <uses-permission android:name="android.permission.VIBRATE"/>
   <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
diff --git a/wene-mobile/app.config.ts b/wene-mobile/app.config.ts
index a85a29a..c4fcdac 100644
--- a/wene-mobile/app.config.ts
+++ b/wene-mobile/app.config.ts
@@ -90,6 +90,12 @@ export default ({ config }: ConfigContext): ExpoConfig => {
   },
   plugins: [
     'expo-router',
+    [
+      'expo-camera',
+      {
+        cameraPermission: 'QRコード読み取りのためカメラへのアクセスを許可してください。',
+      },
+    ],
   ],
   experiments: {
     typedRoutes: true,
diff --git a/wene-mobile/app/_layout.tsx b/wene-mobile/app/_layout.tsx
index 632349c..8f847f4 100644
--- a/wene-mobile/app/_layout.tsx
+++ b/wene-mobile/app/_layout.tsx
@@ -6,12 +6,25 @@ import { SafeAreaProvider } from 'react-native-safe-area-context';
 import { usePhantomStore } from '../src/store/phantomStore';
 import { useRecipientStore } from '../src/store/recipientStore';
 import { processPhantomUrl } from '../src/utils/phantomDeeplinkListener';
+import { loadEvents } from '../src/data/adminEventsStore';
+import { loadAdminRole, loadSharedParticipations, loadCategories } from '../src/data/adminMock';
 
 export default function RootLayout() {
   const initRef = useRef(false);
   const { loadKeyPair, loadPhantomConnectResult, setPhantomEncryptionPublicKey } = usePhantomStore();
   const { setWalletPubkey, setPhantomSession, setState } = useRecipientStore();
 
+  // 管理者用ストアを事前に読み込み（イベント・ロール・参加ログ・カテゴリ）
+  useEffect(() => {
+    const init = async () => {
+      await loadEvents();
+      await loadAdminRole();
+      await loadSharedParticipations();
+      await loadCategories();
+    };
+    init().catch(() => {});
+  }, []);
+
   // 初期化: 保存された接続結果を読み込む（一度だけ実行）
   useEffect(() => {
     if (initRef.current) return;
@@ -55,6 +68,9 @@ export default function RootLayout() {
         }}
       >
         <Stack.Screen name="index" />
+        <Stack.Screen name="u" />
+        <Stack.Screen name="register" />
+        <Stack.Screen name="admin" />
         <Stack.Screen name="r/[campaignId]" />
         <Stack.Screen name="r/school/[eventId]" />
         <Stack.Screen name="wallet" />
diff --git a/wene-mobile/app/admin/_layout.tsx b/wene-mobile/app/admin/_layout.tsx
new file mode 100644
index 0000000..c1e1cab
--- /dev/null
+++ b/wene-mobile/app/admin/_layout.tsx
@@ -0,0 +1,82 @@
+import React, { useEffect, useRef } from 'react';
+import { View, ActivityIndicator, Text } from 'react-native';
+import { Stack, useRouter, useSegments } from 'expo-router';
+import { useAdminRole } from '../../src/hooks/useAdminRole';
+import { isSchoolApiEnabled } from '../../src/config/api';
+import { setOnUnauthorized } from '../../src/api/adminApiClient';
+
+/**
+ * 管理者エリアのゲート。
+ * - loading = /me 取得中（in-flight）。role === null とは区別する。
+ * - /admin/login のときはリダイレクトせず必ずログイン画面を表示。
+ * - /admin/* (login 以外) で API 有効かつ未ログインなら /admin/login へリダイレクト。
+ * - onUnauthorized はマウント時に1回だけ登録（ループ防止）。
+ */
+function AdminGate() {
+  const router = useRouter();
+  const routerRef = useRef(router);
+  routerRef.current = router;
+
+  const segments = useSegments();
+  const { role, loading } = useAdminRole();
+
+  const isLoginScreen = segments[segments.length - 1] === 'login';
+  const pathname = segments.join('/');
+
+  // 401 時リダイレクト: 1回だけ登録し、ref で最新の router を参照
+  useEffect(() => {
+    setOnUnauthorized(() => {
+      if (typeof __DEV__ !== 'undefined' && __DEV__) {
+        console.log('[AdminGate] onUnauthorized -> redirect to /admin/login');
+      }
+      routerRef.current.replace('/admin/login' as any);
+    });
+    return () => setOnUnauthorized(null);
+  }, []);
+
+  // API 有効かつ未ログイン時は login 以外なら /admin/login へ（loading 中はリダイレクトしない）
+  useEffect(() => {
+    if (loading || isLoginScreen) return;
+    if (!isSchoolApiEnabled() || role !== null) return;
+    if (typeof __DEV__ !== 'undefined' && __DEV__) {
+      console.log('[AdminGate] redirect to /admin/login (role=null, path=', pathname, ')');
+    }
+    router.replace('/admin/login' as any);
+  }, [loading, role, isLoginScreen, pathname, router]);
+
+  // /admin/login のときは常に Stack を表示（ログイン画面をブロックしない）
+  if (isLoginScreen) {
+    return (
+      <Stack
+        screenOptions={{
+          headerShown: false,
+          animation: 'default',
+        }}
+      />
+    );
+  }
+
+  // login 以外で /me 取得中はローディング表示
+  if (loading) {
+    return (
+      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', backgroundColor: '#000' }}>
+        <ActivityIndicator color="#fff" size="large" />
+        <Text style={{ color: '#999', marginTop: 8 }}>読み込み中…</Text>
+      </View>
+    );
+  }
+
+  // API 有効かつ role === null のときは上記 useEffect がリダイレクトするまで一瞬 Stack が出る可能性あり（許容）
+  return (
+    <Stack
+      screenOptions={{
+        headerShown: false,
+        animation: 'default',
+      }}
+    />
+  );
+}
+
+export default function AdminLayout() {
+  return <AdminGate />;
+}
diff --git a/wene-mobile/app/admin/events/new.tsx b/wene-mobile/app/admin/events/new.tsx
new file mode 100644
index 0000000..fc39405
--- /dev/null
+++ b/wene-mobile/app/admin/events/new.tsx
@@ -0,0 +1,3 @@
+import { AdminEventCreateScreen } from '../../../src/screens/admin/AdminEventCreateScreen';
+
+export default AdminEventCreateScreen;
diff --git a/wene-mobile/app/register.tsx b/wene-mobile/app/register.tsx
new file mode 100644
index 0000000..a1a3cbd
--- /dev/null
+++ b/wene-mobile/app/register.tsx
@@ -0,0 +1,3 @@
+import { RegisterScreen } from '../src/screens/user/RegisterScreen';
+
+export default RegisterScreen;
diff --git a/wene-mobile/app/u/certificates.tsx b/wene-mobile/app/u/certificates.tsx
new file mode 100644
index 0000000..c8be811
--- /dev/null
+++ b/wene-mobile/app/u/certificates.tsx
@@ -0,0 +1,3 @@
+import { CertificatesScreen } from '../../src/screens/user/CertificatesScreen';
+
+export default CertificatesScreen;
diff --git a/wene-mobile/app/u/join.tsx b/wene-mobile/app/u/join.tsx
new file mode 100644
index 0000000..b14281e
--- /dev/null
+++ b/wene-mobile/app/u/join.tsx
@@ -0,0 +1,3 @@
+import { JoinScreen } from '../../src/screens/user/JoinScreen';
+
+export default JoinScreen;
diff --git a/wene-mobile/app/u/register.tsx b/wene-mobile/app/u/register.tsx
new file mode 100644
index 0000000..9fd034b
--- /dev/null
+++ b/wene-mobile/app/u/register.tsx
@@ -0,0 +1,13 @@
+import { useEffect } from 'react';
+import { useRouter } from 'expo-router';
+
+/**
+ * 登録の正規 URL は /register。ここに来た場合は /register へリダイレクトする。
+ */
+export default function URegisterRedirect() {
+  const router = useRouter();
+  useEffect(() => {
+    router.replace('/register' as any);
+  }, [router]);
+  return null;
+}
diff --git a/wene-mobile/app/use/[campaignId].tsx b/wene-mobile/app/use/[campaignId].tsx
index 8ef30c3..ab7f154 100644
--- a/wene-mobile/app/use/[campaignId].tsx
+++ b/wene-mobile/app/use/[campaignId].tsx
@@ -122,8 +122,11 @@ export default function UseScreen() {
         appUrl: 'https://wene.app',
       });
 
-      const signature = await sendSignedTx(signed);
-      await markAsUsed(campaignId, walletPubkey, signature, Number(result.meta.amount));
+      const signature = await sendSignedTx(signed, {
+        blockhash: result.meta.recentBlockhash,
+        lastValidBlockHeight: result.meta.lastValidBlockHeight,
+      });
+      await markAsUsed(campaignId, walletPubkey, signature);
       setUseScreenState('Used');
     } catch (error) {
       console.error('Use failed:', error);
diff --git a/wene-mobile/docs/ADMIN_USER_LINKAGE.md b/wene-mobile/docs/ADMIN_USER_LINKAGE.md
new file mode 100644
index 0000000..725f7e3
--- /dev/null
+++ b/wene-mobile/docs/ADMIN_USER_LINKAGE.md
@@ -0,0 +1,77 @@
+# 利用者側・管理者側の連携
+
+利用者アプリと管理者アプリで同じデータを参照し、参加が管理者に反映される仕組みをまとめる。
+
+## データの流れ
+
+### 1. イベント一覧・イベントID（単一ソース）
+
+| 役割 | 参照元 | 説明 |
+|------|--------|------|
+| 管理者 | `src/data/adminMock.ts` の `mockEvents` | イベント一覧・詳細・印刷で使用 |
+| 利用者 | `src/api/schoolEvents.ts` → `mockEvents` を import | `getAllSchoolEvents()` / `getEventById()` で同じリストを参照 |
+
+→ **同じ `mockEvents`（evt-001, evt-002, evt-003）を両方が参照している。**
+
+- 管理者: `AdminEventsScreen`, `AdminEventDetailScreen`, `AdminPrintScreen`
+- 利用者: `UserEventsScreen`, `UserConfirmScreen`, `UserScanScreen`（QRで eventId 指定）, `useSchoolClaim`（getEventById）
+
+### 2. 参加申込（利用者 → 管理者への反映）
+
+**参加が記録されるたびに必ず `addSharedParticipation()` を呼ぶこと。** 呼ばないと管理者のリアルタイム参加数・参加者一覧に反映されない。
+
+| 利用者側の参加経路 | 呼び出し場所 | 備考 |
+|-------------------|--------------|------|
+| QR読み取り → 確認 → 参加する | `schoolClaimClient.mock` の `submit()` 成功時 | `addSharedParticipation({ eventId, eventName })` |
+| リンク参加 `/u/join?eventId=...` | `JoinScreen` の参加記録成功後 | `addSharedParticipation({ eventId, eventName, participantId: session.studentId })` |
+| 参加券一覧から「参加する」 | `UserEventsScreen` の `handleMockParticipate` 成功後 | `addSharedParticipation({ eventId, eventName, participantId: session.studentId })` |
+
+| 管理者側の表示 | 参照元 | 内容 |
+|----------------|--------|------|
+| リアルタイム参加数 | `adminMock.getDisplayRtCount(eventId)` | モックの `rtCount` + **同一セッションの共有参加数**（上記3経路すべてを集計） |
+| イベント詳細の参加者一覧 | `mockParticipants` + `getSharedParticipationsByEventId(eventId)` | 静的モック + 利用者参加分（内部IDに studentId を表示可能） |
+| 参加者検索 | `mockParticipantLogs` + `getSharedParticipations()` | 静的モック + 利用者参加分 |
+
+→ **上記3経路いずれで参加しても、管理者の「リアルタイム参加数」「参加者一覧」「参加者検索」に正確に反映される。**
+
+### 3. 参加履歴（利用者端末内）
+
+- `recipientTicketStore`: 利用者端末の AsyncStorage に保存。完了済みイベントの「参加券」表示に使用。
+- `participationStore`: started/completed 状態を端末内に保存。利用者側の「未完了/完了済み」表示に使用。
+
+## 連携の確認方法
+
+1. **管理者でイベント一覧を開く** (`/admin`)  
+   - evt-001, evt-002, evt-003 が表示され、リアルタイム参加数が表示される。
+2. **利用者で同じイベントに参加する**  
+   - `/` → 「参加を開始」→ イベント一覧 → 「参加する」→ QR/続行 → 確認 → 「参加する」  
+   - evt-001 などで参加完了にする。
+3. **管理者で再確認**  
+   - `/admin` のイベント一覧で、該当イベントの参加数が +1 になっている。  
+   - `/admin/events/evt-001` で参加者に「参加（デモ）」が追加されている。  
+   - `/admin/participants` で「参加（デモ）」の行が追加されている。
+
+## 本番想定
+
+- イベント一覧・参加者・参加数は **サーバーAPI** に置き換える想定。
+- `mockEvents` / `schoolEvents` を API に差し替え、`addSharedParticipation` の代わりに API で参加を送信し、管理者は API から参加者・参加数を取得する。
+
+---
+
+## 削除・戻してはいけない実装（安定性チェックリスト）
+
+ビルド・インストール前に以下が壊れていないことを `npm run doctor:build` で確認すること。これらを削除したり実装前に戻すと管理者・利用者両方で不具合が出る。
+
+| 区分 | 内容 |
+|------|------|
+| **ルート** | `app/_layout.tsx` の Stack に `name="u"` `name="register"` `name="admin"` があること（登録フロー・管理画面が開くため） |
+| **利用者** | `schoolRoutes`、`useSchoolClaim`、`handleClaim`、`schoolRoutes.success`、確認/完了の「リダイレクト中…」、参加済み時の「完了画面へ」 |
+| **利用者** | `UserScanScreen`: `CameraView`、`useCameraPermissions`、`Platform.OS`、`handleContinueWithoutScan`（Web フォールバック） |
+| **管理者** | `roleLabel`・`eventStateLabel`（日本語）、AdminShell「管理画面」・「イベント」「参加者」「カテゴリ」「ログアウト」、StatusBadge は `eventStateLabel` 使用 |
+| **連携** | `schoolEvents.ts`: `mockEvents`（adminMock）、`getEventById`、`getAllSchoolEvents` |
+| **連携** | `adminMock`: `addSharedParticipation`、`getDisplayRtCount`、`getSharedParticipationsByEventId`、`getSharedParticipations` |
+| **連携** | `schoolClaimClient.mock`: `addSharedParticipation` 呼び出し、`isJoined`、`alreadyJoined`（同一端末再ログインを通す） |
+| **連携** | `JoinScreen`: 参加記録成功後に `addSharedParticipation` を呼ぶ（リンク参加を管理者に反映） |
+| **連携** | `UserEventsScreen`: `handleMockParticipate` 成功後に `addSharedParticipation` を呼ぶ（一覧からの参加を管理者に反映） |
+| **管理者画面** | AdminEventsScreen: `getDisplayRtCount`。AdminEventDetailScreen: `getDisplayRtCount`、`getSharedParticipationsByEventId`、参加者アカウント絞り込み。AdminParticipantsScreen: `getSharedParticipations`、アカウント情報で絞り込み |
+| **管理者UI（文字色）** | 管理者は暗色背景のため、文字は白系にすること。EventRow: `tone="dark"` で白文字。Button: `tone="dark"` で白文字。AdminEventsScreen: イベント一覧の EventRow に `tone="dark"`、タイトルに `#ffffff`。doctor が必須パターンで保護。 |
diff --git a/wene-mobile/docs/SCHOOL_POC_LAN_SETUP.md b/wene-mobile/docs/SCHOOL_POC_LAN_SETUP.md
new file mode 100644
index 0000000..30bd020
--- /dev/null
+++ b/wene-mobile/docs/SCHOOL_POC_LAN_SETUP.md
@@ -0,0 +1,55 @@
+# 学校向け PoC: LAN での管理画面・QR 運用
+
+同一ネットワーク内の PC から管理画面を開き、生徒向け QR を表示・印刷するための設定例です。
+
+## 前提
+
+- 管理画面（Admin）は Web で `http://<host>:8081/admin` にアクセス
+- 学校 API は `http://<host>:3000/school` で起動
+- Cookie 認証のため、CORS で **オリジンを許可リスト** に含める必要がある（`*` は不可）
+
+## サーバー側（API）
+
+複数オリジンをカンマ区切りで指定します。
+
+```bash
+# 例: localhost + PC の LAN IP
+SCHOOL_ADMIN_PASSCODE=12345678 \
+SCHOOL_ADMIN_WEB_ORIGIN="http://localhost:8081,http://192.168.0.10:8081" \
+npm start
+```
+
+- **localhost**: 同じ PC のブラウザで `http://localhost:8081/admin` を開くとき
+- **LAN IP**（例: 192.168.0.10）: 同じ PC を `http://192.168.0.10:8081/admin` で開く、または別端末からその PC の 8081 にアクセスするとき
+
+PC の LAN IP の調べ方（例）:
+- macOS: `ifconfig | grep "inet "`
+- Windows: `ipconfig`
+
+## クライアント側（Expo Web）
+
+- `.env` の `EXPO_PUBLIC_SCHOOL_API_URL` は **API サーバーに届く URL** にします。
+- 同じ PC で API も Web も動かす場合: `http://localhost:3000/school` のままでよい。
+- 別 PC から「この PC の 8081」で管理画面を開く場合、API は「その PC の 3000」に届く必要があるので、`EXPO_PUBLIC_SCHOOL_API_URL=http://192.168.0.10:3000/school` のように **その PC の IP** を指定します。
+
+## 参加用トークン（QR の安全ライン）
+
+- サーバーは **参加用トークン**（署名＋有効期限）を発行できます。管理画面の「印刷用QR」で API 有効時はこのトークン付きの参加 URL が QR に含まれます。
+- **SCHOOL_JOIN_TOKEN_SECRET**: トークン署名用の秘密鍵。**サーバー環境変数のみ**で設定し、クライアントの `EXPO_PUBLIC_*` には入れません。
+- **SCHOOL_REQUIRE_JOIN_TOKEN**:  
+  - `0`（デフォルト）: トークンなしでも参加可能（開発・PoC 向け）  
+  - `1`: トークン必須。不正URL・期限切れは 401 で弾く（本番運用向け）
+- **SCHOOL_JOIN_TOKEN_TTL_SECONDS**: トークン有効期限（秒）。デフォルト 28800（8時間＝授業1日想定）。
+
+## 運用イメージ
+
+1. 先生用 PC で API と Web を起動（例: 192.168.0.10）
+2. ブラウザで `http://192.168.0.10:8081/admin` を開き、8桁パスコードでログイン
+3. イベントの QR を表示・印刷し、生徒に配布（API 有効時はトークン付き URL）
+4. 生徒はその QR を読み取り、参加申込
+
+## DevTools での確認
+
+- **Request Headers**: `Origin: http://192.168.0.10:8081` が付いていること
+- **Response Headers**: `Access-Control-Allow-Origin: http://192.168.0.10:8081`（`*` ではないこと）、`Access-Control-Allow-Credentials: true`
+- ログイン成功時: `Set-Cookie: school_admin_session=...` が返ること
diff --git a/wene-mobile/package-lock.json b/wene-mobile/package-lock.json
index 886667e..f39de10 100644
--- a/wene-mobile/package-lock.json
+++ b/wene-mobile/package-lock.json
@@ -16,6 +16,7 @@
         "bs58": "^6.0.0",
         "buffer": "^6.0.3",
         "expo": "~54.0.0",
+        "expo-camera": "~17.0.10",
         "expo-constants": "~18.0.13",
         "expo-linking": "~8.0.11",
         "expo-router": "~6.0.22",
@@ -26,8 +27,10 @@
         "react-dom": "19.1.0",
         "react-native": "0.81.5",
         "react-native-get-random-values": "^2.0.0",
+        "react-native-qrcode-svg": "^6.3.21",
         "react-native-safe-area-context": "~5.6.0",
         "react-native-screens": "~4.16.0",
+        "react-native-svg": "^15.15.2",
         "react-native-web": "^0.21.0",
         "text-encoding": "^0.7.0",
         "tweetnacl": "^1.0.3",
@@ -4972,6 +4975,12 @@
       "integrity": "sha512-v2YAxEmKaBLahNwE1mjp4WON6huMNeuDvagFZW+ASCuA/ku0bXR9hSMw0XpiqMoA3+rmnyck/tPRSFQkoC9Cuw==",
       "license": "MIT"
     },
+    "node_modules/boolbase": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/boolbase/-/boolbase-1.0.0.tgz",
+      "integrity": "sha512-JZOSA7Mo9sNGB8+UjSgzdLtokWAky1zbztM3WRLCbZ70/3cTANmQmOdR7y2g+J0e2WXywy1yS468tY+IruqEww==",
+      "license": "ISC"
+    },
     "node_modules/borsh": {
       "version": "0.7.0",
       "resolved": "https://registry.npmjs.org/borsh/-/borsh-0.7.0.tgz",
@@ -5613,6 +5622,56 @@
         "hyphenate-style-name": "^1.0.3"
       }
     },
+    "node_modules/css-select": {
+      "version": "5.2.2",
+      "resolved": "https://registry.npmjs.org/css-select/-/css-select-5.2.2.tgz",
+      "integrity": "sha512-TizTzUddG/xYLA3NXodFM0fSbNizXjOKhqiQQwvhlspadZokn1KDy0NZFS0wuEubIYAV5/c1/lAr0TaaFXEXzw==",
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "boolbase": "^1.0.0",
+        "css-what": "^6.1.0",
+        "domhandler": "^5.0.2",
+        "domutils": "^3.0.1",
+        "nth-check": "^2.0.1"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/fb55"
+      }
+    },
+    "node_modules/css-tree": {
+      "version": "1.1.3",
+      "resolved": "https://registry.npmjs.org/css-tree/-/css-tree-1.1.3.tgz",
+      "integrity": "sha512-tRpdppF7TRazZrjJ6v3stzv93qxRcSsFmW6cX0Zm2NVKpxE1WV1HblnghVv9TreireHkqI/VDEsfolRF1p6y7Q==",
+      "license": "MIT",
+      "dependencies": {
+        "mdn-data": "2.0.14",
+        "source-map": "^0.6.1"
+      },
+      "engines": {
+        "node": ">=8.0.0"
+      }
+    },
+    "node_modules/css-tree/node_modules/source-map": {
+      "version": "0.6.1",
+      "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz",
+      "integrity": "sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==",
+      "license": "BSD-3-Clause",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/css-what": {
+      "version": "6.2.2",
+      "resolved": "https://registry.npmjs.org/css-what/-/css-what-6.2.2.tgz",
+      "integrity": "sha512-u/O3vwbptzhMs3L1fQE82ZSLHQQfto5gyZzwteVIEyeaY5Fc7R4dapF/BvRoSYFeqfBk4m0V1Vafq5Pjv25wvA==",
+      "license": "BSD-2-Clause",
+      "engines": {
+        "node": ">= 6"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/fb55"
+      }
+    },
     "node_modules/csstype": {
       "version": "3.2.3",
       "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.2.3.tgz",
@@ -5637,6 +5696,15 @@
         }
       }
     },
+    "node_modules/decamelize": {
+      "version": "1.2.0",
+      "resolved": "https://registry.npmjs.org/decamelize/-/decamelize-1.2.0.tgz",
+      "integrity": "sha512-z2S+W9X73hAUUki+N+9Za2lBlun89zigOyGrsax+KUQ6wKW4ZoWpEYBkGhQjwAjjDCkWxhY0VKEhk8wzY7F5cA==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/decode-uri-component": {
       "version": "0.2.2",
       "resolved": "https://registry.npmjs.org/decode-uri-component/-/decode-uri-component-0.2.2.tgz",
@@ -5788,6 +5856,67 @@
       "integrity": "sha512-ypdmJU/TbBby2Dxibuv7ZLW3Bs1QEmM7nHjEANfohJLvE0XVujisn1qPJcZxg+qDucsr+bP6fLD1rPS3AhJ7EQ==",
       "license": "MIT"
     },
+    "node_modules/dijkstrajs": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/dijkstrajs/-/dijkstrajs-1.0.3.tgz",
+      "integrity": "sha512-qiSlmBq9+BCdCA/L46dw8Uy93mloxsPSbwnm5yrKn2vMPiy8KyAskTF6zuV/j5BMsmOGZDPs7KjU+mjb670kfA==",
+      "license": "MIT"
+    },
+    "node_modules/dom-serializer": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/dom-serializer/-/dom-serializer-2.0.0.tgz",
+      "integrity": "sha512-wIkAryiqt/nV5EQKqQpo3SToSOV9J0DnbJqwK7Wv/Trc92zIAYZ4FlMu+JPFW1DfGFt81ZTCGgDEabffXeLyJg==",
+      "license": "MIT",
+      "dependencies": {
+        "domelementtype": "^2.3.0",
+        "domhandler": "^5.0.2",
+        "entities": "^4.2.0"
+      },
+      "funding": {
+        "url": "https://github.com/cheeriojs/dom-serializer?sponsor=1"
+      }
+    },
+    "node_modules/domelementtype": {
+      "version": "2.3.0",
+      "resolved": "https://registry.npmjs.org/domelementtype/-/domelementtype-2.3.0.tgz",
+      "integrity": "sha512-OLETBj6w0OsagBwdXnPdN0cnMfF9opN69co+7ZrbfPGrdpPVNBUj02spi6B1N7wChLQiPn4CSH/zJvXw56gmHw==",
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/fb55"
+        }
+      ],
+      "license": "BSD-2-Clause"
+    },
+    "node_modules/domhandler": {
+      "version": "5.0.3",
+      "resolved": "https://registry.npmjs.org/domhandler/-/domhandler-5.0.3.tgz",
+      "integrity": "sha512-cgwlv/1iFQiFnU96XXgROh8xTeetsnJiDsTc7TYCLFd9+/WNkIqPTxiM/8pSd8VIrhXGTf1Ny1q1hquVqDJB5w==",
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "domelementtype": "^2.3.0"
+      },
+      "engines": {
+        "node": ">= 4"
+      },
+      "funding": {
+        "url": "https://github.com/fb55/domhandler?sponsor=1"
+      }
+    },
+    "node_modules/domutils": {
+      "version": "3.2.2",
+      "resolved": "https://registry.npmjs.org/domutils/-/domutils-3.2.2.tgz",
+      "integrity": "sha512-6kZKyUajlDuqlHKVX1w7gyslj9MPIXzIFiz/rGu35uC1wMi+kMhQwGhl4lt9unC9Vb9INnY9Z3/ZA3+FhASLaw==",
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "dom-serializer": "^2.0.0",
+        "domelementtype": "^2.3.0",
+        "domhandler": "^5.0.3"
+      },
+      "funding": {
+        "url": "https://github.com/fb55/domutils?sponsor=1"
+      }
+    },
     "node_modules/dotenv": {
       "version": "16.4.7",
       "resolved": "https://registry.npmjs.org/dotenv/-/dotenv-16.4.7.tgz",
@@ -5867,6 +5996,18 @@
         "once": "^1.4.0"
       }
     },
+    "node_modules/entities": {
+      "version": "4.5.0",
+      "resolved": "https://registry.npmjs.org/entities/-/entities-4.5.0.tgz",
+      "integrity": "sha512-V0hjH4dGPh9Ao5p0MoRY6BVqtwCjhz6vI5LT8AJ55H+4g9/4vbHx1I54fS0XuclLhDHArPQCiMjDxjaL8fPxhw==",
+      "license": "BSD-2-Clause",
+      "engines": {
+        "node": ">=0.12"
+      },
+      "funding": {
+        "url": "https://github.com/fb55/entities?sponsor=1"
+      }
+    },
     "node_modules/env-editor": {
       "version": "0.4.2",
       "resolved": "https://registry.npmjs.org/env-editor/-/env-editor-0.4.2.tgz",
@@ -6070,6 +6211,26 @@
         "react-native": "*"
       }
     },
+    "node_modules/expo-camera": {
+      "version": "17.0.10",
+      "resolved": "https://registry.npmjs.org/expo-camera/-/expo-camera-17.0.10.tgz",
+      "integrity": "sha512-w1RBw83mAGVk4BPPwNrCZyFop0VLiVSRE3c2V9onWbdFwonpRhzmB4drygG8YOUTl1H3wQvALJHyMPTbgsK1Jg==",
+      "license": "MIT",
+      "dependencies": {
+        "invariant": "^2.2.4"
+      },
+      "peerDependencies": {
+        "expo": "*",
+        "react": "*",
+        "react-native": "*",
+        "react-native-web": "*"
+      },
+      "peerDependenciesMeta": {
+        "react-native-web": {
+          "optional": true
+        }
+      }
+    },
     "node_modules/expo-constants": {
       "version": "18.0.13",
       "resolved": "https://registry.npmjs.org/expo-constants/-/expo-constants-18.0.13.tgz",
@@ -7894,6 +8055,12 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/mdn-data": {
+      "version": "2.0.14",
+      "resolved": "https://registry.npmjs.org/mdn-data/-/mdn-data-2.0.14.tgz",
+      "integrity": "sha512-dn6wd0uw5GsdswPFfsgMp5NSB0/aDe6fK94YJV/AJDYXL6HVLWBsxeq7js7Ad+mU2K9LAlwpk6kN2D5mwCPVow==",
+      "license": "CC0-1.0"
+    },
     "node_modules/memoize-one": {
       "version": "5.2.1",
       "resolved": "https://registry.npmjs.org/memoize-one/-/memoize-one-5.2.1.tgz",
@@ -8597,6 +8764,18 @@
         "node": ">=10"
       }
     },
+    "node_modules/nth-check": {
+      "version": "2.1.1",
+      "resolved": "https://registry.npmjs.org/nth-check/-/nth-check-2.1.1.tgz",
+      "integrity": "sha512-lqjrjmaOoAnWfMmBPL+XNnynZh2+swxiX3WUE0s4yEHI6m+AwrK2UZOimIRl3X/4QctVqS8AiZjFqyOGrMXb/w==",
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "boolbase": "^1.0.0"
+      },
+      "funding": {
+        "url": "https://github.com/fb55/nth-check?sponsor=1"
+      }
+    },
     "node_modules/nullthrows": {
       "version": "1.1.1",
       "resolved": "https://registry.npmjs.org/nullthrows/-/nullthrows-1.1.1.tgz",
@@ -9206,6 +9385,23 @@
         "node": ">= 6"
       }
     },
+    "node_modules/prop-types": {
+      "version": "15.8.1",
+      "resolved": "https://registry.npmjs.org/prop-types/-/prop-types-15.8.1.tgz",
+      "integrity": "sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==",
+      "license": "MIT",
+      "dependencies": {
+        "loose-envify": "^1.4.0",
+        "object-assign": "^4.1.1",
+        "react-is": "^16.13.1"
+      }
+    },
+    "node_modules/prop-types/node_modules/react-is": {
+      "version": "16.13.1",
+      "resolved": "https://registry.npmjs.org/react-is/-/react-is-16.13.1.tgz",
+      "integrity": "sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==",
+      "license": "MIT"
+    },
     "node_modules/pump": {
       "version": "3.0.3",
       "resolved": "https://registry.npmjs.org/pump/-/pump-3.0.3.tgz",
@@ -9226,6 +9422,23 @@
         "node": ">=6"
       }
     },
+    "node_modules/qrcode": {
+      "version": "1.5.4",
+      "resolved": "https://registry.npmjs.org/qrcode/-/qrcode-1.5.4.tgz",
+      "integrity": "sha512-1ca71Zgiu6ORjHqFBDpnSMTR2ReToX4l1Au1VFLyVeBTFavzQnv5JxMFr3ukHVKpSrSA2MCk0lNJSykjUfz7Zg==",
+      "license": "MIT",
+      "dependencies": {
+        "dijkstrajs": "^1.0.1",
+        "pngjs": "^5.0.0",
+        "yargs": "^15.3.1"
+      },
+      "bin": {
+        "qrcode": "bin/qrcode"
+      },
+      "engines": {
+        "node": ">=10.13.0"
+      }
+    },
     "node_modules/qrcode-terminal": {
       "version": "0.11.0",
       "resolved": "https://registry.npmjs.org/qrcode-terminal/-/qrcode-terminal-0.11.0.tgz",
@@ -9234,6 +9447,117 @@
         "qrcode-terminal": "bin/qrcode-terminal.js"
       }
     },
+    "node_modules/qrcode/node_modules/ansi-styles": {
+      "version": "4.3.0",
+      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
+      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
+      "license": "MIT",
+      "dependencies": {
+        "color-convert": "^2.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
+      }
+    },
+    "node_modules/qrcode/node_modules/camelcase": {
+      "version": "5.3.1",
+      "resolved": "https://registry.npmjs.org/camelcase/-/camelcase-5.3.1.tgz",
+      "integrity": "sha512-L28STB170nwWS63UjtlEOE3dldQApaJXZkOI1uMFfzf3rRuPegHaHesyee+YxQ+W6SvRDQV6UrdOdRiR153wJg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=6"
+      }
+    },
+    "node_modules/qrcode/node_modules/cliui": {
+      "version": "6.0.0",
+      "resolved": "https://registry.npmjs.org/cliui/-/cliui-6.0.0.tgz",
+      "integrity": "sha512-t6wbgtoCXvAzst7QgXxJYqPt0usEfbgQdftEPbLL/cvv6HPE5VgvqCuAIDR0NgU52ds6rFwqrgakNLrHEjCbrQ==",
+      "license": "ISC",
+      "dependencies": {
+        "string-width": "^4.2.0",
+        "strip-ansi": "^6.0.0",
+        "wrap-ansi": "^6.2.0"
+      }
+    },
+    "node_modules/qrcode/node_modules/pngjs": {
+      "version": "5.0.0",
+      "resolved": "https://registry.npmjs.org/pngjs/-/pngjs-5.0.0.tgz",
+      "integrity": "sha512-40QW5YalBNfQo5yRYmiw7Yz6TKKVr3h6970B2YE+3fQpsWcrbj1PzJgxeJ19DRQjhMbKPIuMY8rFaXc8moolVw==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=10.13.0"
+      }
+    },
+    "node_modules/qrcode/node_modules/strip-ansi": {
+      "version": "6.0.1",
+      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
+      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
+      "license": "MIT",
+      "dependencies": {
+        "ansi-regex": "^5.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/qrcode/node_modules/wrap-ansi": {
+      "version": "6.2.0",
+      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-6.2.0.tgz",
+      "integrity": "sha512-r6lPcBGxZXlIcymEu7InxDMhdW0KDxpLgoFLcguasxCaJ/SOIZwINatK9KY/tf+ZrlywOKU0UDj3ATXUBfxJXA==",
+      "license": "MIT",
+      "dependencies": {
+        "ansi-styles": "^4.0.0",
+        "string-width": "^4.1.0",
+        "strip-ansi": "^6.0.0"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/qrcode/node_modules/y18n": {
+      "version": "4.0.3",
+      "resolved": "https://registry.npmjs.org/y18n/-/y18n-4.0.3.tgz",
+      "integrity": "sha512-JKhqTOwSrqNA1NY5lSztJ1GrBiUodLMmIZuLiDaMRJ+itFd+ABVE8XBjOvIWL+rSqNDC74LCSFmlb/U4UZ4hJQ==",
+      "license": "ISC"
+    },
+    "node_modules/qrcode/node_modules/yargs": {
+      "version": "15.4.1",
+      "resolved": "https://registry.npmjs.org/yargs/-/yargs-15.4.1.tgz",
+      "integrity": "sha512-aePbxDmcYW++PaqBsJ+HYUFwCdv4LVvdnhBy78E57PIor8/OVvhMrADFFEDh8DHDFRv/O9i3lPhsENjO7QX0+A==",
+      "license": "MIT",
+      "dependencies": {
+        "cliui": "^6.0.0",
+        "decamelize": "^1.2.0",
+        "find-up": "^4.1.0",
+        "get-caller-file": "^2.0.1",
+        "require-directory": "^2.1.1",
+        "require-main-filename": "^2.0.0",
+        "set-blocking": "^2.0.0",
+        "string-width": "^4.2.0",
+        "which-module": "^2.0.0",
+        "y18n": "^4.0.0",
+        "yargs-parser": "^18.1.2"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/qrcode/node_modules/yargs-parser": {
+      "version": "18.1.3",
+      "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-18.1.3.tgz",
+      "integrity": "sha512-o50j0JeToy/4K6OZcaQmW6lyXXKhq7csREXcDwk2omFPJEwUNOVtJKvmDr9EI1fAJZUyZcRF7kxGBWmRXudrCQ==",
+      "license": "ISC",
+      "dependencies": {
+        "camelcase": "^5.0.0",
+        "decamelize": "^1.2.0"
+      },
+      "engines": {
+        "node": ">=6"
+      }
+    },
     "node_modules/query-string": {
       "version": "7.1.3",
       "resolved": "https://registry.npmjs.org/query-string/-/query-string-7.1.3.tgz",
@@ -9453,6 +9777,22 @@
         "react-native": "*"
       }
     },
+    "node_modules/react-native-qrcode-svg": {
+      "version": "6.3.21",
+      "resolved": "https://registry.npmjs.org/react-native-qrcode-svg/-/react-native-qrcode-svg-6.3.21.tgz",
+      "integrity": "sha512-6vcj4rcdpWedvphDR+NSJcudJykNuLgNGFwm2p4xYjR8RdyTzlrELKI5LkO4ANS9cQUbqsfkpippPv64Q2tUtA==",
+      "license": "MIT",
+      "dependencies": {
+        "prop-types": "^15.8.0",
+        "qrcode": "^1.5.4",
+        "text-encoding": "^0.7.0"
+      },
+      "peerDependencies": {
+        "react": "*",
+        "react-native": ">=0.63.4",
+        "react-native-svg": ">=14.0.0"
+      }
+    },
     "node_modules/react-native-safe-area-context": {
       "version": "5.6.2",
       "resolved": "https://registry.npmjs.org/react-native-safe-area-context/-/react-native-safe-area-context-5.6.2.tgz",
@@ -9478,6 +9818,21 @@
         "react-native": "*"
       }
     },
+    "node_modules/react-native-svg": {
+      "version": "15.15.2",
+      "resolved": "https://registry.npmjs.org/react-native-svg/-/react-native-svg-15.15.2.tgz",
+      "integrity": "sha512-lpaSwA2i+eLvcEdDZyGgMEInQW99K06zjJqfMFblE0yxI0SCN5E4x6in46f0IYi6i3w2t2aaq3oOnyYBe+bo4w==",
+      "license": "MIT",
+      "dependencies": {
+        "css-select": "^5.1.0",
+        "css-tree": "^1.1.3",
+        "warn-once": "0.1.1"
+      },
+      "peerDependencies": {
+        "react": "*",
+        "react-native": "*"
+      }
+    },
     "node_modules/react-native-web": {
       "version": "0.21.2",
       "resolved": "https://registry.npmjs.org/react-native-web/-/react-native-web-0.21.2.tgz",
@@ -9729,6 +10084,12 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/require-main-filename": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/require-main-filename/-/require-main-filename-2.0.0.tgz",
+      "integrity": "sha512-NKN5kMDylKuldxYLSUfrbo5Tuzh4hd+2E8NPPX02mZtn1VuREQToYe/ZdlJy+J3uCpfaiGF05e7B8W0iXbQHmg==",
+      "license": "ISC"
+    },
     "node_modules/requireg": {
       "version": "0.2.2",
       "resolved": "https://registry.npmjs.org/requireg/-/requireg-0.2.2.tgz",
@@ -10098,6 +10459,12 @@
       "integrity": "sha512-qepMx2JxAa5jjfzxG79yPPq+8BuFToHd1hm7kI+Z4zAq1ftQiP7HcxMhDDItrbtwVeLg/cY2JnKnrcFkmiswNA==",
       "license": "MIT"
     },
+    "node_modules/set-blocking": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/set-blocking/-/set-blocking-2.0.0.tgz",
+      "integrity": "sha512-KiKBS8AnWGEyLzofFfmvKwpdPzqiy16LvQfK3yv/fVH7Bj13/wl3JSR1J+rfgRE9q7xUJK4qvgS8raSOeLUehw==",
+      "license": "ISC"
+    },
     "node_modules/set-function-length": {
       "version": "1.2.2",
       "resolved": "https://registry.npmjs.org/set-function-length/-/set-function-length-1.2.2.tgz",
@@ -11265,6 +11632,12 @@
         "node": ">= 8"
       }
     },
+    "node_modules/which-module": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/which-module/-/which-module-2.0.1.tgz",
+      "integrity": "sha512-iBdZ57RDvnOR9AGBhML2vFZf7h8vmBjhoaZqODJBFWHVtKkDmKuHai3cx5PgVMrX5YDNp27AofYbAwctSS+vhQ==",
+      "license": "ISC"
+    },
     "node_modules/wonka": {
       "version": "6.3.5",
       "resolved": "https://registry.npmjs.org/wonka/-/wonka-6.3.5.tgz",
diff --git a/wene-mobile/package.json b/wene-mobile/package.json
index f1f7f93..ce254a8 100644
--- a/wene-mobile/package.json
+++ b/wene-mobile/package.json
@@ -6,6 +6,7 @@
     "postinstall": "patch-package",
     "doctor": "node scripts/doctor.js",
     "doctor:fix": "node scripts/doctor.js --fix",
+    "doctor:build": "node scripts/doctor.js --build",
     "setup": "bash scripts/setup.sh",
     "generate-icons": "node scripts/generate-icons.js",
     "deploy:adb": "bash scripts/deploy-via-adb.sh",
@@ -23,15 +24,15 @@
     "ios": "expo run:ios",
     "web": "expo start --web",
     "clean": "rm -rf .expo node_modules/.cache .metro && npm run start:reset",
-    "build:prebuild": "expo prebuild --platform android --clean",
+    "build:prebuild": "npm run doctor:build && expo prebuild --platform android --clean",
     "android:clean-rebuild": "bash scripts/android-clean-rebuild.sh",
     "android:ultra-clean": "bash scripts/android-ultra-clean.sh",
     "capture:jsc-crash": "bash scripts/capture-jsc-crash-log.sh",
     "devnet:faucet": "node scripts/devnet-faucet.js",
-    "build:prebuild:ios": "expo prebuild --platform ios --clean",
-    "build:apk": "cd android && echo \"sdk.dir=${ANDROID_HOME:-/opt/homebrew/share/android-commandlinetools}\" > local.properties && JAVA_HOME=\"${JAVA_HOME:-/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home}\" ANDROID_HOME=\"${ANDROID_HOME:-/opt/homebrew/share/android-commandlinetools}\" ./gradlew assembleRelease",
-    "build:ios": "expo run:ios",
-    "build:ios:simulator": "expo run:ios"
+    "build:prebuild:ios": "npm run doctor:build && expo prebuild --platform ios --clean",
+    "build:apk": "npm run doctor:build && cd android && echo \"sdk.dir=${ANDROID_HOME:-/opt/homebrew/share/android-commandlinetools}\" > local.properties && JAVA_HOME=\"${JAVA_HOME:-/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home}\" ANDROID_HOME=\"${ANDROID_HOME:-/opt/homebrew/share/android-commandlinetools}\" ./gradlew assembleRelease",
+    "build:ios": "npm run doctor:build && expo run:ios",
+    "build:ios:simulator": "npm run doctor:build && expo run:ios"
   },
   "dependencies": {
     "@coral-xyz/anchor": "^0.32.1",
@@ -41,6 +42,7 @@
     "bs58": "^6.0.0",
     "buffer": "^6.0.3",
     "expo": "~54.0.0",
+    "expo-camera": "~17.0.10",
     "expo-constants": "~18.0.13",
     "expo-linking": "~8.0.11",
     "expo-router": "~6.0.22",
@@ -51,8 +53,10 @@
     "react-dom": "19.1.0",
     "react-native": "0.81.5",
     "react-native-get-random-values": "^2.0.0",
+    "react-native-qrcode-svg": "^6.3.21",
     "react-native-safe-area-context": "~5.6.0",
     "react-native-screens": "~4.16.0",
+    "react-native-svg": "^15.15.2",
     "react-native-web": "^0.21.0",
     "text-encoding": "^0.7.0",
     "tweetnacl": "^1.0.3",
diff --git a/wene-mobile/scripts/doctor.js b/wene-mobile/scripts/doctor.js
index 600839b..9539d64 100644
--- a/wene-mobile/scripts/doctor.js
+++ b/wene-mobile/scripts/doctor.js
@@ -1,12 +1,15 @@
 #!/usr/bin/env node
 /**
  * We-ne Mobile Doctor Script
- * 
- * 一般的な問題を自動検出・修正するスクリプト
- * 
+ *
+ * 一般的な問題を自動検出・修正するスクリプト。
+ * ビルド時は --build で利用者UI・管理者UIの必須/禁止パターンのみチェックし、
+ * アイコン・Android設定はスキップして「UIが壊れていない」ことを保証する。
+ *
  * 使い方:
- *   node scripts/doctor.js        # 問題を検出
- *   node scripts/doctor.js --fix  # 問題を自動修正
+ *   node scripts/doctor.js          # 全チェック（完成形保護・Android含む）
+ *   node scripts/doctor.js --fix    # 問題を自動修正
+ *   node scripts/doctor.js --build  # ビルド用（UI保護＋依存関係のみ）
  */
 
 const fs = require('fs');
@@ -16,6 +19,8 @@ const { execSync } = require('child_process');
 
 const ROOT = path.resolve(__dirname, '..');
 const FIX_MODE = process.argv.includes('--fix');
+/** ビルド時のみ: UI必須/禁止パターンと依存関係だけチェック（アイコン・Androidはスキップ） */
+const BUILD_MODE = process.argv.includes('--build');
 
 const colors = {
   red: '\x1b[31m',
@@ -47,6 +52,7 @@ const LOCKED_FILES = {
 };
 
 // 必須パターン (これらが含まれていないとエラー)
+// 利用者UI・管理者UIが壊れないように必須の契約をチェック
 const REQUIRED_PATTERNS = {
   'src/polyfills.ts': [
     "react-native-get-random-values",
@@ -60,9 +66,16 @@ const REQUIRED_PATTERNS = {
   'app/_layout.tsx': [
     "SafeAreaProvider",
     "polyfills",
+    'name="u"',
+    'name="register"',
+    'name="admin"',
   ],
   'src/screens/HomeScreen.tsx': [
     "SafeAreaView",
+    "schoolRoutes",
+    "参加を開始",
+    "getStudentSession",
+    "redirect_to_register",
   ],
   'src/screens/ReceiveScreen.tsx': [
     "SafeAreaView",
@@ -70,9 +83,147 @@ const REQUIRED_PATTERNS = {
   'src/screens/WalletScreen.tsx': [
     "SafeAreaView",
   ],
+  // 利用者UI: 学校申込・ユーザー画面
+  'src/screens/SchoolClaimScreen.tsx': [
+    "SafeAreaView",
+    "useSchoolClaim",
+    "schoolRoutes.home",
+  ],
+  'src/screens/user/UserScanScreen.tsx': [
+    "SafeAreaView",
+    "schoolRoutes",
+    "Platform.OS",
+    "handleContinueWithoutScan",
+    "CameraView",
+    "useCameraPermissions",
+  ],
+  'src/screens/user/UserEventsScreen.tsx': [
+    "SafeAreaView",
+    "schoolRoutes",
+    "getParticipations",
+    "addSharedParticipation",
+  ],
+  'src/screens/user/UserConfirmScreen.tsx': [
+    "SafeAreaView",
+    "useSchoolClaim",
+    "schoolRoutes.success",
+    "handleClaim",
+    "完了画面へ",
+    "参加済み",
+  ],
+  'src/screens/user/UserSuccessScreen.tsx': [
+    "SafeAreaView",
+    "schoolRoutes",
+    "setCompleted",
+    "リダイレクト中",
+  ],
+  'src/screens/user/JoinScreen.tsx': [
+    "getStudentSession",
+    "recordParticipation",
+    "addSharedParticipation",
+  ],
+  // 管理者UI: 共通ラベル（日本語）の一元管理
+  'src/types/ui.ts': [
+    "roleLabel",
+    "eventStateLabel",
+  ],
+  'src/ui/components/StatusBadge.tsx': [
+    "eventStateLabel",
+  ],
+  'src/ui/components/AdminShell.tsx': [
+    "roleLabel",
+    "管理画面",
+  ],
+  // 利用者登録フロー: eventId とルートの契約
+  'src/hooks/useEventIdFromParams.ts': [
+    "parseEventId",
+    "schoolRoutes.events",
+  ],
+  'src/lib/schoolRoutes.ts': [
+    "confirm",
+    "success",
+    "scan",
+  ],
+  'src/lib/eventId.ts': [
+    "parseEventId",
+  ],
+  'src/api/schoolClaim.ts': [
+    "submitSchoolClaim",
+  ],
+  'src/api/schoolClaimClient.mock.ts': [
+    "alreadyJoined",
+    "isJoined",
+    "addSharedParticipation",
+  ],
+  // 利用者・管理者連携: adminEventsStore の getEventsSync を単一ソースに、参加反映は adminMock
+  'src/api/schoolEvents.ts': [
+    "getEventsSync",
+    "adminEventsStore",
+    "getEventById",
+    "getAllSchoolEvents",
+  ],
+  'src/data/adminMock.ts': [
+    "mockEvents",
+    "addSharedParticipation",
+    "getDisplayRtCount",
+    "getSharedParticipationsByEventId",
+    "getSharedParticipations",
+  ],
+  'src/screens/admin/AdminEventsScreen.tsx': [
+    "getDisplayRtCount",
+    "tone=\"dark\"",
+    "EventRow",
+    "#ffffff",
+  ],
+  'src/ui/components/EventRow.tsx': [
+    "tone",
+    "#ffffff",
+    "textStyle",
+  ],
+  'src/ui/components/Button.tsx': [
+    "tone",
+    "textDark",
+  ],
+  'src/screens/admin/AdminEventDetailScreen.tsx': [
+    "eventStateLabel",
+    "getDisplayRtCount",
+    "getSharedParticipationsByEventId",
+    "getEventScanUrl",
+    "QRCode",
+    "participantText",
+  ],
+  'src/screens/admin/AdminPrintScreen.tsx': [
+    "getEventScanUrl",
+    "QRCode",
+  ],
+  'src/utils/appUrl.ts': [
+    "getBaseUrl",
+    "getEventScanUrl",
+  ],
+  'src/screens/admin/AdminParticipantsScreen.tsx': [
+    "getSharedParticipations",
+  ],
+  'src/store/recipientTicketStore.ts': [
+    "isJoined",
+    "addTicket",
+  ],
+  'src/config/claimMode.ts': [
+    "getClaimMode",
+  ],
+  'app/u/_layout.tsx': [
+    "Stack",
+  ],
+  'app/admin/_layout.tsx': [
+    "Stack",
+    "headerShown: false",
+  ],
+  'src/data/participationStore.ts': [
+    "setStarted",
+    "setCompleted",
+  ],
 };
 
-// 禁止パターン (これらが含まれているとエラー)
+// 禁止パターン (これらが含まれているとエラー) — デバッグ用・英語UIの混入防止
 const FORBIDDEN_PATTERNS = {
   'src/polyfills.ts': [
     '/ingest/',
@@ -92,6 +243,26 @@ const FORBIDDEN_PATTERNS = {
   'src/screens/WalletScreen.tsx': [
     '/ingest/',
   ],
+  // 管理者UI: 英語ラベルの直書きを防ぎ eventStateLabel/roleLabel を使う設計を維持
+  'src/ui/components/StatusBadge.tsx': [
+    "draft: 'Draft'",
+    "published: 'Published'",
+    "ended: 'Ended'",
+  ],
+  'src/ui/components/AdminShell.tsx': [
+    'we-ne Admin',
+    'Events</AppText>',
+    'Participants</AppText>',
+    'Categories</AppText>',
+    'Logout</AppText>',
+  ],
+  // 利用者UI: 無効時の白画面を防ぐ（リダイレクト表示必須）
+  'src/screens/user/UserSuccessScreen.tsx': [
+    'if (!isValid) return null',
+  ],
+  'src/screens/user/UserConfirmScreen.tsx': [
+    'if (!isValid) return null',
+  ],
 };
 
 // ========================================
@@ -222,6 +393,8 @@ function checkDependencies() {
     'buffer',
     'bs58',
     'tweetnacl',
+    'expo-camera',
+    'react-native-qrcode-svg',
   ];
   
   const missing = [];
@@ -359,12 +532,13 @@ function checkAssets() {
 // Main
 // ========================================
 console.log('\n🏥 We-ne Mobile Doctor\n');
-console.log(`Mode: ${FIX_MODE ? 'FIX' : 'CHECK'}\n`);
+console.log(`Mode: ${FIX_MODE ? 'FIX' : BUILD_MODE ? 'BUILD (UI保護)' : 'CHECK'}\n`);
 console.log('─'.repeat(50));
 
-// Critical checks first
-checkLockedFiles();
-console.log('');
+if (!BUILD_MODE) {
+  checkLockedFiles();
+  console.log('');
+}
 
 checkNodeModules();
 console.log('');
@@ -378,10 +552,12 @@ console.log('');
 checkForbiddenPatterns();
 console.log('');
 
-checkAndroidConfig();
-console.log('');
+if (!BUILD_MODE) {
+  checkAndroidConfig();
+  console.log('');
 
-checkAssets();
+  checkAssets();
+}
 
 console.log('\n' + '─'.repeat(50));
 console.log(`\n📊 Summary: ${issues} issue(s) found`);
diff --git a/wene-mobile/server/README.md b/wene-mobile/server/README.md
new file mode 100644
index 0000000..d32c9ce
--- /dev/null
+++ b/wene-mobile/server/README.md
@@ -0,0 +1,71 @@
+# School Admin API (MVP)
+
+管理者ログイン用セッション API（httpOnly cookie、8桁数字パスコード）。
+
+**重要**: パスコードはサーバー環境変数のみ。クライアントの `EXPO_PUBLIC_*` には絶対に含めないこと。
+
+## 起動
+
+```bash
+cd server
+npm install
+npm start
+```
+
+デフォルト: `http://localhost:3000/school`
+
+## 環境変数（サーバーのみ）
+
+| 変数 | 説明 | デフォルト |
+|------|------|------------|
+| PORT | ポート | 3000 |
+| SCHOOL_ADMIN_PASSCODE | **8桁数字**のパスコード（例: `12345678`） | （未設定なら空・ログイン不可） |
+| SCHOOL_ADMIN_WEB_ORIGIN | CORS 許可オリジン（カンマ区切り可。credentials のため `*` は不可） | http://localhost:8081 |
+| SCHOOL_JOIN_TOKEN_SECRET | 参加用QRトークンの署名鍵（**サーバーのみ**。EXPO_PUBLIC_* に含めない） | （未設定時は join-token 無効） |
+| SCHOOL_REQUIRE_JOIN_TOKEN | `1` で参加時にトークン必須、`0` で任意（開発用） | `0` |
+| SCHOOL_JOIN_TOKEN_TTL_SECONDS | トークン有効期限（秒） | 28800（8時間） |
+| SCHOOL_DATA_DIR | 永続化データのディレクトリ | ./data |
+| SCHOOL_EVENTS_FILE | イベントJSONファイル（相対時は DATA_DIR 基準） | events.json |
+| SCHOOL_PARTICIPATIONS_FILE | 参加記録JSONファイル（同上） | participations.json |
+
+起動時に `SCHOOL_DATA_DIR` が存在しなければ作成する。イベント・参加記録は再起動後も保持される（JSON 永続化）。
+
+## API 契約
+
+- **POST /school/auth/login**  
+  body: `{ "passcode": "12345678" }`（`/^\d{8}$/` のみ有効）  
+  - 200: `{ "ok": true, "role": "admin", "expiresAt": "ISO" }` + Set-Cookie（HttpOnly, SameSite=Lax, Path=/school, Max-Age=28800）
+  - 401: `{ "ok": false, "error": "invalid_passcode" }`
+- **POST /school/auth/logout** — 200 `{ "ok": true }` + cookie 削除
+- **GET /school/me** — 200 `{ "ok": true, "role": "admin", "expiresAt": "ISO" }` / 401 `{ "ok": false }`
+
+セッション TTL: 8 時間。
+
+### 参加用トークン（署名・有効期限）
+
+- **POST /school/events/:id/join-token**（requireAdmin）  
+  body: `{ "ttlSeconds": 28800 }`（任意）  
+  - 200: `{ "ok": true, "token": "<payloadB64>.<sigB64>", "exp": unixSec }`  
+  - トークンは HMAC-SHA256 署名。payload に `eventId`, `exp`, `nonce` を含む。  
+- **POST /school/claim** で `body.token` を送ると、署名・eventId 一致・有効期限を検証。  
+  - `SCHOOL_REQUIRE_JOIN_TOKEN=1` のときは token 必須。未設定・改ざん・期限切れは 401（invalid_token / expired_token）。  
+- 本番運用では `SCHOOL_REQUIRE_JOIN_TOKEN=1` とし、開発時は `0` のまま token なしでも参加可能にできる。
+
+## 複数オリジン（LAN 対応）
+
+管理画面を **localhost** と **LAN IP** の両方から開く場合、カンマ区切りで指定します。
+
+```bash
+SCHOOL_ADMIN_PASSCODE=12345678 \
+SCHOOL_ADMIN_WEB_ORIGIN="http://localhost:8081,http://192.168.0.10:8081" \
+npm start
+```
+
+- 生徒向け QR を同じ PC の IP（例: 192.168.0.10）で配布する場合、管理画面も `http://192.168.0.10:8081/admin` で開けます。
+- Cookie は `credentials: true` のため、許可リストに含まれるオリジンのみ。`*` は使用しません。
+
+## Web クライアントとの連携
+
+1. クライアント `.env` に **API の URL のみ** 設定: `EXPO_PUBLIC_SCHOOL_API_URL=http://localhost:3000/school`（パスコードは含めない）
+2. `npx expo start --web -c` で http://localhost:8081 を起動
+3. サーバーは `SCHOOL_ADMIN_WEB_ORIGIN` のいずれかのオリジンで CORS（`credentials: true`）を許可
diff --git a/wene-mobile/server/data/events.json b/wene-mobile/server/data/events.json
new file mode 100644
index 0000000..43b4c43
--- /dev/null
+++ b/wene-mobile/server/data/events.json
@@ -0,0 +1,35 @@
+[
+  {
+    "id": "evt-001",
+    "title": "地域清掃ボランティア",
+    "datetime": "2026/02/02 09:00-10:30",
+    "host": "生徒会",
+    "status": "active",
+    "rtCount": 23,
+    "totalCount": 58,
+    "createdAt": "2026-02-07T10:01:19.954Z",
+    "updatedAt": "2026-02-07T10:01:19.954Z"
+  },
+  {
+    "id": "evt-002",
+    "title": "進路説明会",
+    "datetime": "2026/02/10 15:00-16:00",
+    "host": "進路指導室",
+    "status": "draft",
+    "rtCount": 8,
+    "totalCount": 8,
+    "createdAt": "2026-02-07T10:01:19.954Z",
+    "updatedAt": "2026-02-07T10:01:19.954Z"
+  },
+  {
+    "id": "evt-003",
+    "title": "体育祭",
+    "datetime": "2026/02/15 09:00-15:00",
+    "host": "体育委員会",
+    "status": "active",
+    "rtCount": 0,
+    "totalCount": 120,
+    "createdAt": "2026-02-07T10:01:19.954Z",
+    "updatedAt": "2026-02-07T10:01:19.954Z"
+  }
+]
\ No newline at end of file
diff --git a/wene-mobile/server/index.js b/wene-mobile/server/index.js
new file mode 100644
index 0000000..7b55e52
--- /dev/null
+++ b/wene-mobile/server/index.js
@@ -0,0 +1,463 @@
+/**
+ * School Admin API (MVP)
+ * - 8-digit numeric passcode (server env SCHOOL_ADMIN_PASSCODE only, never in client)
+ * - POST /school/auth/login  -> Set-Cookie (HttpOnly, 8h)
+ * - POST /school/auth/logout -> clear cookie
+ * - GET  /school/me          -> { ok, role, expiresAt }
+ * - All admin data routes require session (requireAdmin)
+ * CORS: SCHOOL_ADMIN_WEB_ORIGIN, credentials: true
+ */
+
+const express = require('express');
+const cookieParser = require('cookie-parser');
+const cors = require('cors');
+const crypto = require('crypto');
+const { loadEvents, saveEvents, loadParticipations, saveParticipations, ensureDir, DATA_DIR } = require('./storage');
+
+const app = express();
+const PORT = process.env.PORT || 3000;
+const SCHOOL_BASE = '/school';
+
+const PASSCODE = process.env.SCHOOL_ADMIN_PASSCODE ?? '';
+const PASS_RE = /^[0-9]{8}$/;
+const COOKIE_NAME = 'school_admin_session';
+const TTL_MS = 8 * 60 * 60 * 1000; // 8h
+const MAX_AGE_SEC = 8 * 60 * 60; // 28800
+
+const raw = process.env.SCHOOL_ADMIN_WEB_ORIGIN ?? 'http://localhost:8081';
+const ALLOWED_ORIGINS = raw.split(',').map((s) => s.trim()).filter(Boolean);
+if (ALLOWED_ORIGINS.length === 0) ALLOWED_ORIGINS.push('http://localhost:8081');
+
+// Join token (signed + exp). Server-only secret; do NOT put in EXPO_PUBLIC_*.
+const JOIN_TOKEN_SECRET = process.env.SCHOOL_JOIN_TOKEN_SECRET ?? '';
+const REQUIRE_JOIN_TOKEN = process.env.SCHOOL_REQUIRE_JOIN_TOKEN === '1';
+const JOIN_TOKEN_TTL_SEC = Math.max(60, parseInt(process.env.SCHOOL_JOIN_TOKEN_TTL_SECONDS || '28800', 10) || 28800);
+
+// --- Join token (HMAC) helpers ---
+function base64urlEncode(bufOrStr) {
+  const buf = Buffer.isBuffer(bufOrStr) ? bufOrStr : Buffer.from(String(bufOrStr), 'utf8');
+  return buf.toString('base64').replace(/\+/g, '-').replace(/\//g, '_').replace(/=+$/, '');
+}
+
+function base64urlDecode(str) {
+  const padded = String(str).replace(/-/g, '+').replace(/_/g, '/') + '==='.slice(0, (4 - String(str).replace(/-/g, '+').replace(/_/g, '/').length % 4) % 4);
+  return Buffer.from(padded, 'base64');
+}
+
+function joinTokenSign(payloadB64) {
+  if (!JOIN_TOKEN_SECRET) return '';
+  const hmac = crypto.createHmac('sha256', JOIN_TOKEN_SECRET);
+  hmac.update(payloadB64);
+  return base64urlEncode(hmac.digest());
+}
+
+function joinTokenVerify(token) {
+  if (!token || typeof token !== 'string') return { valid: false, error: 'invalid_token' };
+  const parts = token.trim().split('.');
+  if (parts.length !== 2 || !parts[0] || !parts[1]) return { valid: false, error: 'invalid_token' };
+  const [payloadB64, sigB64] = parts;
+  const expectedSig = joinTokenSign(payloadB64);
+  if (!expectedSig) return { valid: false, error: 'invalid_token' };
+  try {
+    const receivedBuf = base64urlDecode(sigB64);
+    const expectedBuf = base64urlDecode(expectedSig);
+    if (receivedBuf.length !== expectedBuf.length) return { valid: false, error: 'invalid_token' };
+    if (!crypto.timingSafeEqual(expectedBuf, receivedBuf)) return { valid: false, error: 'invalid_token' };
+  } catch {
+    return { valid: false, error: 'invalid_token' };
+  }
+  let payload;
+  try {
+    payload = JSON.parse(base64urlDecode(payloadB64).toString('utf8'));
+  } catch {
+    return { valid: false, error: 'invalid_token' };
+  }
+  if (!payload || typeof payload.eventId !== 'string' || typeof payload.exp !== 'number') {
+    return { valid: false, error: 'invalid_token' };
+  }
+  const nowSec = Math.floor(Date.now() / 1000);
+  if (payload.exp < nowSec) return { valid: false, error: 'expired_token' };
+  return { valid: true, payload };
+}
+
+function isAllowedOrigin(origin) {
+  if (!origin) return true; // non-browser (curl, Postman)
+  return ALLOWED_ORIGINS.includes(origin);
+}
+
+// in-memory sessions: token -> expiresAt (timestamp)
+const sessions = new Map();
+const RATE_LIMIT_WINDOW_MS = 60 * 1000;
+const RATE_LIMIT_MAX = 10;
+const loginAttempts = new Map();
+
+function getClientIp(req) {
+  return req.headers['x-forwarded-for']?.split(',')[0]?.trim() || req.socket?.remoteAddress || 'unknown';
+}
+
+function checkRateLimit(ip) {
+  const now = Date.now();
+  let rec = loginAttempts.get(ip);
+  if (!rec) {
+    loginAttempts.set(ip, { count: 1, resetAt: now + RATE_LIMIT_WINDOW_MS });
+    return true;
+  }
+  if (now >= rec.resetAt) {
+    rec = { count: 1, resetAt: now + RATE_LIMIT_WINDOW_MS };
+    loginAttempts.set(ip, rec);
+    return true;
+  }
+  rec.count++;
+  return rec.count <= RATE_LIMIT_MAX;
+}
+
+function newToken() {
+  return crypto.randomBytes(24).toString('hex');
+}
+
+const isSecure = process.env.NODE_ENV === 'production';
+
+function setSessionCookie(res, token) {
+  res.cookie(COOKIE_NAME, token, {
+    httpOnly: true,
+    sameSite: 'lax',
+    secure: isSecure,
+    path: SCHOOL_BASE,
+    maxAge: TTL_MS,
+  });
+}
+
+function clearSessionCookie(res) {
+  res.cookie(COOKIE_NAME, '', {
+    httpOnly: true,
+    sameSite: 'lax',
+    secure: isSecure,
+    path: SCHOOL_BASE,
+    maxAge: 0,
+  });
+}
+
+function requireAdmin(req, res, next) {
+  const token = req.cookies?.[COOKIE_NAME];
+  if (!token) return res.status(401).json({ ok: false });
+  const exp = sessions.get(token);
+  if (!exp || exp < Date.now()) {
+    sessions.delete(token);
+    return res.status(401).json({ ok: false });
+  }
+  req.adminRole = 'admin';
+  req.sessionExpiresAt = exp;
+  next();
+}
+
+app.use(
+  cors({
+    credentials: true,
+    origin: (origin, callback) => {
+      if (isAllowedOrigin(origin)) return callback(null, true);
+      callback(new Error('CORS_NOT_ALLOWED'), false);
+    },
+    allowedHeaders: ['Content-Type', 'Accept'],
+    methods: ['GET', 'POST', 'PATCH', 'OPTIONS'],
+  })
+);
+app.use(express.json());
+app.use(cookieParser());
+
+const schoolRouter = express.Router({ mergeParams: true });
+
+// POST /school/auth/login — 8-digit numeric passcode only
+schoolRouter.post('/auth/login', (req, res) => {
+  const ip = getClientIp(req);
+  if (!checkRateLimit(ip)) {
+    return res.status(429).json({ ok: false, error: 'invalid_passcode' });
+  }
+  const passcode = String(req.body?.passcode ?? '').trim();
+  if (!PASS_RE.test(passcode)) {
+    return res.status(401).json({ ok: false, error: 'invalid_passcode' });
+  }
+  if (passcode !== PASSCODE) {
+    return res.status(401).json({ ok: false, error: 'invalid_passcode' });
+  }
+  const token = newToken();
+  const exp = Date.now() + TTL_MS;
+  sessions.set(token, exp);
+  setSessionCookie(res, token);
+  res.status(200).json({ ok: true, role: 'admin', expiresAt: new Date(exp).toISOString() });
+});
+
+// POST /school/auth/logout
+schoolRouter.post('/auth/logout', (req, res) => {
+  const token = req.cookies?.[COOKIE_NAME];
+  if (token) sessions.delete(token);
+  clearSessionCookie(res);
+  res.status(200).json({ ok: true });
+});
+
+// GET /school/me
+schoolRouter.get('/me', (req, res) => {
+  const token = req.cookies?.[COOKIE_NAME];
+  const exp = token ? sessions.get(token) : undefined;
+  if (!exp || exp < Date.now()) {
+    if (token) sessions.delete(token);
+    return res.status(401).json({ ok: false });
+  }
+  res.status(200).json({ ok: true, role: 'admin', expiresAt: new Date(exp).toISOString() });
+});
+
+// --- Events (in-memory, load/save from disk) ---
+const STATUS_ALLOWED = ['draft', 'active', 'closed'];
+const STATE_MAP = { draft: 'draft', active: 'published', closed: 'ended' };
+const STATE_TO_STATUS = { draft: 'draft', published: 'active', ended: 'closed' };
+
+ensureDir(DATA_DIR);
+const loadedEventList = loadEvents();
+const events = new Map(loadedEventList.map((e) => [e.id, e]));
+
+function seedEvents() {
+  if (events.size > 0) return;
+  const now = new Date().toISOString();
+  [
+    { id: 'evt-001', title: '地域清掃ボランティア', datetime: '2026/02/02 09:00-10:30', host: '生徒会', status: 'active', rtCount: 23, totalCount: 58, createdAt: now, updatedAt: now },
+    { id: 'evt-002', title: '進路説明会', datetime: '2026/02/10 15:00-16:00', host: '進路指導室', status: 'draft', rtCount: 8, totalCount: 8, createdAt: now, updatedAt: now },
+    { id: 'evt-003', title: '体育祭', datetime: '2026/02/15 09:00-15:00', host: '体育委員会', status: 'active', rtCount: 0, totalCount: 120, createdAt: now, updatedAt: now },
+  ].forEach((e) => events.set(e.id, { ...e }));
+}
+seedEvents();
+if (events.size > 0 && loadedEventList.length === 0) {
+  saveEvents(Array.from(events.values())).catch((err) => {
+    if (process.env.NODE_ENV !== 'production') console.error('[storage] initial save events', err);
+  });
+}
+
+function toClientEvent(e) {
+  if (!e) return null;
+  const status = e.status || (e.state === 'published' || e.state === 'ended' ? (e.state === 'ended' ? 'closed' : 'active') : 'draft');
+  return {
+    id: e.id,
+    title: e.title,
+    datetime: e.datetime || '',
+    host: e.host || '',
+    state: STATE_MAP[status] || e.state || 'draft',
+    rtCount: e.rtCount ?? 0,
+    totalCount: e.totalCount ?? 0,
+    createdAt: e.createdAt,
+    updatedAt: e.updatedAt,
+  };
+}
+
+// GET /school/events
+schoolRouter.get('/events', requireAdmin, (req, res) => {
+  const list = Array.from(events.values()).sort((a, b) => (b.createdAt || '').localeCompare(a.createdAt || ''));
+  res.status(200).json({ ok: true, events: list.map(toClientEvent) });
+});
+
+// POST /school/events
+schoolRouter.post('/events', requireAdmin, async (req, res) => {
+  const body = req.body || {};
+  const title = typeof body.title === 'string' ? body.title.trim() : '';
+  if (!title) return res.status(400).json({ ok: false, error: 'title required' });
+
+  const rawStatus = body.status || body.state || 'draft';
+  const status = STATUS_ALLOWED.includes(rawStatus) ? rawStatus : STATE_TO_STATUS[rawStatus] || 'draft';
+  const now = new Date().toISOString();
+  const id = 'evt-' + Date.now().toString(36);
+  let datetime = typeof body.datetime === 'string' ? body.datetime.trim() : '';
+  if (!datetime && body.date && body.time) datetime = [String(body.date).trim(), String(body.time).trim()].join(' ');
+  const event = {
+    id,
+    title,
+    datetime: datetime || '',
+    host: typeof body.host === 'string' ? body.host.trim() : '',
+    category: typeof body.category === 'string' ? body.category.trim() : '',
+    status,
+    rtCount: 0,
+    totalCount: Number(body.totalCount) || 0,
+    createdAt: now,
+    updatedAt: now,
+  };
+  events.set(id, event);
+  if (process.env.NODE_ENV !== 'production') console.log('[events] created', id, title);
+  try {
+    await saveEvents(Array.from(events.values()));
+  } catch (err) {
+    if (process.env.NODE_ENV !== 'production') console.error('[storage] save events', err);
+    return res.status(500).json({ ok: false, error: 'save_failed' });
+  }
+  res.status(201).json({ ok: true, event: toClientEvent(event) });
+});
+
+// GET /school/events/:id
+schoolRouter.get('/events/:id', requireAdmin, (req, res) => {
+  const event = events.get(req.params.id);
+  if (!event) return res.status(404).json({ ok: false, error: 'not_found' });
+  res.status(200).json({ ok: true, event: toClientEvent(event) });
+});
+
+// PATCH /school/events/:id
+schoolRouter.patch('/events/:id', requireAdmin, async (req, res) => {
+  const event = events.get(req.params.id);
+  if (!event) return res.status(404).json({ ok: false, error: 'not_found' });
+  const patch = req.body || {};
+  const allowed = ['title', 'datetime', 'host', 'category', 'status', 'state', 'totalCount'];
+  const now = new Date().toISOString();
+  allowed.forEach((key) => {
+    if (patch[key] !== undefined) {
+      if (key === 'status') event.status = STATUS_ALLOWED.includes(patch[key]) ? patch[key] : event.status;
+      else if (key === 'state') event.status = STATE_TO_STATUS[patch[key]] || event.status;
+      else if (key === 'title') event.title = typeof patch[key] === 'string' ? patch[key].trim() : event.title;
+      else if (key === 'datetime') event.datetime = String(patch[key]);
+      else if (key === 'host') event.host = String(patch[key]);
+      else if (key === 'category') event.category = String(patch[key]);
+      else if (key === 'totalCount') event.totalCount = Number(patch[key]) || 0;
+    }
+  });
+  event.updatedAt = now;
+  if (process.env.NODE_ENV !== 'production') console.log('[events] updated', event.id);
+  try {
+    await saveEvents(Array.from(events.values()));
+  } catch (err) {
+    if (process.env.NODE_ENV !== 'production') console.error('[storage] save events', err);
+    return res.status(500).json({ ok: false, error: 'save_failed' });
+  }
+  res.status(200).json({ ok: true, event: toClientEvent(event) });
+});
+
+// POST /school/events/:id/join-token — mint signed join token (requireAdmin)
+schoolRouter.post('/events/:id/join-token', requireAdmin, (req, res) => {
+  const event = events.get(req.params.id);
+  if (!event) return res.status(404).json({ ok: false, error: 'not_found' });
+  if (!JOIN_TOKEN_SECRET) return res.status(503).json({ ok: false, error: 'join_token_not_configured' });
+  const ttlSec = Math.min(86400 * 7, Math.max(60, parseInt(req.body?.ttlSeconds, 10) || JOIN_TOKEN_TTL_SEC));
+  const nowSec = Math.floor(Date.now() / 1000);
+  const exp = nowSec + ttlSec;
+  const nonce = crypto.randomBytes(8).toString('hex');
+  const payload = { eventId: event.id, exp, nonce };
+  const payloadB64 = base64urlEncode(JSON.stringify(payload));
+  const sigB64 = joinTokenSign(payloadB64);
+  const token = `${payloadB64}.${sigB64}`;
+  res.status(200).json({ ok: true, token, exp });
+});
+
+// --- Participations (in-memory, load/save from disk) ---
+// Participation = { recordId, eventId, studentId?, recordedAt, source?, grade?, displayName?, studentCodeMasked? }
+const participations = loadParticipations();
+const SOURCES = ['manual', 'scan', 'api'];
+
+function newRecordId(eventId) {
+  const ts = Date.now().toString(36);
+  const rand = crypto.randomBytes(4).toString('hex');
+  return `rec-${eventId}-${ts}-${rand}`;
+}
+
+function pairKey(studentId, eventId) {
+  return `${String(studentId).trim()}::${String(eventId).trim()}`;
+}
+
+// POST /school/claim — student join (NO requireAdmin). Idempotent by (studentId, eventId). Optional token verification.
+schoolRouter.post('/claim', async (req, res) => {
+  const body = req.body || {};
+  const eventId = typeof body.eventId === 'string' ? body.eventId.trim() : '';
+  const studentId = typeof body.studentId === 'string' ? body.studentId.trim() : '';
+  if (!eventId || !studentId) {
+    return res.status(400).json({ ok: false, error: 'invalid_request' });
+  }
+  const token = typeof body.token === 'string' ? body.token.trim() : '';
+  if (REQUIRE_JOIN_TOKEN && !token) {
+    return res.status(401).json({ ok: false, error: 'invalid_token' });
+  }
+  if (token) {
+    const v = joinTokenVerify(token);
+    if (!v.valid) {
+      return res.status(401).json({ ok: false, error: v.error });
+    }
+    if (v.payload.eventId !== eventId) {
+      return res.status(401).json({ ok: false, error: 'invalid_token' });
+    }
+  }
+  const grade = body.grade != null ? Number(body.grade) : undefined;
+  if (grade != null && (Number.isNaN(grade) || grade < 1 || grade > 12)) {
+    return res.status(400).json({ ok: false, error: 'invalid_request' });
+  }
+  const key = pairKey(studentId, eventId);
+  const existing = participations.find((p) => p.studentId === studentId && p.eventId === eventId);
+  if (existing) {
+    if (process.env.NODE_ENV !== 'production') console.log('[claim] existing', key, 'created:false');
+    return res.status(200).json({ ok: true, created: false, participation: existing });
+  }
+  const recordedAt = new Date().toISOString();
+  const recordId = newRecordId(eventId);
+  const source = SOURCES.includes(body.source) ? body.source : 'scan';
+  const participation = {
+    recordId,
+    eventId,
+    studentId,
+    recordedAt,
+    source,
+    grade: grade != null ? grade : undefined,
+    displayName: typeof body.displayName === 'string' ? body.displayName.trim() : undefined,
+    studentCodeMasked: typeof body.studentCodeMasked === 'string' ? body.studentCodeMasked.trim() : undefined,
+  };
+  participations.push(participation);
+  if (process.env.NODE_ENV !== 'production') console.log('[claim] created', key, 'created:true');
+  try {
+    await saveParticipations(participations);
+  } catch (err) {
+    if (process.env.NODE_ENV !== 'production') console.error('[storage] save participations', err);
+    return res.status(500).json({ ok: false, error: 'save_failed' });
+  }
+  res.status(201).json({ ok: true, created: true, participation });
+});
+
+// GET /school/participations?eventId=...
+schoolRouter.get('/participations', requireAdmin, (req, res) => {
+  const eventId = typeof req.query.eventId === 'string' ? req.query.eventId.trim() : '';
+  let list = participations;
+  if (eventId) list = participations.filter((p) => p.eventId === eventId);
+  list = [...list].sort((a, b) => (b.recordedAt || '').localeCompare(a.recordedAt || ''));
+  res.status(200).json({ ok: true, participations: list });
+});
+
+// POST /school/participations
+schoolRouter.post('/participations', requireAdmin, async (req, res) => {
+  const body = req.body || {};
+  const eventId = typeof body.eventId === 'string' ? body.eventId.trim() : '';
+  if (!eventId) return res.status(400).json({ ok: false, error: 'eventId required' });
+
+  const grade = body.grade != null ? Number(body.grade) : undefined;
+  if (grade != null && (Number.isNaN(grade) || grade < 1 || grade > 12)) {
+    return res.status(400).json({ ok: false, error: 'grade must be 1..12' });
+  }
+
+  const recordedAt = typeof body.recordedAt === 'string' && body.recordedAt.trim()
+    ? body.recordedAt.trim()
+    : new Date().toISOString();
+  const recordId = newRecordId(eventId);
+  const participation = {
+    recordId,
+    eventId,
+    studentId: typeof body.studentId === 'string' ? body.studentId.trim() : undefined,
+    recordedAt,
+    source: SOURCES.includes(body.source) ? body.source : undefined,
+    grade: grade != null ? grade : undefined,
+    displayName: typeof body.displayName === 'string' ? body.displayName.trim() : undefined,
+    studentCodeMasked: typeof body.studentCodeMasked === 'string' ? body.studentCodeMasked.trim() : undefined,
+  };
+  participations.push(participation);
+  if (process.env.NODE_ENV !== 'production') console.log('[participations] created', recordId, eventId);
+  try {
+    await saveParticipations(participations);
+  } catch (err) {
+    if (process.env.NODE_ENV !== 'production') console.error('[storage] save participations', err);
+    return res.status(500).json({ ok: false, error: 'save_failed' });
+  }
+  res.status(201).json({ ok: true, participation });
+});
+
+app.use(SCHOOL_BASE, schoolRouter);
+
+app.listen(PORT, () => {
+  console.log(`School API at http://localhost:${PORT}${SCHOOL_BASE}`);
+  console.log(`CORS allowed origins: ${ALLOWED_ORIGINS.join(', ')}`);
+  console.log(`Data dir: ${DATA_DIR}`);
+});
diff --git a/wene-mobile/server/package-lock.json b/wene-mobile/server/package-lock.json
new file mode 100644
index 0000000..2defcb1
--- /dev/null
+++ b/wene-mobile/server/package-lock.json
@@ -0,0 +1,868 @@
+{
+  "name": "wene-school-api",
+  "version": "1.0.0",
+  "lockfileVersion": 3,
+  "requires": true,
+  "packages": {
+    "": {
+      "name": "wene-school-api",
+      "version": "1.0.0",
+      "dependencies": {
+        "cookie-parser": "^1.4.6",
+        "cors": "^2.8.5",
+        "express": "^4.21.0"
+      }
+    },
+    "node_modules/accepts": {
+      "version": "1.3.8",
+      "resolved": "https://registry.npmjs.org/accepts/-/accepts-1.3.8.tgz",
+      "integrity": "sha512-PYAthTa2m2VKxuvSD3DPC/Gy+U+sOA1LAuT8mkmRuvw+NACSaeXEQ+NHcVF7rONl6qcaxV3Uuemwawk+7+SJLw==",
+      "license": "MIT",
+      "dependencies": {
+        "mime-types": "~2.1.34",
+        "negotiator": "0.6.3"
+      },
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/array-flatten": {
+      "version": "1.1.1",
+      "resolved": "https://registry.npmjs.org/array-flatten/-/array-flatten-1.1.1.tgz",
+      "integrity": "sha512-PCVAQswWemu6UdxsDFFX/+gVeYqKAod3D3UVm91jHwynguOwAvYPhx8nNlM++NqRcK6CxxpUafjmhIdKiHibqg==",
+      "license": "MIT"
+    },
+    "node_modules/body-parser": {
+      "version": "1.20.4",
+      "resolved": "https://registry.npmjs.org/body-parser/-/body-parser-1.20.4.tgz",
+      "integrity": "sha512-ZTgYYLMOXY9qKU/57FAo8F+HA2dGX7bqGc71txDRC1rS4frdFI5R7NhluHxH6M0YItAP0sHB4uqAOcYKxO6uGA==",
+      "license": "MIT",
+      "dependencies": {
+        "bytes": "~3.1.2",
+        "content-type": "~1.0.5",
+        "debug": "2.6.9",
+        "depd": "2.0.0",
+        "destroy": "~1.2.0",
+        "http-errors": "~2.0.1",
+        "iconv-lite": "~0.4.24",
+        "on-finished": "~2.4.1",
+        "qs": "~6.14.0",
+        "raw-body": "~2.5.3",
+        "type-is": "~1.6.18",
+        "unpipe": "~1.0.0"
+      },
+      "engines": {
+        "node": ">= 0.8",
+        "npm": "1.2.8000 || >= 1.4.16"
+      }
+    },
+    "node_modules/bytes": {
+      "version": "3.1.2",
+      "resolved": "https://registry.npmjs.org/bytes/-/bytes-3.1.2.tgz",
+      "integrity": "sha512-/Nf7TyzTx6S3yRJObOAV7956r8cr2+Oj8AC5dt8wSP3BQAoeX58NoHyCU8P8zGkNXStjTSi6fzO6F0pBdcYbEg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/call-bind-apply-helpers": {
+      "version": "1.0.2",
+      "resolved": "https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz",
+      "integrity": "sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==",
+      "license": "MIT",
+      "dependencies": {
+        "es-errors": "^1.3.0",
+        "function-bind": "^1.1.2"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/call-bound": {
+      "version": "1.0.4",
+      "resolved": "https://registry.npmjs.org/call-bound/-/call-bound-1.0.4.tgz",
+      "integrity": "sha512-+ys997U96po4Kx/ABpBCqhA9EuxJaQWDQg7295H4hBphv3IZg0boBKuwYpt4YXp6MZ5AmZQnU/tyMTlRpaSejg==",
+      "license": "MIT",
+      "dependencies": {
+        "call-bind-apply-helpers": "^1.0.2",
+        "get-intrinsic": "^1.3.0"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/content-disposition": {
+      "version": "0.5.4",
+      "resolved": "https://registry.npmjs.org/content-disposition/-/content-disposition-0.5.4.tgz",
+      "integrity": "sha512-FveZTNuGw04cxlAiWbzi6zTAL/lhehaWbTtgluJh4/E95DqMwTmha3KZN1aAWA8cFIhHzMZUvLevkw5Rqk+tSQ==",
+      "license": "MIT",
+      "dependencies": {
+        "safe-buffer": "5.2.1"
+      },
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/content-type": {
+      "version": "1.0.5",
+      "resolved": "https://registry.npmjs.org/content-type/-/content-type-1.0.5.tgz",
+      "integrity": "sha512-nTjqfcBFEipKdXCv4YDQWCfmcLZKm81ldF0pAopTvyrFGVbcR6P/VAAd5G7N+0tTr8QqiU0tFadD6FK4NtJwOA==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/cookie": {
+      "version": "0.7.2",
+      "resolved": "https://registry.npmjs.org/cookie/-/cookie-0.7.2.tgz",
+      "integrity": "sha512-yki5XnKuf750l50uGTllt6kKILY4nQ1eNIQatoXEByZ5dWgnKqbnqmTrBE5B4N7lrMJKQ2ytWMiTO2o0v6Ew/w==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/cookie-parser": {
+      "version": "1.4.7",
+      "resolved": "https://registry.npmjs.org/cookie-parser/-/cookie-parser-1.4.7.tgz",
+      "integrity": "sha512-nGUvgXnotP3BsjiLX2ypbQnWoGUPIIfHQNZkkC668ntrzGWEZVW70HDEB1qnNGMicPje6EttlIgzo51YSwNQGw==",
+      "license": "MIT",
+      "dependencies": {
+        "cookie": "0.7.2",
+        "cookie-signature": "1.0.6"
+      },
+      "engines": {
+        "node": ">= 0.8.0"
+      }
+    },
+    "node_modules/cookie-signature": {
+      "version": "1.0.6",
+      "resolved": "https://registry.npmjs.org/cookie-signature/-/cookie-signature-1.0.6.tgz",
+      "integrity": "sha512-QADzlaHc8icV8I7vbaJXJwod9HWYp8uCqf1xa4OfNu1T7JVxQIrUgOWtHdNDtPiywmFbiS12VjotIXLrKM3orQ==",
+      "license": "MIT"
+    },
+    "node_modules/cors": {
+      "version": "2.8.6",
+      "resolved": "https://registry.npmjs.org/cors/-/cors-2.8.6.tgz",
+      "integrity": "sha512-tJtZBBHA6vjIAaF6EnIaq6laBBP9aq/Y3ouVJjEfoHbRBcHBAHYcMh/w8LDrk2PvIMMq8gmopa5D4V8RmbrxGw==",
+      "license": "MIT",
+      "dependencies": {
+        "object-assign": "^4",
+        "vary": "^1"
+      },
+      "engines": {
+        "node": ">= 0.10"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/express"
+      }
+    },
+    "node_modules/debug": {
+      "version": "2.6.9",
+      "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
+      "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
+      "license": "MIT",
+      "dependencies": {
+        "ms": "2.0.0"
+      }
+    },
+    "node_modules/depd": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/depd/-/depd-2.0.0.tgz",
+      "integrity": "sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/destroy": {
+      "version": "1.2.0",
+      "resolved": "https://registry.npmjs.org/destroy/-/destroy-1.2.0.tgz",
+      "integrity": "sha512-2sJGJTaXIIaR1w4iJSNoN0hnMY7Gpc/n8D4qSCJw8QqFWXf7cuAgnEHxBpweaVcPevC2l3KpjYCx3NypQQgaJg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8",
+        "npm": "1.2.8000 || >= 1.4.16"
+      }
+    },
+    "node_modules/dunder-proto": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
+      "integrity": "sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==",
+      "license": "MIT",
+      "dependencies": {
+        "call-bind-apply-helpers": "^1.0.1",
+        "es-errors": "^1.3.0",
+        "gopd": "^1.2.0"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/ee-first": {
+      "version": "1.1.1",
+      "resolved": "https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz",
+      "integrity": "sha512-WMwm9LhRUo+WUaRN+vRuETqG89IgZphVSNkdFgeb6sS/E4OrDIN7t48CAewSHXc6C8lefD8KKfr5vY61brQlow==",
+      "license": "MIT"
+    },
+    "node_modules/encodeurl": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-2.0.0.tgz",
+      "integrity": "sha512-Q0n9HRi4m6JuGIV1eFlmvJB7ZEVxu93IrMyiMsGC0lrMJMWzRgx6WGquyfQgZVb31vhGgXnfmPNNXmxnOkRBrg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/es-define-property": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
+      "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/es-errors": {
+      "version": "1.3.0",
+      "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
+      "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/es-object-atoms": {
+      "version": "1.1.1",
+      "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
+      "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
+      "license": "MIT",
+      "dependencies": {
+        "es-errors": "^1.3.0"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/escape-html": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz",
+      "integrity": "sha512-NiSupZ4OeuGwr68lGIeym/ksIZMJodUGOSCZ/FSnTxcrekbvqrgdUxlJOMpijaKZVjAJrWrGs/6Jy8OMuyj9ow==",
+      "license": "MIT"
+    },
+    "node_modules/etag": {
+      "version": "1.8.1",
+      "resolved": "https://registry.npmjs.org/etag/-/etag-1.8.1.tgz",
+      "integrity": "sha512-aIL5Fx7mawVa300al2BnEE4iNvo1qETxLrPI/o05L7z6go7fCw1J6EQmbK4FmJ2AS7kgVF/KEZWufBfdClMcPg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/express": {
+      "version": "4.22.1",
+      "resolved": "https://registry.npmjs.org/express/-/express-4.22.1.tgz",
+      "integrity": "sha512-F2X8g9P1X7uCPZMA3MVf9wcTqlyNp7IhH5qPCI0izhaOIYXaW9L535tGA3qmjRzpH+bZczqq7hVKxTR4NWnu+g==",
+      "license": "MIT",
+      "dependencies": {
+        "accepts": "~1.3.8",
+        "array-flatten": "1.1.1",
+        "body-parser": "~1.20.3",
+        "content-disposition": "~0.5.4",
+        "content-type": "~1.0.4",
+        "cookie": "~0.7.1",
+        "cookie-signature": "~1.0.6",
+        "debug": "2.6.9",
+        "depd": "2.0.0",
+        "encodeurl": "~2.0.0",
+        "escape-html": "~1.0.3",
+        "etag": "~1.8.1",
+        "finalhandler": "~1.3.1",
+        "fresh": "~0.5.2",
+        "http-errors": "~2.0.0",
+        "merge-descriptors": "1.0.3",
+        "methods": "~1.1.2",
+        "on-finished": "~2.4.1",
+        "parseurl": "~1.3.3",
+        "path-to-regexp": "~0.1.12",
+        "proxy-addr": "~2.0.7",
+        "qs": "~6.14.0",
+        "range-parser": "~1.2.1",
+        "safe-buffer": "5.2.1",
+        "send": "~0.19.0",
+        "serve-static": "~1.16.2",
+        "setprototypeof": "1.2.0",
+        "statuses": "~2.0.1",
+        "type-is": "~1.6.18",
+        "utils-merge": "1.0.1",
+        "vary": "~1.1.2"
+      },
+      "engines": {
+        "node": ">= 0.10.0"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/express"
+      }
+    },
+    "node_modules/finalhandler": {
+      "version": "1.3.2",
+      "resolved": "https://registry.npmjs.org/finalhandler/-/finalhandler-1.3.2.tgz",
+      "integrity": "sha512-aA4RyPcd3badbdABGDuTXCMTtOneUCAYH/gxoYRTZlIJdF0YPWuGqiAsIrhNnnqdXGswYk6dGujem4w80UJFhg==",
+      "license": "MIT",
+      "dependencies": {
+        "debug": "2.6.9",
+        "encodeurl": "~2.0.0",
+        "escape-html": "~1.0.3",
+        "on-finished": "~2.4.1",
+        "parseurl": "~1.3.3",
+        "statuses": "~2.0.2",
+        "unpipe": "~1.0.0"
+      },
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/forwarded": {
+      "version": "0.2.0",
+      "resolved": "https://registry.npmjs.org/forwarded/-/forwarded-0.2.0.tgz",
+      "integrity": "sha512-buRG0fpBtRHSTCOASe6hD258tEubFoRLb4ZNA6NxMVHNw2gOcwHo9wyablzMzOA5z9xA9L1KNjk/Nt6MT9aYow==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/fresh": {
+      "version": "0.5.2",
+      "resolved": "https://registry.npmjs.org/fresh/-/fresh-0.5.2.tgz",
+      "integrity": "sha512-zJ2mQYM18rEFOudeV4GShTGIQ7RbzA7ozbU9I/XBpm7kqgMywgmylMwXHxZJmkVoYkna9d2pVXVXPdYTP9ej8Q==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/function-bind": {
+      "version": "1.1.2",
+      "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
+      "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
+      "license": "MIT",
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/get-intrinsic": {
+      "version": "1.3.0",
+      "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
+      "integrity": "sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==",
+      "license": "MIT",
+      "dependencies": {
+        "call-bind-apply-helpers": "^1.0.2",
+        "es-define-property": "^1.0.1",
+        "es-errors": "^1.3.0",
+        "es-object-atoms": "^1.1.1",
+        "function-bind": "^1.1.2",
+        "get-proto": "^1.0.1",
+        "gopd": "^1.2.0",
+        "has-symbols": "^1.1.0",
+        "hasown": "^2.0.2",
+        "math-intrinsics": "^1.1.0"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/get-proto": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/get-proto/-/get-proto-1.0.1.tgz",
+      "integrity": "sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==",
+      "license": "MIT",
+      "dependencies": {
+        "dunder-proto": "^1.0.1",
+        "es-object-atoms": "^1.0.0"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/gopd": {
+      "version": "1.2.0",
+      "resolved": "https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz",
+      "integrity": "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/has-symbols": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/has-symbols/-/has-symbols-1.1.0.tgz",
+      "integrity": "sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/hasown": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
+      "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
+      "license": "MIT",
+      "dependencies": {
+        "function-bind": "^1.1.2"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/http-errors": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/http-errors/-/http-errors-2.0.1.tgz",
+      "integrity": "sha512-4FbRdAX+bSdmo4AUFuS0WNiPz8NgFt+r8ThgNWmlrjQjt1Q7ZR9+zTlce2859x4KSXrwIsaeTqDoKQmtP8pLmQ==",
+      "license": "MIT",
+      "dependencies": {
+        "depd": "~2.0.0",
+        "inherits": "~2.0.4",
+        "setprototypeof": "~1.2.0",
+        "statuses": "~2.0.2",
+        "toidentifier": "~1.0.1"
+      },
+      "engines": {
+        "node": ">= 0.8"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/express"
+      }
+    },
+    "node_modules/iconv-lite": {
+      "version": "0.4.24",
+      "resolved": "https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.4.24.tgz",
+      "integrity": "sha512-v3MXnZAcvnywkTUEZomIActle7RXXeedOR31wwl7VlyoXO4Qi9arvSenNQWne1TcRwhCL1HwLI21bEqdpj8/rA==",
+      "license": "MIT",
+      "dependencies": {
+        "safer-buffer": ">= 2.1.2 < 3"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/inherits": {
+      "version": "2.0.4",
+      "resolved": "https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz",
+      "integrity": "sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==",
+      "license": "ISC"
+    },
+    "node_modules/ipaddr.js": {
+      "version": "1.9.1",
+      "resolved": "https://registry.npmjs.org/ipaddr.js/-/ipaddr.js-1.9.1.tgz",
+      "integrity": "sha512-0KI/607xoxSToH7GjN1FfSbLoU0+btTicjsQSWQlh/hZykN8KpmMf7uYwPW3R+akZ6R/w18ZlXSHBYXiYUPO3g==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.10"
+      }
+    },
+    "node_modules/math-intrinsics": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
+      "integrity": "sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/media-typer": {
+      "version": "0.3.0",
+      "resolved": "https://registry.npmjs.org/media-typer/-/media-typer-0.3.0.tgz",
+      "integrity": "sha512-dq+qelQ9akHpcOl/gUVRTxVIOkAJ1wR3QAvb4RsVjS8oVoFjDGTc679wJYmUmknUF5HwMLOgb5O+a3KxfWapPQ==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/merge-descriptors": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/merge-descriptors/-/merge-descriptors-1.0.3.tgz",
+      "integrity": "sha512-gaNvAS7TZ897/rVaZ0nMtAyxNyi/pdbjbAwUpFQpN70GqnVfOiXpeUUMKRBmzXaSQ8DdTX4/0ms62r2K+hE6mQ==",
+      "license": "MIT",
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/methods": {
+      "version": "1.1.2",
+      "resolved": "https://registry.npmjs.org/methods/-/methods-1.1.2.tgz",
+      "integrity": "sha512-iclAHeNqNm68zFtnZ0e+1L2yUIdvzNoauKU4WBA3VvH/vPFieF7qfRlwUZU+DA9P9bPXIS90ulxoUoCH23sV2w==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/mime": {
+      "version": "1.6.0",
+      "resolved": "https://registry.npmjs.org/mime/-/mime-1.6.0.tgz",
+      "integrity": "sha512-x0Vn8spI+wuJ1O6S7gnbaQg8Pxh4NNHb7KSINmEWKiPE4RKOplvijn+NkmYmmRgP68mc70j2EbeTFRsrswaQeg==",
+      "license": "MIT",
+      "bin": {
+        "mime": "cli.js"
+      },
+      "engines": {
+        "node": ">=4"
+      }
+    },
+    "node_modules/mime-db": {
+      "version": "1.52.0",
+      "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
+      "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/mime-types": {
+      "version": "2.1.35",
+      "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
+      "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
+      "license": "MIT",
+      "dependencies": {
+        "mime-db": "1.52.0"
+      },
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/ms": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
+      "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
+      "license": "MIT"
+    },
+    "node_modules/negotiator": {
+      "version": "0.6.3",
+      "resolved": "https://registry.npmjs.org/negotiator/-/negotiator-0.6.3.tgz",
+      "integrity": "sha512-+EUsqGPLsM+j/zdChZjsnX51g4XrHFOIXwfnCVPGlQk/k5giakcKsuxCObBRu6DSm9opw/O6slWbJdghQM4bBg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/object-assign": {
+      "version": "4.1.1",
+      "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
+      "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/object-inspect": {
+      "version": "1.13.4",
+      "resolved": "https://registry.npmjs.org/object-inspect/-/object-inspect-1.13.4.tgz",
+      "integrity": "sha512-W67iLl4J2EXEGTbfeHCffrjDfitvLANg0UlX3wFUUSTx92KXRFegMHUVgSqE+wvhAbi4WqjGg9czysTV2Epbew==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/on-finished": {
+      "version": "2.4.1",
+      "resolved": "https://registry.npmjs.org/on-finished/-/on-finished-2.4.1.tgz",
+      "integrity": "sha512-oVlzkg3ENAhCk2zdv7IJwd/QUD4z2RxRwpkcGY8psCVcCYZNq4wYnVWALHM+brtuJjePWiYF/ClmuDr8Ch5+kg==",
+      "license": "MIT",
+      "dependencies": {
+        "ee-first": "1.1.1"
+      },
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/parseurl": {
+      "version": "1.3.3",
+      "resolved": "https://registry.npmjs.org/parseurl/-/parseurl-1.3.3.tgz",
+      "integrity": "sha512-CiyeOxFT/JZyN5m0z9PfXw4SCBJ6Sygz1Dpl0wqjlhDEGGBP1GnsUVEL0p63hoG1fcj3fHynXi9NYO4nWOL+qQ==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/path-to-regexp": {
+      "version": "0.1.12",
+      "resolved": "https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-0.1.12.tgz",
+      "integrity": "sha512-RA1GjUVMnvYFxuqovrEqZoxxW5NUZqbwKtYz/Tt7nXerk0LbLblQmrsgdeOxV5SFHf0UDggjS/bSeOZwt1pmEQ==",
+      "license": "MIT"
+    },
+    "node_modules/proxy-addr": {
+      "version": "2.0.7",
+      "resolved": "https://registry.npmjs.org/proxy-addr/-/proxy-addr-2.0.7.tgz",
+      "integrity": "sha512-llQsMLSUDUPT44jdrU/O37qlnifitDP+ZwrmmZcoSKyLKvtZxpyV0n2/bD/N4tBAAZ/gJEdZU7KMraoK1+XYAg==",
+      "license": "MIT",
+      "dependencies": {
+        "forwarded": "0.2.0",
+        "ipaddr.js": "1.9.1"
+      },
+      "engines": {
+        "node": ">= 0.10"
+      }
+    },
+    "node_modules/qs": {
+      "version": "6.14.1",
+      "resolved": "https://registry.npmjs.org/qs/-/qs-6.14.1.tgz",
+      "integrity": "sha512-4EK3+xJl8Ts67nLYNwqw/dsFVnCf+qR7RgXSK9jEEm9unao3njwMDdmsdvoKBKHzxd7tCYz5e5M+SnMjdtXGQQ==",
+      "license": "BSD-3-Clause",
+      "dependencies": {
+        "side-channel": "^1.1.0"
+      },
+      "engines": {
+        "node": ">=0.6"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/range-parser": {
+      "version": "1.2.1",
+      "resolved": "https://registry.npmjs.org/range-parser/-/range-parser-1.2.1.tgz",
+      "integrity": "sha512-Hrgsx+orqoygnmhFbKaHE6c296J+HTAQXoxEF6gNupROmmGJRoyzfG3ccAveqCBrwr/2yxQ5BVd/GTl5agOwSg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/raw-body": {
+      "version": "2.5.3",
+      "resolved": "https://registry.npmjs.org/raw-body/-/raw-body-2.5.3.tgz",
+      "integrity": "sha512-s4VSOf6yN0rvbRZGxs8Om5CWj6seneMwK3oDb4lWDH0UPhWcxwOWw5+qk24bxq87szX1ydrwylIOp2uG1ojUpA==",
+      "license": "MIT",
+      "dependencies": {
+        "bytes": "~3.1.2",
+        "http-errors": "~2.0.1",
+        "iconv-lite": "~0.4.24",
+        "unpipe": "~1.0.0"
+      },
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/safe-buffer": {
+      "version": "5.2.1",
+      "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.2.1.tgz",
+      "integrity": "sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==",
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/feross"
+        },
+        {
+          "type": "patreon",
+          "url": "https://www.patreon.com/feross"
+        },
+        {
+          "type": "consulting",
+          "url": "https://feross.org/support"
+        }
+      ],
+      "license": "MIT"
+    },
+    "node_modules/safer-buffer": {
+      "version": "2.1.2",
+      "resolved": "https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz",
+      "integrity": "sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==",
+      "license": "MIT"
+    },
+    "node_modules/send": {
+      "version": "0.19.2",
+      "resolved": "https://registry.npmjs.org/send/-/send-0.19.2.tgz",
+      "integrity": "sha512-VMbMxbDeehAxpOtWJXlcUS5E8iXh6QmN+BkRX1GARS3wRaXEEgzCcB10gTQazO42tpNIya8xIyNx8fll1OFPrg==",
+      "license": "MIT",
+      "dependencies": {
+        "debug": "2.6.9",
+        "depd": "2.0.0",
+        "destroy": "1.2.0",
+        "encodeurl": "~2.0.0",
+        "escape-html": "~1.0.3",
+        "etag": "~1.8.1",
+        "fresh": "~0.5.2",
+        "http-errors": "~2.0.1",
+        "mime": "1.6.0",
+        "ms": "2.1.3",
+        "on-finished": "~2.4.1",
+        "range-parser": "~1.2.1",
+        "statuses": "~2.0.2"
+      },
+      "engines": {
+        "node": ">= 0.8.0"
+      }
+    },
+    "node_modules/send/node_modules/ms": {
+      "version": "2.1.3",
+      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
+      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
+      "license": "MIT"
+    },
+    "node_modules/serve-static": {
+      "version": "1.16.3",
+      "resolved": "https://registry.npmjs.org/serve-static/-/serve-static-1.16.3.tgz",
+      "integrity": "sha512-x0RTqQel6g5SY7Lg6ZreMmsOzncHFU7nhnRWkKgWuMTu5NN0DR5oruckMqRvacAN9d5w6ARnRBXl9xhDCgfMeA==",
+      "license": "MIT",
+      "dependencies": {
+        "encodeurl": "~2.0.0",
+        "escape-html": "~1.0.3",
+        "parseurl": "~1.3.3",
+        "send": "~0.19.1"
+      },
+      "engines": {
+        "node": ">= 0.8.0"
+      }
+    },
+    "node_modules/setprototypeof": {
+      "version": "1.2.0",
+      "resolved": "https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.2.0.tgz",
+      "integrity": "sha512-E5LDX7Wrp85Kil5bhZv46j8jOeboKq5JMmYM3gVGdGH8xFpPWXUMsNrlODCrkoxMEeNi/XZIwuRvY4XNwYMJpw==",
+      "license": "ISC"
+    },
+    "node_modules/side-channel": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/side-channel/-/side-channel-1.1.0.tgz",
+      "integrity": "sha512-ZX99e6tRweoUXqR+VBrslhda51Nh5MTQwou5tnUDgbtyM0dBgmhEDtWGP/xbKn6hqfPRHujUNwz5fy/wbbhnpw==",
+      "license": "MIT",
+      "dependencies": {
+        "es-errors": "^1.3.0",
+        "object-inspect": "^1.13.3",
+        "side-channel-list": "^1.0.0",
+        "side-channel-map": "^1.0.1",
+        "side-channel-weakmap": "^1.0.2"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/side-channel-list": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/side-channel-list/-/side-channel-list-1.0.0.tgz",
+      "integrity": "sha512-FCLHtRD/gnpCiCHEiJLOwdmFP+wzCmDEkc9y7NsYxeF4u7Btsn1ZuwgwJGxImImHicJArLP4R0yX4c2KCrMrTA==",
+      "license": "MIT",
+      "dependencies": {
+        "es-errors": "^1.3.0",
+        "object-inspect": "^1.13.3"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/side-channel-map": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/side-channel-map/-/side-channel-map-1.0.1.tgz",
+      "integrity": "sha512-VCjCNfgMsby3tTdo02nbjtM/ewra6jPHmpThenkTYh8pG9ucZ/1P8So4u4FGBek/BjpOVsDCMoLA/iuBKIFXRA==",
+      "license": "MIT",
+      "dependencies": {
+        "call-bound": "^1.0.2",
+        "es-errors": "^1.3.0",
+        "get-intrinsic": "^1.2.5",
+        "object-inspect": "^1.13.3"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/side-channel-weakmap": {
+      "version": "1.0.2",
+      "resolved": "https://registry.npmjs.org/side-channel-weakmap/-/side-channel-weakmap-1.0.2.tgz",
+      "integrity": "sha512-WPS/HvHQTYnHisLo9McqBHOJk2FkHO/tlpvldyrnem4aeQp4hai3gythswg6p01oSoTl58rcpiFAjF2br2Ak2A==",
+      "license": "MIT",
+      "dependencies": {
+        "call-bound": "^1.0.2",
+        "es-errors": "^1.3.0",
+        "get-intrinsic": "^1.2.5",
+        "object-inspect": "^1.13.3",
+        "side-channel-map": "^1.0.1"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/statuses": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/statuses/-/statuses-2.0.2.tgz",
+      "integrity": "sha512-DvEy55V3DB7uknRo+4iOGT5fP1slR8wQohVdknigZPMpMstaKJQWhwiYBACJE3Ul2pTnATihhBYnRhZQHGBiRw==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/toidentifier": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/toidentifier/-/toidentifier-1.0.1.tgz",
+      "integrity": "sha512-o5sSPKEkg/DIQNmH43V0/uerLrpzVedkUh8tGNvaeXpfpuwjKenlSox/2O/BTlZUtEe+JG7s5YhEz608PlAHRA==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.6"
+      }
+    },
+    "node_modules/type-is": {
+      "version": "1.6.18",
+      "resolved": "https://registry.npmjs.org/type-is/-/type-is-1.6.18.tgz",
+      "integrity": "sha512-TkRKr9sUTxEH8MdfuCSP7VizJyzRNMjj2J2do2Jr3Kym598JVdEksuzPQCnlFPW4ky9Q+iA+ma9BGm06XQBy8g==",
+      "license": "MIT",
+      "dependencies": {
+        "media-typer": "0.3.0",
+        "mime-types": "~2.1.24"
+      },
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/unpipe": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/unpipe/-/unpipe-1.0.0.tgz",
+      "integrity": "sha512-pjy2bYhSsufwWlKwPc+l3cN7+wuJlK6uz0YdJEOlQDbl6jo/YlPi4mb8agUkVC8BF7V8NuzeyPNqRksA3hztKQ==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/utils-merge": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/utils-merge/-/utils-merge-1.0.1.tgz",
+      "integrity": "sha512-pMZTvIkT1d+TFGvDOqodOclx0QWkkgi6Tdoa8gC8ffGAAqz9pzPTZWAybbsHHoED/ztMtkv/VoYTYyShUn81hA==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.4.0"
+      }
+    },
+    "node_modules/vary": {
+      "version": "1.1.2",
+      "resolved": "https://registry.npmjs.org/vary/-/vary-1.1.2.tgz",
+      "integrity": "sha512-BNGbWLfd0eUPabhkXUVm0j8uuvREyTh5ovRa/dyow/BqAbZJyC+5fU+IzQOzmAKzYqYRAISoRhdQr3eIZ/PXqg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8"
+      }
+    }
+  }
+}
diff --git a/wene-mobile/server/package.json b/wene-mobile/server/package.json
new file mode 100644
index 0000000..2660d5e
--- /dev/null
+++ b/wene-mobile/server/package.json
@@ -0,0 +1,15 @@
+{
+  "name": "wene-school-api",
+  "version": "1.0.0",
+  "description": "School admin API (auth + session) for wene-mobile",
+  "main": "index.js",
+  "scripts": {
+    "start": "node index.js",
+    "dev": "node index.js"
+  },
+  "dependencies": {
+    "cookie-parser": "^1.4.6",
+    "cors": "^2.8.5",
+    "express": "^4.21.0"
+  }
+}
diff --git a/wene-mobile/server/storage.js b/wene-mobile/server/storage.js
new file mode 100644
index 0000000..1958e7d
--- /dev/null
+++ b/wene-mobile/server/storage.js
@@ -0,0 +1,102 @@
+/**
+ * JSON file persistence for events and participations (MVP).
+ * - ensureDir, readJson, writeJsonAtomic
+ * - Serialized writes via queue to avoid concurrent file writes
+ */
+
+const fs = require('fs');
+const path = require('path');
+
+const DATA_DIR = path.resolve(process.cwd(), process.env.SCHOOL_DATA_DIR || './data');
+const EVENTS_FILE = (() => {
+  const v = process.env.SCHOOL_EVENTS_FILE;
+  if (!v) return path.join(DATA_DIR, 'events.json');
+  return path.isAbsolute(v) ? v : path.join(DATA_DIR, v);
+})();
+const PARTICIPATIONS_FILE = (() => {
+  const v = process.env.SCHOOL_PARTICIPATIONS_FILE;
+  if (!v) return path.join(DATA_DIR, 'participations.json');
+  return path.isAbsolute(v) ? v : path.join(DATA_DIR, v);
+})();
+
+function ensureDir(dir) {
+  const d = path.isAbsolute(dir) ? dir : path.resolve(process.cwd(), dir);
+  if (!fs.existsSync(d)) {
+    fs.mkdirSync(d, { recursive: true });
+  }
+}
+
+function readJson(filePath, fallback) {
+  const p = path.isAbsolute(filePath) ? filePath : path.resolve(process.cwd(), filePath);
+  if (!fs.existsSync(p)) return fallback;
+  try {
+    const raw = fs.readFileSync(p, 'utf8');
+    const data = JSON.parse(raw);
+    return data;
+  } catch {
+    return fallback;
+  }
+}
+
+function writeJsonAtomic(filePath, data) {
+  const p = path.isAbsolute(filePath) ? filePath : path.resolve(process.cwd(), filePath);
+  const dir = path.dirname(p);
+  ensureDir(dir);
+  const tmp = p + '.tmp.' + process.pid + '.' + Date.now();
+  fs.writeFileSync(tmp, JSON.stringify(data, null, 2), 'utf8');
+  fs.renameSync(tmp, p);
+}
+
+function createWriteQueue() {
+  let tail = Promise.resolve();
+  return function enqueue(fn) {
+    const next = tail.then(fn).catch((err) => {
+      if (process.env.NODE_ENV !== 'production') console.error('[storage] write error', err);
+    });
+    tail = next;
+    return next;
+  };
+}
+
+const writeQueue = createWriteQueue();
+
+function loadEvents() {
+  ensureDir(DATA_DIR);
+  const list = readJson(EVENTS_FILE, []);
+  return Array.isArray(list) ? list : [];
+}
+
+function saveEvents(events) {
+  const list = Array.isArray(events) ? events : Array.from(events.values ? events.values() : []);
+  return writeQueue(() => {
+    writeJsonAtomic(EVENTS_FILE, list);
+    if (process.env.NODE_ENV !== 'production') console.log('[storage] saved events');
+  });
+}
+
+function loadParticipations() {
+  ensureDir(DATA_DIR);
+  const list = readJson(PARTICIPATIONS_FILE, []);
+  return Array.isArray(list) ? list : [];
+}
+
+function saveParticipations(list) {
+  const arr = Array.isArray(list) ? list : [];
+  return writeQueue(() => {
+    writeJsonAtomic(PARTICIPATIONS_FILE, arr);
+    if (process.env.NODE_ENV !== 'production') console.log('[storage] saved participations');
+  });
+}
+
+module.exports = {
+  ensureDir,
+  readJson,
+  writeJsonAtomic,
+  loadEvents,
+  saveEvents,
+  loadParticipations,
+  saveParticipations,
+  DATA_DIR,
+  EVENTS_FILE,
+  PARTICIPATIONS_FILE,
+};
diff --git a/wene-mobile/src/api/adminApiClient.ts b/wene-mobile/src/api/adminApiClient.ts
new file mode 100644
index 0000000..e7bed7e
--- /dev/null
+++ b/wene-mobile/src/api/adminApiClient.ts
@@ -0,0 +1,310 @@
+/**
+ * 管理者向け API クライアント
+ * EXPO_PUBLIC_SCHOOL_API_URL 設定時はこのクライアントで取得。未設定時は呼び出し元でローカルにフォールバック。
+ * Web では credentials: "include" で httpOnly cookie セッションを送信。
+ * URL: 常に base + path（スラッシュ1つ）。タイムアウト 8s。
+ */
+
+import { Platform } from 'react-native';
+import type { EventState, Role } from '../types/ui';
+import type { AdminEvent } from '../data/adminEventsStore';
+import type { SharedParticipationEntry } from '../data/adminMock';
+import { getSchoolApiBaseUrl } from '../config/api';
+
+/** サーバー参加記録（GET/POST の共通形） */
+export interface ApiParticipation {
+  recordId: string;
+  eventId: string;
+  studentId?: string;
+  recordedAt: string;
+  source?: 'manual' | 'scan' | 'api';
+  grade?: number;
+  displayName?: string;
+  studentCodeMasked?: string;
+}
+
+const DEFAULT_TIMEOUT_MS = 8000;
+
+function ensureLeadingSlash(path: string): string {
+  return path.startsWith('/') ? path : `/${path}`;
+}
+
+function buildUrl(base: string, path: string): string {
+  return `${base}${ensureLeadingSlash(path)}`;
+}
+
+export interface ApiCategory {
+  id: string;
+  label: string;
+}
+
+export interface CreateEventBody {
+  title: string;
+  date: string;
+  time: string;
+  host: string;
+  categoryId?: string;
+  category?: string;
+  state?: EventState;
+  totalCount?: number;
+}
+
+type RequestOptions = {
+  method?: string;
+  body?: unknown;
+  headers?: HeadersInit;
+};
+
+let onUnauthorized: (() => void) | null = null;
+
+/** 401 時に呼ばれるコールバックを登録（Admin layout で /admin/login へリダイレクト用） */
+export function setOnUnauthorized(callback: (() => void) | null): void {
+  onUnauthorized = callback;
+}
+
+async function apiFetch(path: string, init: RequestInit): Promise<Response> {
+  const base = getSchoolApiBaseUrl();
+  if (!base) throw new Error('API_URL_NOT_CONFIGURED');
+  const url = buildUrl(base, path);
+  if (typeof __DEV__ !== 'undefined' && __DEV__ && (path === '/me' || path.startsWith('/me?'))) {
+    console.log('[adminApiClient] GET', url);
+  }
+  const credentials: RequestCredentials = Platform.OS === 'web' ? 'include' : 'same-origin';
+  const controller = new AbortController();
+  const timeoutId = setTimeout(() => controller.abort(), DEFAULT_TIMEOUT_MS);
+  try {
+    const res = await fetch(url, {
+      ...init,
+      credentials,
+      signal: controller.signal,
+    });
+    return res;
+  } catch (e) {
+    if (e instanceof Error && e.name === 'AbortError') {
+      throw new Error('TIMEOUT');
+    }
+    throw new Error('NETWORK');
+  } finally {
+    clearTimeout(timeoutId);
+  }
+}
+
+type RequestOptionsInternal = {
+  method?: string;
+  body?: unknown;
+  headers?: HeadersInit;
+};
+
+async function request<T>(path: string, options: RequestOptionsInternal = {}): Promise<T> {
+  const { method = 'GET', body, headers: customHeaders } = options;
+  const headers: HeadersInit = {
+    'Content-Type': 'application/json',
+    ...(customHeaders as Record<string, string>),
+  };
+  const bodyStr: string | undefined = body != null ? JSON.stringify(body) : undefined;
+  const res = await apiFetch(path, {
+    method,
+    headers,
+    body: bodyStr,
+  });
+
+  if (res.status === 401) {
+    const text = await res.text();
+    let data: { ok?: boolean; error?: string } = {};
+    try {
+      data = JSON.parse(text) as { ok?: boolean; error?: string };
+    } catch {
+      // use as message below
+    }
+    // 学生参加 /claim の 401 は invalid_token/expired_token。管理者リダイレクトは行わない。
+    if (path !== '/claim') onUnauthorized?.();
+    // /claim の場合は body を返して呼び出し元で error を扱う
+    if (path === '/claim') return { ok: false, error: data.error ?? 'invalid_token' } as T;
+    throw new Error((data.error ?? text) || 'Unauthorized');
+  }
+
+  if (!res.ok) {
+    const text = await res.text();
+    let message = text;
+    try {
+      const j = JSON.parse(text) as { message?: string; error?: string };
+      message = j.message ?? j.error ?? text;
+    } catch {
+      // use text as is
+    }
+    throw new Error(message || `HTTP ${res.status}`);
+  }
+  const contentType = res.headers.get('content-type');
+  if (contentType?.includes('application/json')) {
+    return res.json() as Promise<T>;
+  }
+  return undefined as unknown as T;
+}
+
+/** イベント一覧 */
+export async function apiFetchEvents(): Promise<AdminEvent[]> {
+  const list = await request<AdminEvent[] | { events: AdminEvent[] }>('/events');
+  if (Array.isArray(list)) return list;
+  if (list && typeof list === 'object' && 'events' in list && Array.isArray((list as { events: AdminEvent[] }).events)) {
+    return (list as { events: AdminEvent[] }).events;
+  }
+  return [];
+}
+
+/** イベント1件 */
+export async function apiFetchEvent(eventId: string): Promise<AdminEvent | null> {
+  try {
+    const data = await request<AdminEvent | { ok: boolean; event: AdminEvent }>(`/events/${encodeURIComponent(eventId)}`);
+    if (data && typeof data === 'object' && 'event' in data && (data as { event: AdminEvent }).event) {
+      return (data as { event: AdminEvent }).event;
+    }
+    return data as AdminEvent;
+  } catch {
+    return null;
+  }
+}
+
+/** イベント作成 */
+export async function apiCreateEvent(body: CreateEventBody): Promise<AdminEvent> {
+  const data = await request<AdminEvent | { ok: boolean; event: AdminEvent }>('/events', { method: 'POST', body });
+  if (data && typeof data === 'object' && 'event' in data && (data as { event: AdminEvent }).event) {
+    return (data as { event: AdminEvent }).event;
+  }
+  return data as AdminEvent;
+}
+
+/** イベント更新 */
+export async function apiUpdateEvent(eventId: string, patch: Partial<Omit<AdminEvent, 'id' | 'createdAt'>>): Promise<AdminEvent> {
+  const data = await request<AdminEvent | { ok: boolean; event: AdminEvent }>(`/events/${encodeURIComponent(eventId)}`, { method: 'PATCH', body: patch });
+  if (data && typeof data === 'object' && 'event' in data && (data as { event: AdminEvent }).event) {
+    return (data as { event: AdminEvent }).event;
+  }
+  return data as AdminEvent;
+}
+
+/** 参加用署名トークン取得（印刷QR用。requireAdmin） */
+export async function apiFetchJoinToken(eventId: string, ttlSeconds?: number): Promise<{ token: string; exp: number } | null> {
+  try {
+    const data = await request<{ ok: boolean; token: string; exp: number }>(`/events/${encodeURIComponent(eventId)}/join-token`, {
+      method: 'POST',
+      body: ttlSeconds != null ? { ttlSeconds } : {},
+    });
+    if (data?.ok && data.token) return { token: data.token, exp: data.exp };
+  } catch {
+    // fallback は呼び出し元で
+  }
+  return null;
+}
+
+/** カテゴリ一覧 */
+export async function apiFetchCategories(): Promise<ApiCategory[]> {
+  try {
+    const list = await request<ApiCategory[] | { categories: ApiCategory[] }>('/categories');
+    if (Array.isArray(list)) return list;
+    if (list && typeof list === 'object' && 'categories' in list && Array.isArray((list as { categories: ApiCategory[] }).categories)) {
+      return (list as { categories: ApiCategory[] }).categories;
+    }
+  } catch {
+    // fallback は呼び出し元で
+  }
+  return [];
+}
+
+/** 参加ログ一覧（eventId 省略で全件） */
+export async function apiFetchParticipations(eventId?: string): Promise<ApiParticipation[]> {
+  const q = eventId ? `?eventId=${encodeURIComponent(eventId)}` : '';
+  try {
+    const data = await request<ApiParticipation[] | { ok: boolean; participations: ApiParticipation[] }>(`/participations${q}`);
+    if (Array.isArray(data)) return data;
+    if (data && typeof data === 'object' && 'participations' in data && Array.isArray((data as { participations: ApiParticipation[] }).participations)) {
+      return (data as { participations: ApiParticipation[] }).participations;
+    }
+  } catch {
+    // fallback は呼び出し元で
+  }
+  return [];
+}
+
+/** 参加を送信（利用者側の参加記録）。作成された participation を返す。 */
+export async function apiAddParticipation(entry: {
+  eventId: string;
+  eventName?: string;
+  participantId?: string;
+}): Promise<ApiParticipation> {
+  const body = {
+    eventId: entry.eventId,
+    studentId: entry.participantId ?? undefined,
+    displayName: (entry as { eventName?: string }).eventName ?? '参加',
+  };
+  const data = await request<ApiParticipation | { ok: boolean; participation: ApiParticipation }>('/participations', { method: 'POST', body });
+  if (data && typeof data === 'object' && 'participation' in data && (data as { participation: ApiParticipation }).participation) {
+    return (data as { participation: ApiParticipation }).participation;
+  }
+  return data as ApiParticipation;
+}
+
+/** 学校参加券リクエスト（学生参加・requireAdmin 不要） */
+export interface ApiClaimRequest {
+  eventId: string;
+  studentId: string;
+  token?: string;
+  source?: 'scan' | 'manual' | 'api';
+  grade?: number;
+  displayName?: string;
+  studentCodeMasked?: string;
+}
+
+/** 学校参加券レスポンス */
+export interface ApiClaimResponse {
+  ok: boolean;
+  created?: boolean;
+  participation?: ApiParticipation;
+  error?: string;
+}
+
+/** 学校参加券を送信（学生参加。同一 (studentId, eventId) は 200 created:false で冪等） */
+export async function apiSubmitClaim(req: ApiClaimRequest): Promise<ApiClaimResponse> {
+  return request<ApiClaimResponse>('/claim', { method: 'POST', body: req });
+}
+
+// --- Admin session (httpOnly cookie, 8-digit passcode server-side only) ---
+
+export interface ApiLoginResponse {
+  ok: boolean;
+  role?: Role;
+  expiresAt?: string;
+  error?: string;
+}
+
+/** 管理者ログイン（8桁数字パスコード）。成功時サーバーが httpOnly cookie を設定。パスコードはクライアントに保存しない。 */
+export async function apiAdminLogin(passcode: string): Promise<ApiLoginResponse> {
+  const res = await apiFetch('/auth/login', {
+    method: 'POST',
+    headers: { 'Content-Type': 'application/json' },
+    body: JSON.stringify({ passcode: passcode.trim() }),
+  });
+  const data = (await res.json().catch(() => ({}))) as ApiLoginResponse & { ok?: boolean };
+  if (res.status === 200 && data.ok) return { ok: true, role: data.role ?? 'admin', expiresAt: data.expiresAt };
+  return { ok: false, error: data.error ?? 'invalid_passcode' };
+}
+
+/** 管理者ログアウト（cookie 削除） */
+export async function apiAdminLogout(): Promise<void> {
+  await apiFetch('/auth/logout', { method: 'POST' });
+}
+
+export interface ApiMeResponse {
+  ok: boolean;
+  role?: Role;
+  expiresAt?: string;
+  error?: string;
+}
+
+/** 現在のセッション（ロール）を取得。未ログイン時は 401 または ok: false。 */
+export async function apiAdminMe(): Promise<ApiMeResponse> {
+  const res = await apiFetch('/me', { method: 'GET', headers: { Accept: 'application/json' } });
+  const data = (await res.json().catch(() => ({}))) as ApiMeResponse & { ok?: boolean };
+  if (res.ok && data.ok && data.role) return { ok: true, role: data.role };
+  if (res.status === 401) return { ok: false, error: 'Unauthorized' };
+  return { ok: false, error: data.error ?? 'Failed to get session' };
+}
diff --git a/wene-mobile/src/api/adminApiHealth.ts b/wene-mobile/src/api/adminApiHealth.ts
new file mode 100644
index 0000000..4e383f3
--- /dev/null
+++ b/wene-mobile/src/api/adminApiHealth.ts
@@ -0,0 +1,54 @@
+/**
+ * 学校向け API の疎通チェック（管理画面で状態表示用）
+ */
+
+import { getSchoolApiBaseUrl } from '../config/api';
+
+const PING_TIMEOUT_MS = 8000;
+
+export interface PingResult {
+  ok: boolean;
+  status?: number;
+  error?: string;
+}
+
+/**
+ * API が有効かつ疎通可能か確認する。
+ * - 無効 => { ok: false, error: "disabled" }
+ * - 有効 => HEAD /events、失敗時は GET で再試行。8秒でタイムアウト。2xx なら ok: true
+ */
+export async function pingSchoolApi(): Promise<PingResult> {
+  const base = getSchoolApiBaseUrl();
+  if (!base) {
+    return { ok: false, error: 'disabled' };
+  }
+
+  const url = `${base}/events`;
+  const controller = new AbortController();
+  const timeoutId = setTimeout(() => controller.abort(), PING_TIMEOUT_MS);
+
+  try {
+    const tryFetch = (method: 'HEAD' | 'GET') =>
+      fetch(url, {
+        method,
+        signal: controller.signal,
+        headers: { Accept: 'application/json' },
+      });
+
+    let res: Response;
+    try {
+      res = await tryFetch('HEAD');
+    } catch {
+      res = await tryFetch('GET');
+    }
+
+    clearTimeout(timeoutId);
+    const ok = res.status >= 200 && res.status < 300;
+    return ok ? { ok: true } : { ok: false, status: res.status, error: `HTTP ${res.status}` };
+  } catch (e) {
+    clearTimeout(timeoutId);
+    const message = e instanceof Error ? e.message : String(e);
+    const error = e instanceof Error && e.name === 'AbortError' ? 'timeout' : message;
+    return { ok: false, error };
+  }
+}
diff --git a/wene-mobile/src/api/certificates.ts b/wene-mobile/src/api/certificates.ts
new file mode 100644
index 0000000..726d732
--- /dev/null
+++ b/wene-mobile/src/api/certificates.ts
@@ -0,0 +1,14 @@
+/**
+ * 証明書一覧 API
+ * 実 API に差し替え可能（boundary）
+ */
+
+import type { Certificate } from '../types/certificate';
+import { getMockCertificatesByStudentId } from '../data/certificatesMock';
+
+/**
+ * 生徒IDに紐づく証明書一覧を取得（PoC: モック）
+ */
+export async function getCertificatesByStudentId(studentId: string): Promise<Certificate[]> {
+  return getMockCertificatesByStudentId(studentId);
+}
diff --git a/wene-mobile/src/api/participation.ts b/wene-mobile/src/api/participation.ts
new file mode 100644
index 0000000..e3fba61
--- /dev/null
+++ b/wene-mobile/src/api/participation.ts
@@ -0,0 +1,18 @@
+/**
+ * 参加記録 API
+ * recordParticipation は実 API / 記録レイヤーに差し替え可能（boundary）
+ */
+
+import { createMockParticipationClient } from './participationClient.mock';
+
+const client = createMockParticipationClient();
+
+/**
+ * 参加を記録する（PoC: モックで証明書発行まで実施）
+ */
+export async function recordParticipation(
+  studentId: string,
+  eventId: string
+): Promise<{ ok: true }> {
+  return client.record({ studentId, eventId });
+}
diff --git a/wene-mobile/src/api/participationClient.mock.ts b/wene-mobile/src/api/participationClient.mock.ts
new file mode 100644
index 0000000..1191c70
--- /dev/null
+++ b/wene-mobile/src/api/participationClient.mock.ts
@@ -0,0 +1,48 @@
+/**
+ * 参加記録 API クライアント - Mock 実装
+ * イベントメタは adminMock / schoolEvents から取得し、証明書を1件発行する。
+ */
+
+import type { ParticipationClient } from './participationClient';
+import { getEventById } from './schoolEvents';
+import { addParticipationRecord } from '../data/participationMock';
+import { getStudentRegistryById } from '../data/studentRegistryMock';
+import { issueMockCertificateForEvent } from '../data/certificatesMock';
+
+const eventCategoryByEventId: Record<string, string> = {
+  'evt-001': 'volunteer',
+  'evt-002': 'school',
+  'evt-003': 'school',
+};
+
+export function createMockParticipationClient(): ParticipationClient {
+  return {
+    async record(params: { studentId: string; eventId: string }): Promise<{ ok: true }> {
+      const event = getEventById(params.eventId);
+      const eventMeta = event
+        ? {
+            eventId: event.id,
+            eventName: event.title,
+            category: eventCategoryByEventId[event.id] ?? 'other',
+            organizerName: event.host,
+          }
+        : {
+            eventId: params.eventId,
+            eventName: params.eventId,
+            category: 'other' as const,
+            organizerName: 'we-ne',
+          };
+      const student = await getStudentRegistryById(params.studentId);
+      await addParticipationRecord({
+        studentId: params.studentId,
+        eventId: params.eventId,
+        source: 'manual',
+        grade: student?.grade,
+        displayName: student?.displayName,
+        studentCodeMasked: student?.studentCodeMasked,
+      });
+      await issueMockCertificateForEvent(params.studentId, eventMeta);
+      return { ok: true };
+    },
+  };
+}
diff --git a/wene-mobile/src/api/participationClient.ts b/wene-mobile/src/api/participationClient.ts
new file mode 100644
index 0000000..6c39db3
--- /dev/null
+++ b/wene-mobile/src/api/participationClient.ts
@@ -0,0 +1,8 @@
+/**
+ * 参加記録 API クライアントのインターフェース
+ * 実 API / Solana レイヤーに差し替え可能
+ */
+
+export interface ParticipationClient {
+  record(params: { studentId: string; eventId: string }): Promise<{ ok: true }>;
+}
diff --git a/wene-mobile/src/api/schoolClaim.ts b/wene-mobile/src/api/schoolClaim.ts
index 1081ecc..d7c9465 100644
--- a/wene-mobile/src/api/schoolClaim.ts
+++ b/wene-mobile/src/api/schoolClaim.ts
@@ -2,24 +2,22 @@
  * 学校向け参加券 API
  *
  * ウォレット不要で QR → eventId → 端末ID + eventId で重複参加防止。
- * 成功時は「参加完了」を返す（tx なし）。
- *
- * 実装は schoolClaimClient で差し替え可能。
+ * EXPO_PUBLIC_SCHOOL_API_URL 設定時は API に送信、未設定時は mock クライアント。
  */
 
 import type { SchoolClaimResult } from '../types/school';
 import { createMockSchoolClaimClient } from './schoolClaimClient.mock';
+import { createApiSchoolClaimClient } from './schoolClaimClient';
 import { schoolEventProvider } from './schoolEvents';
 
-const client = createMockSchoolClaimClient(schoolEventProvider);
-
 /**
  * 学校参加券を送信
  *
  * @param eventId QR から取得したイベントID（parseEventId で検証済みを推奨）
+ * @param token 参加用署名トークン（/u/join?token=... から渡す。サーバが REQUIRE 時は必須）
  * @returns 成功/失敗を統一形式で返す
  */
-export async function submitSchoolClaim(eventId: string): Promise<SchoolClaimResult> {
+export async function submitSchoolClaim(eventId: string, token?: string): Promise<SchoolClaimResult> {
   try {
     if (!eventId || typeof eventId !== 'string' || !eventId.trim()) {
       return {
@@ -27,7 +25,9 @@ export async function submitSchoolClaim(eventId: string): Promise<SchoolClaimRes
         error: { code: 'invalid_input', message: 'イベントIDが無効です' },
       };
     }
-    return await client.submit(eventId.trim());
+    const apiClient = await createApiSchoolClaimClient();
+    const client = apiClient ?? createMockSchoolClaimClient(schoolEventProvider);
+    return await client.submit(eventId.trim(), token);
   } catch (e) {
     const msg = e instanceof Error ? e.message : String(e);
     return {
diff --git a/wene-mobile/src/api/schoolClaimClient.mock.ts b/wene-mobile/src/api/schoolClaimClient.mock.ts
index 776bca4..b76bc24 100644
--- a/wene-mobile/src/api/schoolClaimClient.mock.ts
+++ b/wene-mobile/src/api/schoolClaimClient.mock.ts
@@ -6,12 +6,16 @@
  * - evt-002: 既参加 (alreadyJoined)
  * - evt-003: リトライ可能エラー (retryable)
  * - その他: 通常の成功/既参加判定
+ *
+ * 同一端末での二回目以降の「再ログイン」: isJoined(eventId) のとき
+ * success + alreadyJoined を返し、onSuccess で完了画面へ遷移させる（そのまま通す）。
  */
 
 import type { SchoolClaimClient } from './schoolClaimClient';
 import type { SchoolClaimResult } from '../types/school';
 import type { SchoolEventProvider } from './schoolClaimClient';
 import { useRecipientTicketStore } from '../store/recipientTicketStore';
+import { addSharedParticipation } from '../data/adminMock';
 
 let _deviceId: string | null = null;
 
@@ -27,9 +31,10 @@ async function getDeviceId(storage: { getItem: (k: string) => Promise<string | n
   return value;
 }
 
+/** addTicket / setCompleted は呼び出し元（JoinScreen 等）で行う。mock は addSharedParticipation のみ（API 無効時の管理者ログ用）。 */
 export function createMockSchoolClaimClient(eventProvider: SchoolEventProvider): SchoolClaimClient {
   return {
-    async submit(eventId: string): Promise<SchoolClaimResult> {
+    async submit(eventId: string, _token?: string): Promise<SchoolClaimResult> {
       const event = eventProvider.getById(eventId);
       if (!event) {
         return {
@@ -61,16 +66,12 @@ export function createMockSchoolClaimClient(eventProvider: SchoolEventProvider):
       const AsyncStorage = (await import('@react-native-async-storage/async-storage')).default;
       await getDeviceId(AsyncStorage);
 
-      const { isJoined, addTicket } = useRecipientTicketStore.getState();
+      const { isJoined } = useRecipientTicketStore.getState();
       if (isJoined(eventId)) {
         return { success: true, eventName: event.title, alreadyJoined: true };
       }
 
-      await addTicket({
-        eventId,
-        eventName: event.title,
-        joinedAt: Date.now(),
-      });
+      addSharedParticipation({ eventId, eventName: event.title });
 
       return { success: true, eventName: event.title };
     },
diff --git a/wene-mobile/src/api/schoolClaimClient.ts b/wene-mobile/src/api/schoolClaimClient.ts
index 3101149..3c655ce 100644
--- a/wene-mobile/src/api/schoolClaimClient.ts
+++ b/wene-mobile/src/api/schoolClaimClient.ts
@@ -2,17 +2,68 @@
  * 学校参加券 API クライアント
  *
  * インターフェースを定義し、実装は差し替え可能。
- * PoC: mock。将来は fetch によるサーバ API に差し替え。
+ * EXPO_PUBLIC_SCHOOL_API_URL 設定時は API クライアント、未設定時は mock。
  */
 
-import type { SchoolClaimResult } from '../types/school';
+import type { SchoolClaimResult, SchoolClaimErrorCode } from '../types/school';
 import type { SchoolEvent } from '../types/school';
+import { getStudentSession } from '../utils/studentSession';
+import { getEventById } from './schoolEvents';
 
 export interface SchoolClaimClient {
-  submit(eventId: string): Promise<SchoolClaimResult>;
+  /** token は QR/join URL 経由で渡る参加用署名トークン（任意。SERVER が REQUIRE 時は必須） */
+  submit(eventId: string, token?: string): Promise<SchoolClaimResult>;
 }
 
 export interface SchoolEventProvider {
   getById(eventId: string): SchoolEvent | null;
   getAll(): SchoolEvent[];
 }
+
+/** API 実装を返すファクトリ（apiSubmitClaim で送信。studentId は getStudentSession から取得） */
+export async function createApiSchoolClaimClient(): Promise<SchoolClaimClient | null> {
+  const { getSchoolApiBaseUrl } = await import('../config/api');
+  const { apiSubmitClaim } = await import('./adminApiClient');
+  if (!getSchoolApiBaseUrl()) return null;
+  return {
+    async submit(eventId: string, token?: string): Promise<SchoolClaimResult> {
+      const session = await getStudentSession();
+      if (!session) {
+        return {
+          success: false,
+          error: { code: 'invalid_input', message: 'ログインしてください' },
+        };
+      }
+      const eventIdTrim = eventId.trim();
+      try {
+        const res = await apiSubmitClaim({
+          eventId: eventIdTrim,
+          studentId: session.studentId,
+          source: 'scan',
+          token: token ?? undefined,
+        });
+        if (res.ok) {
+          const eventName = getEventById(eventIdTrim)?.title ?? '';
+          return {
+            success: true,
+            eventName,
+            alreadyJoined: res.created === false,
+          };
+        }
+        const isExpired = res.error === 'expired_token';
+        return {
+          success: false,
+          error: {
+            code: (isExpired ? 'retryable' : res.error === 'invalid_request' ? 'invalid_input' : 'unknown') as SchoolClaimErrorCode,
+            message: isExpired ? 'この参加用リンクは期限切れです。新しいQRでお試しください。' : (res.error ?? '参加に失敗しました'),
+          },
+        };
+      } catch {
+        return {
+          success: false,
+          error: { code: 'retryable', message: '参加に失敗しました。しばらくしてから再試行してください。' },
+        };
+      }
+    },
+  };
+}
diff --git a/wene-mobile/src/api/schoolEvents.ts b/wene-mobile/src/api/schoolEvents.ts
index 0982c6b..e23a67d 100644
--- a/wene-mobile/src/api/schoolEvents.ts
+++ b/wene-mobile/src/api/schoolEvents.ts
@@ -1,17 +1,17 @@
 /**
  * 学校向けイベント取得 API
  *
- * PoC: mock データ。将来は server API に差し替え。
+ * PoC: adminEventsStore の同期キャッシュを参照。loadEvents() が事前に呼ばれていること。
  * SchoolEventProvider を実装し、schoolClaimClient から利用。
  */
 
-import { mockEvents } from '../data/adminMock';
+import { getEventsSync } from '../data/adminEventsStore';
 import type { SchoolEvent } from '../types/school';
 import type { SchoolEventProvider } from './schoolClaimClient';
 
 export type { SchoolEvent } from '../types/school';
 
-const toSchoolEvent = (e: (typeof mockEvents)[0]): SchoolEvent => ({
+const toSchoolEvent = (e: { id: string; title: string; datetime: string; host: string }): SchoolEvent => ({
   id: e.id,
   title: e.title,
   datetime: e.datetime,
@@ -20,11 +20,12 @@ const toSchoolEvent = (e: (typeof mockEvents)[0]): SchoolEvent => ({
 
 export const schoolEventProvider: SchoolEventProvider = {
   getById(eventId: string): SchoolEvent | null {
-    const event = mockEvents.find((e) => e.id === eventId);
+    const events = getEventsSync();
+    const event = events.find((e) => e.id === eventId);
     return event ? toSchoolEvent(event) : null;
   },
   getAll(): SchoolEvent[] {
-    return mockEvents.map(toSchoolEvent);
+    return getEventsSync().map(toSchoolEvent);
   },
 };
 
diff --git a/wene-mobile/src/config/api.ts b/wene-mobile/src/config/api.ts
new file mode 100644
index 0000000..5d94ffa
--- /dev/null
+++ b/wene-mobile/src/config/api.ts
@@ -0,0 +1,33 @@
+/**
+ * API ベースURL（実運用時は .env で EXPO_PUBLIC_SCHOOL_API_URL を設定）
+ * 未設定・不正な値の場合は null（ローカルストア・モックを使用）
+ */
+
+/**
+ * ベースURLを正規化する。
+ * - 前後空白を trim
+ * - 空なら null
+ * - 末尾スラッシュをすべて除去
+ * - http:// または https:// で始まらない場合は null（スキーム必須）
+ */
+export function normalizeBaseUrl(raw: string | undefined): string | null {
+  if (raw == null) return null;
+  let s = typeof raw === 'string' ? raw.trim() : '';
+  if (s.length === 0) return null;
+  while (s.endsWith('/')) {
+    s = s.slice(0, -1);
+  }
+  if (!s.startsWith('http://') && !s.startsWith('https://')) {
+    return null;
+  }
+  return s;
+}
+
+export function getSchoolApiBaseUrl(): string | null {
+  const url = process.env.EXPO_PUBLIC_SCHOOL_API_URL;
+  return normalizeBaseUrl(url);
+}
+
+export function isSchoolApiEnabled(): boolean {
+  return getSchoolApiBaseUrl() != null;
+}
diff --git a/wene-mobile/src/data/adminEventsStore.ts b/wene-mobile/src/data/adminEventsStore.ts
new file mode 100644
index 0000000..1b6307a
--- /dev/null
+++ b/wene-mobile/src/data/adminEventsStore.ts
@@ -0,0 +1,214 @@
+/**
+ * 管理者用イベントストア（可変 + 永続化）
+ * EXPO_PUBLIC_SCHOOL_API_URL 設定時は API を優先し、結果をローカルにマージ。
+ * 未設定時は Web: localStorage / Native: AsyncStorage のみ。
+ */
+
+import AsyncStorage from '@react-native-async-storage/async-storage';
+import type { EventState } from '../types/ui';
+import { getSchoolApiBaseUrl } from '../config/api';
+import { apiFetchEvents, apiCreateEvent, apiUpdateEvent } from '../api/adminApiClient';
+
+const STORAGE_KEY = 'wene:admin_events';
+
+export interface AdminEvent {
+  id: string;
+  title: string;
+  datetime: string;
+  host: string;
+  state: EventState;
+  rtCount: number;
+  totalCount: number;
+  createdAt: string;
+  updatedAt: string;
+}
+
+function toStored(e: AdminEvent | (AdminEvent & { createdAt?: string; updatedAt?: string })): AdminEvent {
+  return {
+    id: e.id,
+    title: e.title,
+    datetime: e.datetime,
+    host: e.host,
+    state: e.state,
+    rtCount: e.rtCount ?? 0,
+    totalCount: e.totalCount ?? 0,
+    createdAt: e.createdAt ?? new Date().toISOString(),
+    updatedAt: e.updatedAt ?? new Date().toISOString(),
+  };
+}
+
+let cache: AdminEvent[] | null = null;
+
+async function getStorage(): Promise<{ getItem: (k: string) => Promise<string | null>; setItem: (k: string, v: string) => Promise<void> }> {
+  try {
+    return AsyncStorage;
+  } catch {
+    if (typeof localStorage !== 'undefined') {
+      return {
+        getItem: (k) => Promise.resolve(localStorage.getItem(k)),
+        setItem: (k, v) => Promise.resolve(localStorage.setItem(k, v)),
+      };
+    }
+    throw new Error('No storage available');
+  }
+}
+
+async function loadFromStorage(): Promise<AdminEvent[]> {
+  const storage = await getStorage();
+  const value = await storage.getItem(STORAGE_KEY);
+  if (!value) return [];
+  try {
+    const parsed = JSON.parse(value) as AdminEvent[];
+    return Array.isArray(parsed) ? parsed.map(toStored) : [];
+  } catch {
+    return [];
+  }
+}
+
+async function saveToStorage(events: AdminEvent[]): Promise<void> {
+  const storage = await getStorage();
+  await storage.setItem(STORAGE_KEY, JSON.stringify(events));
+}
+
+/** 初回用 seed（adminMock の固定イベントと同一内容） */
+const SEED_EVENTS: AdminEvent[] = [
+  { id: 'evt-001', title: '地域清掃ボランティア', datetime: '2026/02/02 09:00-10:30', host: '生徒会', state: 'published' as EventState, rtCount: 23, totalCount: 58, createdAt: '', updatedAt: '' },
+  { id: 'evt-002', title: '進路説明会', datetime: '2026/02/10 15:00-16:00', host: '進路指導室', state: 'draft' as EventState, rtCount: 8, totalCount: 8, createdAt: '', updatedAt: '' },
+  { id: 'evt-003', title: '体育祭', datetime: '2026/02/15 09:00-15:00', host: '体育委員会', state: 'published' as EventState, rtCount: 0, totalCount: 120, createdAt: '', updatedAt: '' },
+].map((e) => toStored({ ...e, createdAt: new Date().toISOString(), updatedAt: new Date().toISOString() }));
+
+/**
+ * ストレージから読み込み、API 有効時は API から取得してマージ。キャッシュを更新。
+ */
+export async function loadEvents(): Promise<AdminEvent[]> {
+  if (getSchoolApiBaseUrl()) {
+    try {
+      const fromApi = await apiFetchEvents();
+      const normalized = fromApi.map((e) => toStored(e));
+      cache = normalized;
+      return normalized;
+    } catch {
+      // API 失敗時はローカルにフォールバック
+    }
+  }
+  let events = await loadFromStorage();
+  if (events.length === 0) {
+    events = SEED_EVENTS.map(toStored);
+    await saveToStorage(events);
+  }
+  cache = events;
+  return events;
+}
+
+/**
+ * イベント一覧を返す（loadEvents でキャッシュ済みならそれを返す）
+ */
+export async function listEvents(): Promise<AdminEvent[]> {
+  if (cache) return [...cache];
+  return loadEvents();
+}
+
+/**
+ * 同期的に現在のキャッシュを返す（loadEvents が一度でも呼ばれていること）
+ * getDisplayRtCount / schoolEvents 互換用。
+ */
+export function getEventsSync(): AdminEvent[] {
+  return cache ? [...cache] : [];
+}
+
+/**
+ * イベント作成（API 有効時は API に送信し、成功時にローカルにマージ）
+ */
+export async function createEvent(input: {
+  title: string;
+  date: string;
+  time: string;
+  host: string;
+  categoryId?: string;
+  state?: EventState;
+  totalCount?: number;
+}): Promise<AdminEvent> {
+  if (getSchoolApiBaseUrl()) {
+    try {
+      const created = await apiCreateEvent({
+        ...input,
+        category: input.categoryId ?? '',
+      });
+      const event = toStored(created);
+      const prev = cache ?? [];
+      cache = [event, ...prev];
+      return event;
+    } catch (e) {
+      throw e;
+    }
+  }
+  const now = new Date().toISOString();
+  const eventId = `evt-${Date.now().toString(36)}`;
+  const datetime = `${input.date} ${input.time}`;
+  const event: AdminEvent = {
+    id: eventId,
+    title: input.title.trim(),
+    datetime,
+    host: (input.host || '').trim() || '未設定',
+    state: input.state ?? 'draft',
+    rtCount: 0,
+    totalCount: input.totalCount ?? 0,
+    createdAt: now,
+    updatedAt: now,
+  };
+  const events = await listEvents();
+  events.push(event);
+  await saveToStorage(events);
+  cache = events;
+  return event;
+}
+
+/**
+ * イベント更新（API 有効時は API に送信し、成功時にローカルを更新）
+ */
+export async function updateEvent(eventId: string, patch: Partial<Omit<AdminEvent, 'id' | 'createdAt'>>): Promise<AdminEvent | null> {
+  if (getSchoolApiBaseUrl()) {
+    try {
+      const updated = await apiUpdateEvent(eventId, patch);
+      const event = toStored(updated);
+      const prev = cache ?? [];
+      const idx = prev.findIndex((e) => e.id === eventId);
+      if (idx >= 0) {
+        cache = [...prev.slice(0, idx), event, ...prev.slice(idx + 1)];
+        return event;
+      }
+      cache = [event, ...prev];
+      return event;
+    } catch (e) {
+      throw e;
+    }
+  }
+  const events = await listEvents();
+  const idx = events.findIndex((e) => e.id === eventId);
+  if (idx < 0) return null;
+  const now = new Date().toISOString();
+  events[idx] = toStored({
+    ...events[idx],
+    ...patch,
+    updatedAt: now,
+  });
+  await saveToStorage(events);
+  cache = events;
+  return events[idx];
+}
+
+/**
+ * ID で取得（非同期）
+ */
+export async function getEventByIdAsync(eventId: string): Promise<AdminEvent | null> {
+  const events = await listEvents();
+  return events.find((e) => e.id === eventId) ?? null;
+}
+
+/**
+ * 同期的に ID で取得（loadEvents 済みであること）
+ */
+export function getEventByIdSync(eventId: string): AdminEvent | null {
+  if (!cache) return null;
+  return cache.find((e) => e.id === eventId) ?? null;
+}
diff --git a/wene-mobile/src/data/adminMock.ts b/wene-mobile/src/data/adminMock.ts
index eaac35f..fba52aa 100644
--- a/wene-mobile/src/data/adminMock.ts
+++ b/wene-mobile/src/data/adminMock.ts
@@ -1,19 +1,198 @@
+import AsyncStorage from '@react-native-async-storage/async-storage';
 import type { Role, EventState } from '../types/ui';
+import { getEventsSync } from './adminEventsStore';
+import { getAdminRole, setAdminRole, loadAdminRole } from './adminRoleStore';
+import { isSchoolApiEnabled } from '../config/api';
+import {
+  apiFetchParticipations,
+  apiAddParticipation as apiAddParticipationCall,
+  apiFetchCategories,
+} from '../api/adminApiClient';
+import type { ApiCategory, ApiParticipation } from '../api/adminApiClient';
 
-let currentRole: Role = 'admin';
+export { loadAdminRole };
 
-export const getMockAdminRole = (): Role => currentRole;
-export const setMockAdminRole = (role: Role): void => {
-  currentRole = role;
-};
+const PARTICIPATIONS_STORAGE_KEY = 'wene:admin_participations';
 
-export const mockCategories = [
+async function getParticipationStorage(): Promise<{ getItem: (k: string) => Promise<string | null>; setItem: (k: string, v: string) => Promise<void> }> {
+  try {
+    return AsyncStorage;
+  } catch {
+    if (typeof localStorage !== 'undefined') {
+      return {
+        getItem: (k) => Promise.resolve(localStorage.getItem(k)),
+        setItem: (k, v) => Promise.resolve(localStorage.setItem(k, v)),
+      };
+    }
+    throw new Error('No storage available');
+  }
+}
+
+/** 利用者参加を管理者に反映する共有ログ（永続化: 再起動・リロード後も保持） */
+export interface SharedParticipationEntry {
+  eventId: string;
+  eventName: string;
+  id: string;
+  display: string;
+  code: string;
+  time: string;
+}
+const sharedParticipationLog: SharedParticipationEntry[] = [];
+
+/** API から取得した参加ログのキャッシュ（API 有効時のみ使用） */
+let apiParticipationsCache: SharedParticipationEntry[] = [];
+
+function formatRecordedAt(iso: string): string {
+  if (!iso) return '';
+  try {
+    const d = new Date(iso);
+    const y = d.getFullYear();
+    const m = String(d.getMonth() + 1).padStart(2, '0');
+    const day = String(d.getDate()).padStart(2, '0');
+    const h = String(d.getHours()).padStart(2, '0');
+    const min = String(d.getMinutes()).padStart(2, '0');
+    return `${y}/${m}/${day} ${h}:${min}`;
+  } catch {
+    return iso;
+  }
+}
+
+function mapApiParticipationToEntry(p: ApiParticipation): SharedParticipationEntry {
+  const events = getEventsSync();
+  const eventName = events.find((e) => e.id === p.eventId)?.title ?? '';
+  return {
+    eventId: p.eventId,
+    eventName,
+    id: p.recordId,
+    display: p.displayName ?? '参加',
+    code: p.studentCodeMasked ?? '',
+    time: formatRecordedAt(p.recordedAt),
+  };
+}
+
+function saveParticipationLog(): void {
+  getParticipationStorage()
+    .then((s) => s.setItem(PARTICIPATIONS_STORAGE_KEY, JSON.stringify(sharedParticipationLog)))
+    .catch(() => {});
+}
+
+/**
+ * 参加ログを読み込む。API 有効時は API から取得し、未設定時はストレージから。起動時に1回呼ぶ。
+ */
+export async function loadSharedParticipations(): Promise<void> {
+  if (isSchoolApiEnabled()) {
+    try {
+      const list = await apiFetchParticipations();
+      apiParticipationsCache = Array.isArray(list) ? list.map(mapApiParticipationToEntry) : [];
+    } catch {
+      apiParticipationsCache = [];
+    }
+  }
+  try {
+    const storage = await getParticipationStorage();
+    const value = await storage.getItem(PARTICIPATIONS_STORAGE_KEY);
+    const parsed = value ? (JSON.parse(value) as SharedParticipationEntry[]) : [];
+    if (Array.isArray(parsed)) {
+      sharedParticipationLog.length = 0;
+      sharedParticipationLog.push(...parsed);
+    }
+  } catch {
+    // 読み込み失敗時は既存のメモリのまま
+  }
+}
+
+export async function addSharedParticipationAsync(entry: {
+  eventId: string;
+  eventName: string;
+  participantId?: string;
+}): Promise<void> {
+  if (isSchoolApiEnabled()) {
+    try {
+      const created = await apiAddParticipationCall({ ...entry, eventName: entry.eventName });
+      apiParticipationsCache.push(mapApiParticipationToEntry(created));
+      return;
+    } catch {
+      // API 失敗時はローカルにフォールバック
+    }
+  }
+  const now = new Date();
+  const timeStr = `${now.getFullYear()}/${String(now.getMonth() + 1).padStart(2, '0')}/${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
+  sharedParticipationLog.push({
+    eventId: entry.eventId,
+    eventName: entry.eventName,
+    id: entry.participantId ?? `p-${Date.now()}`,
+    display: '参加',
+    code: `#${Math.random().toString(36).slice(2, 6).toUpperCase()}`,
+    time: timeStr,
+  });
+  saveParticipationLog();
+}
+
+/** 参加を記録（API 有効時は非同期で送信。従来の同期呼び出し互換のため fire-and-forget） */
+export function addSharedParticipation(entry: {
+  eventId: string;
+  eventName: string;
+  participantId?: string;
+}): void {
+  addSharedParticipationAsync(entry).catch(() => {});
+}
+
+export function getSharedParticipations(): SharedParticipationEntry[] {
+  if (isSchoolApiEnabled()) return [...apiParticipationsCache];
+  return [...sharedParticipationLog];
+}
+
+export function getSharedParticipationsByEventId(eventId: string): SharedParticipationEntry[] {
+  const source = isSchoolApiEnabled() ? apiParticipationsCache : sharedParticipationLog;
+  return source.filter((e) => e.eventId === eventId);
+}
+
+/**
+ * 管理者表示用: リアルタイム参加数
+ * = モックの rtCount（初期値）+ このセッションで利用者が参加した数（QR・リンク参加・一覧参加のいずれも addSharedParticipation 経由で集計）
+ */
+export function getDisplayRtCount(eventId: string): number {
+  const events = getEventsSync();
+  const event = events.find((e) => e.id === eventId);
+  const base = event?.rtCount ?? 0;
+  return base + getSharedParticipationsByEventId(eventId).length;
+}
+
+export const getMockAdminRole = (): Role => getAdminRole();
+export const setMockAdminRole = (role: Role): void => setAdminRole(role);
+
+const DEFAULT_CATEGORIES: ApiCategory[] = [
   { id: 'all', label: 'すべて' },
   { id: 'volunteer', label: 'ボランティア' },
   { id: 'school', label: '学校行事' },
-  { id: 'other', label: '未分類（Other）' },
+  { id: 'other', label: '未分類' },
 ];
 
+/** API から取得したカテゴリのキャッシュ */
+let categoriesCache: ApiCategory[] | null = null;
+
+/** カテゴリ一覧を API から読み込む。起動時または API 有効時に呼ぶ。 */
+export async function loadCategories(): Promise<void> {
+  if (!isSchoolApiEnabled()) return;
+  try {
+    const list = await apiFetchCategories();
+    categoriesCache = Array.isArray(list) && list.length > 0 ? list : DEFAULT_CATEGORIES;
+  } catch {
+    categoriesCache = DEFAULT_CATEGORIES;
+  }
+}
+
+/** カテゴリ一覧（API 有効時は API 取得分、否则はデフォルト） */
+export function getCategories(): ApiCategory[] {
+  if (isSchoolApiEnabled() && categoriesCache && categoriesCache.length > 0) {
+    return [...categoriesCache];
+  }
+  return [...DEFAULT_CATEGORIES];
+}
+
+/** 互換のため従来の名前でも export */
+export const mockCategories = DEFAULT_CATEGORIES;
+
 export const mockEvents: Array<{
   id: string;
   title: string;
@@ -53,22 +232,22 @@ export const mockEvents: Array<{
 ];
 
 export const mockParticipants = [
-  { id: 'stu-081', display: 'Student-081', code: '#A7F3', time: '10:02' },
-  { id: 'stu-142', display: 'Student-142', code: '#B112', time: '10:05' },
-  { id: 'stu-203', display: '-', code: '#C821', time: '10:07' },
+  { id: 'stu-081', display: '参加者A', code: '#A7F3', time: '10:02' },
+  { id: 'stu-142', display: '参加者B', code: '#B112', time: '10:05' },
+  { id: 'stu-203', display: '匿名', code: '#C821', time: '10:07' },
 ];
 
 export const mockParticipantLogs = [
   {
     id: 'stu-081',
-    display: 'Student-081',
+    display: '参加者A',
     event: '地域清掃ボランティア',
     code: '#A7F3',
     time: '2026/02/02 10:02',
   },
   {
     id: 'stu-142',
-    display: 'Student-142',
+    display: '参加者B',
     event: '進路説明会',
     code: '#B112',
     time: '2026/02/10 15:05',
diff --git a/wene-mobile/src/data/adminRoleStore.ts b/wene-mobile/src/data/adminRoleStore.ts
new file mode 100644
index 0000000..cbb8929
--- /dev/null
+++ b/wene-mobile/src/data/adminRoleStore.ts
@@ -0,0 +1,57 @@
+/**
+ * 管理者ロールの永続化（実運用: デバイスごとの選択を保持）
+ * Web: localStorage / Native: AsyncStorage
+ */
+
+import AsyncStorage from '@react-native-async-storage/async-storage';
+import type { Role } from '../types/ui';
+
+const STORAGE_KEY = 'wene:admin_role';
+const DEFAULT_ROLE: Role = 'operator';
+
+let currentRole: Role = DEFAULT_ROLE;
+
+async function getStorage(): Promise<{ getItem: (k: string) => Promise<string | null>; setItem: (k: string, v: string) => Promise<void> }> {
+  try {
+    return AsyncStorage;
+  } catch {
+    if (typeof localStorage !== 'undefined') {
+      return {
+        getItem: (k) => Promise.resolve(localStorage.getItem(k)),
+        setItem: (k, v) => Promise.resolve(localStorage.setItem(k, v)),
+      };
+    }
+    throw new Error('No storage available');
+  }
+}
+
+const VALID_ROLES: Role[] = ['viewer', 'operator', 'admin'];
+function parseRole(value: string | null): Role {
+  if (value && VALID_ROLES.includes(value as Role)) return value as Role;
+  return DEFAULT_ROLE;
+}
+
+/**
+ * ストレージからロールを読み込み、メモリに反映する。起動時に1回呼ぶ。
+ */
+export async function loadAdminRole(): Promise<Role> {
+  try {
+    const storage = await getStorage();
+    const value = await storage.getItem(STORAGE_KEY);
+    currentRole = parseRole(value);
+    return currentRole;
+  } catch {
+    return currentRole;
+  }
+}
+
+/** 現在のロール（同期）。loadAdminRole 後に有効。 */
+export function getAdminRole(): Role {
+  return currentRole;
+}
+
+/** ロールを保存しメモリに反映。永続化は非同期で実行。 */
+export function setAdminRole(role: Role): void {
+  currentRole = role;
+  getStorage().then((storage) => storage.setItem(STORAGE_KEY, role)).catch(() => {});
+}
diff --git a/wene-mobile/src/data/certificatesMock.ts b/wene-mobile/src/data/certificatesMock.ts
new file mode 100644
index 0000000..ee29885
--- /dev/null
+++ b/wene-mobile/src/data/certificatesMock.ts
@@ -0,0 +1,132 @@
+/**
+ * 参加証（証明書）のモックデータと発行ロジック
+ * PoC 用。発行済み証明書はストレージに永続化し、リロード後も表示する。
+ * 実 API に差し替え可能。
+ */
+
+import AsyncStorage from '@react-native-async-storage/async-storage';
+import type { Certificate } from '../types/certificate';
+
+const STORAGE_KEY = 'wene:issued_certificates';
+
+async function storageGetItem(key: string): Promise<string | null> {
+  try {
+    return await AsyncStorage.getItem(key);
+  } catch {
+    if (typeof localStorage !== 'undefined') return localStorage.getItem(key);
+    return null;
+  }
+}
+
+async function storageSetItem(key: string, value: string): Promise<void> {
+  try {
+    await AsyncStorage.setItem(key, value);
+  } catch {
+    if (typeof localStorage !== 'undefined') localStorage.setItem(key, value);
+  }
+}
+
+/** メモリキャッシュ（初回アクセスでストレージから復元） */
+let _issuedCertificates: Certificate[] | null = null;
+
+async function loadIssuedCertificates(): Promise<Certificate[]> {
+  if (_issuedCertificates !== null) return _issuedCertificates;
+  const raw = await storageGetItem(STORAGE_KEY);
+  if (!raw) {
+    _issuedCertificates = [];
+    return _issuedCertificates;
+  }
+  try {
+    const parsed = JSON.parse(raw) as unknown;
+    _issuedCertificates = Array.isArray(parsed)
+      ? (parsed as Certificate[]).filter(
+          (c) =>
+            c &&
+            typeof c.certificateId === 'string' &&
+            typeof c.studentId === 'string' &&
+            typeof c.eventId === 'string' &&
+            typeof c.eventName === 'string' &&
+            typeof c.issuedAt === 'string' &&
+            typeof c.organizerName === 'string'
+        )
+      : [];
+  } catch {
+    _issuedCertificates = [];
+  }
+  return _issuedCertificates;
+}
+
+async function saveIssuedCertificates(): Promise<void> {
+  if (_issuedCertificates === null) return;
+  await storageSetItem(STORAGE_KEY, JSON.stringify(_issuedCertificates));
+}
+
+/** 参加により発行された証明書（永続化済み）。直接参照より getMockCertificatesByStudentId / issueMockCertificateForEvent を利用すること */
+export async function getIssuedCertificates(): Promise<Certificate[]> {
+  return loadIssuedCertificates();
+}
+
+/** 静的なモック証明書（初期表示用・任意） */
+const certificatesMock: Certificate[] = [];
+
+function sortCertificatesNewestFirst(list: Certificate[]): Certificate[] {
+  return [...list].sort((a, b) => (b.issuedAt < a.issuedAt ? -1 : 1));
+}
+
+function createWelcomeCertificate(studentId: string): Certificate {
+  return {
+    certificateId: 'cert-welcome',
+    studentId,
+    eventId: 'welcome',
+    eventName: 'we-ne へようこそ',
+    category: 'other',
+    issuedAt: new Date(0).toISOString(),
+    organizerName: 'we-ne',
+    note: 'アプリに登録いただきありがとうございます。',
+  };
+}
+
+/**
+ * イベント参加時に証明書を1件発行し、永続化に追加する（モック専用）
+ */
+export async function issueMockCertificateForEvent(
+  studentId: string,
+  event: {
+    eventId: string;
+    eventName: string;
+    category?: string;
+    organizerName?: string;
+  }
+): Promise<Certificate> {
+  const list = await loadIssuedCertificates();
+  const certificateId = `cert-${event.eventId}-${Date.now()}-${studentId.slice(0, 6)}`;
+  const cert: Certificate = {
+    certificateId,
+    studentId,
+    eventId: event.eventId,
+    eventName: event.eventName,
+    category: event.category,
+    issuedAt: new Date().toISOString(),
+    organizerName: event.organizerName ?? 'we-ne',
+    note: '参加が記録されました',
+  };
+  list.push(cert);
+  await saveIssuedCertificates();
+  return cert;
+}
+
+/**
+ * 生徒IDに紐づく証明書一覧を取得（静的モック + 発行済みをマージし、新しい順）
+ */
+export async function getMockCertificatesByStudentId(
+  studentId: string
+): Promise<Certificate[]> {
+  const dynamic = await loadIssuedCertificates();
+  const base = certificatesMock.filter((c) => c.studentId === studentId);
+  const byStudent = dynamic.filter((c) => c.studentId === studentId);
+  const combined = [...base, ...byStudent];
+  if (combined.length === 0) {
+    return [createWelcomeCertificate(studentId)];
+  }
+  return sortCertificatesNewestFirst(combined);
+}
diff --git a/wene-mobile/src/data/participationMock.ts b/wene-mobile/src/data/participationMock.ts
new file mode 100644
index 0000000..c0e3503
--- /dev/null
+++ b/wene-mobile/src/data/participationMock.ts
@@ -0,0 +1,106 @@
+/**
+ * 参加記録のモック永続化
+ * リロード後も保持。実 API に差し替え可能。
+ */
+
+import AsyncStorage from '@react-native-async-storage/async-storage';
+import type { ParticipationRecord } from '../types/participation';
+
+const STORAGE_KEY = 'wene:participation_records';
+
+let loaded = false;
+let participationRecords: ParticipationRecord[] = [];
+
+async function storageGetItem(key: string): Promise<string | null> {
+  try {
+    return await AsyncStorage.getItem(key);
+  } catch {
+    if (typeof localStorage !== 'undefined') return localStorage.getItem(key);
+    return null;
+  }
+}
+
+async function storageSetItem(key: string, value: string): Promise<void> {
+  try {
+    await AsyncStorage.setItem(key, value);
+  } catch {
+    if (typeof localStorage !== 'undefined') localStorage.setItem(key, value);
+  }
+}
+
+export async function loadParticipationRecords(): Promise<void> {
+  if (loaded) return;
+  const raw = await storageGetItem(STORAGE_KEY);
+  if (raw) {
+    try {
+      const parsed = JSON.parse(raw) as unknown;
+      participationRecords = Array.isArray(parsed)
+        ? (parsed as ParticipationRecord[]).filter(
+            (r) =>
+              r &&
+              typeof r.recordId === 'string' &&
+              typeof r.studentId === 'string' &&
+              typeof r.eventId === 'string' &&
+              typeof r.recordedAt === 'string'
+          )
+        : [];
+    } catch {
+      participationRecords = [];
+    }
+  } else {
+    participationRecords = [];
+  }
+  loaded = true;
+}
+
+async function saveParticipationRecords(): Promise<void> {
+  await storageSetItem(STORAGE_KEY, JSON.stringify(participationRecords));
+}
+
+export async function addParticipationRecord(params: {
+  studentId: string;
+  eventId: string;
+  source?: 'manual' | 'qr';
+  grade?: number;
+  displayName?: string;
+  studentCodeMasked?: string;
+}): Promise<ParticipationRecord> {
+  await loadParticipationRecords();
+  const record: ParticipationRecord = {
+    recordId: `rec-${params.eventId}-${Date.now()}-${params.studentId.slice(0, 6)}`,
+    studentId: params.studentId,
+    eventId: params.eventId,
+    recordedAt: new Date().toISOString(),
+    source: params.source ?? 'manual',
+    grade: params.grade,
+    displayName: params.displayName,
+    studentCodeMasked: params.studentCodeMasked,
+  };
+  participationRecords.push(record);
+  await saveParticipationRecords();
+  return record;
+}
+
+/** 新しい順 */
+export async function listParticipationRecords(): Promise<ParticipationRecord[]> {
+  await loadParticipationRecords();
+  return [...participationRecords].sort(
+    (a, b) => (new Date(b.recordedAt).getTime() - new Date(a.recordedAt).getTime())
+  );
+}
+
+export async function listParticipationRecordsByEvent(
+  eventId: string
+): Promise<ParticipationRecord[]> {
+  await loadParticipationRecords();
+  return participationRecords
+    .filter((r) => r.eventId === eventId)
+    .sort((a, b) => new Date(b.recordedAt).getTime() - new Date(a.recordedAt).getTime());
+}
+
+/** 開発用: 全件クリア */
+export async function clearParticipationRecords(): Promise<void> {
+  participationRecords = [];
+  loaded = true;
+  await saveParticipationRecords();
+}
diff --git a/wene-mobile/src/data/studentRegistryMock.ts b/wene-mobile/src/data/studentRegistryMock.ts
new file mode 100644
index 0000000..efbdd70
--- /dev/null
+++ b/wene-mobile/src/data/studentRegistryMock.ts
@@ -0,0 +1,93 @@
+/**
+ * 生徒レジストリ（モック）
+ * 管理画面での表示用。登録成功時（RegisterScreen 等）に setStudentSession の後に
+ * upsertStudentRegistry({ studentId, grade, studentCodeMasked: maskStudentCode(code), displayName, registeredAt }) を呼ぶ想定。
+ * 実装時はバックエンド DB に差し替え。
+ */
+
+import AsyncStorage from '@react-native-async-storage/async-storage';
+
+const STORAGE_KEY = 'wene:student_registry';
+
+export interface StudentRegistryEntry {
+  studentId: string;
+  /** 学年。UI で 1..12 の範囲で検証する。 */
+  grade: number;
+  studentCodeMasked: string;
+  displayName: string;
+  registeredAt: string; // ISO
+}
+
+async function getItem(key: string): Promise<string | null> {
+  try {
+    return await AsyncStorage.getItem(key);
+  } catch {
+    if (typeof localStorage !== 'undefined') return localStorage.getItem(key);
+    return null;
+  }
+}
+
+async function setItem(key: string, value: string): Promise<void> {
+  try {
+    await AsyncStorage.setItem(key, value);
+  } catch {
+    if (typeof localStorage !== 'undefined') localStorage.setItem(key, value);
+  }
+}
+
+let _registry: Map<string, StudentRegistryEntry> | null = null;
+
+async function loadRegistry(): Promise<Map<string, StudentRegistryEntry>> {
+  if (_registry) return _registry;
+  const raw = await getItem(STORAGE_KEY);
+  if (!raw) {
+    _registry = new Map();
+    return _registry;
+  }
+  try {
+    const arr = JSON.parse(raw) as unknown;
+    _registry = new Map(
+      (Array.isArray(arr) ? arr : []).filter(
+        (e: unknown): e is StudentRegistryEntry =>
+          e != null &&
+          typeof (e as StudentRegistryEntry).studentId === 'string' &&
+          typeof (e as StudentRegistryEntry).grade === 'number' &&
+          typeof (e as StudentRegistryEntry).studentCodeMasked === 'string' &&
+          typeof (e as StudentRegistryEntry).displayName === 'string' &&
+          typeof (e as StudentRegistryEntry).registeredAt === 'string'
+      ).map((e) => [e.studentId, e])
+    );
+  } catch {
+    _registry = new Map();
+  }
+  return _registry;
+}
+
+async function saveRegistry(): Promise<void> {
+  if (!_registry) return;
+  const arr = Array.from(_registry.values());
+  await setItem(STORAGE_KEY, JSON.stringify(arr));
+}
+
+export async function upsertStudentRegistry(entry: StudentRegistryEntry): Promise<void> {
+  const reg = await loadRegistry();
+  reg.set(entry.studentId, entry);
+  await saveRegistry();
+}
+
+export async function getStudentRegistryById(
+  studentId: string
+): Promise<StudentRegistryEntry | null> {
+  const reg = await loadRegistry();
+  return reg.get(studentId) ?? null;
+}
+
+export async function listStudentRegistry(): Promise<StudentRegistryEntry[]> {
+  const reg = await loadRegistry();
+  return Array.from(reg.values());
+}
+
+export function maskStudentCode(code: string): string {
+  if (!code || code.length < 4) return '****';
+  return `***${code.slice(-4)}`;
+}
diff --git a/wene-mobile/src/hooks/useAdminRole.ts b/wene-mobile/src/hooks/useAdminRole.ts
new file mode 100644
index 0000000..d063814
--- /dev/null
+++ b/wene-mobile/src/hooks/useAdminRole.ts
@@ -0,0 +1,47 @@
+/**
+ * 管理者ロールを取得・更新するフック
+ * API 有効時: /me でセッション取得。未ログインなら role は null。
+ * API 無効時: ストレージから永続化ロールを読み込み（従来の mock）。
+ */
+
+import { useState, useEffect, useCallback } from 'react';
+import type { Role } from '../types/ui';
+import { isSchoolApiEnabled } from '../config/api';
+import { apiAdminMe } from '../api/adminApiClient';
+import { loadAdminRole, getMockAdminRole, setMockAdminRole } from '../data/adminMock';
+
+export interface UseAdminRoleResult {
+  role: Role | null;
+  setRole: (r: Role) => void;
+  loading: boolean;
+}
+
+export function useAdminRole(): UseAdminRoleResult {
+  const [role, setRoleState] = useState<Role | null>(isSchoolApiEnabled() ? null : getMockAdminRole());
+  const [loading, setLoading] = useState(isSchoolApiEnabled());
+
+  useEffect(() => {
+    if (isSchoolApiEnabled()) {
+      setLoading(true);
+      apiAdminMe()
+        .then((res) => {
+          setRoleState(res.ok && res.role ? res.role : null);
+        })
+        .catch(() => {
+          setRoleState(null);
+        })
+        .finally(() => {
+          setLoading(false);
+        });
+    } else {
+      loadAdminRole().then((r) => setRoleState(r));
+    }
+  }, []);
+
+  const setRole = useCallback((r: Role) => {
+    setRoleState(r);
+    setMockAdminRole(r);
+  }, []);
+
+  return { role, setRole, loading };
+}
diff --git a/wene-mobile/src/lib/schoolRoutes.ts b/wene-mobile/src/lib/schoolRoutes.ts
index 52e0421..4983b4a 100644
--- a/wene-mobile/src/lib/schoolRoutes.ts
+++ b/wene-mobile/src/lib/schoolRoutes.ts
@@ -6,8 +6,12 @@
 export const schoolRoutes = {
   home: '/',
   events: '/u',
+  register: '/register',
+  join: (eventId: string, token?: string) =>
+    token ? `/u/join?eventId=${encodeURIComponent(eventId)}&token=${encodeURIComponent(token)}` : `/u/join?eventId=${encodeURIComponent(eventId)}`,
   scan: '/u/scan',
   confirm: (eventId: string) => `/u/confirm?eventId=${eventId}`,
   success: (eventId: string) => `/u/success?eventId=${eventId}`,
+  certificates: '/u/certificates',
   schoolClaim: (eventId: string) => `/r/school/${eventId}`,
 } as const;
diff --git a/wene-mobile/src/screens/HomeScreen.tsx b/wene-mobile/src/screens/HomeScreen.tsx
index 40a3322..61ef747 100644
--- a/wene-mobile/src/screens/HomeScreen.tsx
+++ b/wene-mobile/src/screens/HomeScreen.tsx
@@ -1,15 +1,40 @@
-import React from 'react';
-import { View, StyleSheet, TouchableOpacity } from 'react-native';
+import React, { useEffect, useState } from 'react';
+import { View, StyleSheet, TouchableOpacity, ActivityIndicator } from 'react-native';
 import { useRouter } from 'expo-router';
 import { SafeAreaView } from 'react-native-safe-area-context';
 import { AppText, Button } from '../ui/components';
 import { theme } from '../ui/theme';
 import { getClaimMode } from '../config/claimMode';
 import { schoolRoutes } from '../lib/schoolRoutes';
+import { getStudentSession } from '../utils/studentSession';
 
+/** 学校モード時: 初回起動（未登録）なら登録フローへリダイレクト。登録済み・再起動後はログイン情報を反映してホームを表示。 */
 export const HomeScreen: React.FC = () => {
   const router = useRouter();
   const isSchoolMode = getClaimMode() === 'school';
+  const [registrationCheck, setRegistrationCheck] = useState<'pending' | 'redirect_to_register' | 'registered'>(
+    isSchoolMode ? 'pending' : 'registered'
+  );
+
+  useEffect(() => {
+    if (!isSchoolMode) {
+      setRegistrationCheck('registered');
+      return;
+    }
+    let cancelled = false;
+    getStudentSession().then((session) => {
+      if (cancelled) return;
+      setRegistrationCheck(session ? 'registered' : 'redirect_to_register');
+    });
+    return () => {
+      cancelled = true;
+    };
+  }, [isSchoolMode]);
+
+  useEffect(() => {
+    if (registrationCheck !== 'redirect_to_register') return;
+    router.replace(schoolRoutes.register as any);
+  }, [registrationCheck, router]);
 
   const handleStartReceive = () => {
     if (isSchoolMode) {
@@ -27,6 +52,32 @@ export const HomeScreen: React.FC = () => {
     }
   };
 
+  if (isSchoolMode && registrationCheck === 'pending') {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={[styles.content, styles.loadingContent]}>
+          <ActivityIndicator size="large" color={theme.colors.active} />
+          <AppText variant="caption" style={styles.loadingText}>
+            読み込み中…
+          </AppText>
+        </View>
+      </SafeAreaView>
+    );
+  }
+
+  if (isSchoolMode && registrationCheck === 'redirect_to_register') {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={[styles.content, styles.loadingContent]}>
+          <ActivityIndicator size="large" color={theme.colors.active} />
+          <AppText variant="caption" style={styles.loadingText}>
+            登録画面へ…
+          </AppText>
+        </View>
+      </SafeAreaView>
+    );
+  }
+
   return (
     <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
       <View style={styles.content}>
@@ -84,4 +135,11 @@ const styles = StyleSheet.create({
     color: theme.colors.textTertiary,
     textDecorationLine: 'underline',
   },
+  loadingContent: {
+    justifyContent: 'center',
+  },
+  loadingText: {
+    marginTop: theme.spacing.md,
+    color: theme.colors.textSecondary,
+  },
 });
diff --git a/wene-mobile/src/screens/ReceiveScreen.tsx b/wene-mobile/src/screens/ReceiveScreen.tsx
index 26be918..96f4e7a 100644
--- a/wene-mobile/src/screens/ReceiveScreen.tsx
+++ b/wene-mobile/src/screens/ReceiveScreen.tsx
@@ -18,7 +18,7 @@ import { signTransaction, initiatePhantomConnect, buildPhantomConnectUrl } from
 import { rejectPendingSignTx } from '../utils/phantomSignTxPending';
 import { getLastPhantomDebug } from '../utils/phantomUrlDebug';
 import { sendSignedTx, isBlockhashExpiredError, isSimulationFailedError } from '../solana/sendTx';
-import { getConnection } from '../solana/anchorClient';
+import { getConnection } from '../solana/singleton';
 import { RPC_URL } from '../solana/singleton';
 import { fetchSplBalance, fetchAnyPositiveSplBalance, formatAmountForDisplay, SPL_USDC_MINT } from '../solana/wallet';
 
diff --git a/wene-mobile/src/screens/SchoolClaimScreen.tsx b/wene-mobile/src/screens/SchoolClaimScreen.tsx
index 1c823c4..d1cc2b5 100644
--- a/wene-mobile/src/screens/SchoolClaimScreen.tsx
+++ b/wene-mobile/src/screens/SchoolClaimScreen.tsx
@@ -26,7 +26,17 @@ export const SchoolClaimScreen: React.FC = () => {
     loadTickets().catch(() => {});
   }, [loadTickets]);
 
-  if (!isValid) return null;
+  if (!isValid) {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.centerContent}>
+          <AppText variant="body" style={styles.secondaryText}>
+            リダイレクト中…
+          </AppText>
+        </View>
+      </SafeAreaView>
+    );
+  }
 
   if (!eventId || !event) {
     return (
diff --git a/wene-mobile/src/screens/admin/AdminCategoriesScreen.tsx b/wene-mobile/src/screens/admin/AdminCategoriesScreen.tsx
index fe39dff..ed247bb 100644
--- a/wene-mobile/src/screens/admin/AdminCategoriesScreen.tsx
+++ b/wene-mobile/src/screens/admin/AdminCategoriesScreen.tsx
@@ -3,11 +3,19 @@ import { View, StyleSheet, ScrollView, TouchableOpacity } from 'react-native';
 import { useRouter } from 'expo-router';
 import { AppText, Button, Card, AdminShell } from '../../ui/components';
 import { adminTheme } from '../../ui/adminTheme';
-import { getMockAdminRole, setMockAdminRole, mockCategories } from '../../data/adminMock';
+import { getCategories } from '../../data/adminMock';
+import { useAdminRole } from '../../hooks/useAdminRole';
 
 export const AdminCategoriesScreen: React.FC = () => {
   const router = useRouter();
-  const [role, setRole] = React.useState(getMockAdminRole());
+  const { role, setRole, loading } = useAdminRole();
+  if (loading || role == null) {
+    return (
+      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
+        <AppText variant="caption" style={{ color: adminTheme.colors.textSecondary }}>読み込み中…</AppText>
+      </View>
+    );
+  }
   const isAdmin = role === 'admin';
 
   return (
@@ -16,7 +24,7 @@ export const AdminCategoriesScreen: React.FC = () => {
       role={role}
       onRoleChange={(nextRole) => {
         setRole(nextRole);
-        setMockAdminRole(nextRole);
+        setRole(nextRole);
       }}
     >
       <ScrollView contentContainerStyle={styles.content}>
@@ -24,7 +32,7 @@ export const AdminCategoriesScreen: React.FC = () => {
           <AppText variant="h2" style={styles.title}>
             カテゴリ管理
           </AppText>
-          <Button title="戻る" variant="secondary" onPress={() => router.back()} />
+          <Button title="戻る" variant="secondary" onPress={() => router.back()} tone="dark" />
         </View>
 
         {!isAdmin ? (
@@ -39,11 +47,11 @@ export const AdminCategoriesScreen: React.FC = () => {
         ) : (
           <>
             <AppText variant="caption" style={styles.note}>
-              削除したカテゴリのイベントは「未分類（Other）」に移動します
+              削除したカテゴリのイベントは「未分類」に移動します
             </AppText>
 
             <Card style={styles.card}>
-              {mockCategories.map((category, index) => (
+              {getCategories().map((category, index) => (
                 <View key={category.id} style={styles.row}>
                   <AppText variant="bodyLarge" style={styles.cardText}>
                     {category.label}
@@ -69,7 +77,7 @@ export const AdminCategoriesScreen: React.FC = () => {
               ))}
             </Card>
 
-            <Button title="カテゴリを追加" variant="secondary" onPress={() => {}} />
+            <Button title="カテゴリを追加" variant="secondary" onPress={() => {}} tone="dark" />
           </>
         )}
       </ScrollView>
diff --git a/wene-mobile/src/screens/admin/AdminEventCreateScreen.tsx b/wene-mobile/src/screens/admin/AdminEventCreateScreen.tsx
new file mode 100644
index 0000000..df5aa42
--- /dev/null
+++ b/wene-mobile/src/screens/admin/AdminEventCreateScreen.tsx
@@ -0,0 +1,265 @@
+import React, { useState, useEffect } from 'react';
+import { View, StyleSheet, ScrollView, TextInput, Alert } from 'react-native';
+import { useRouter } from 'expo-router';
+import { AppText, Button, Card, AdminShell } from '../../ui/components';
+import { adminTheme } from '../../ui/adminTheme';
+import { getCategories } from '../../data/adminMock';
+import { useAdminRole } from '../../hooks/useAdminRole';
+import { createEvent } from '../../data/adminEventsStore';
+import type { EventState } from '../../types/ui';
+
+export const AdminEventCreateScreen: React.FC = () => {
+  const router = useRouter();
+  const { role, setRole, loading } = useAdminRole();
+  if (loading || role == null) {
+    return (
+      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
+        <AppText variant="caption" style={{ color: adminTheme.colors.textSecondary }}>読み込み中…</AppText>
+      </View>
+    );
+  }
+  const [title, setTitle] = useState('');
+  const [date, setDate] = useState('');
+  const [time, setTime] = useState('');
+  const [host, setHost] = useState('');
+  const [categoryId, setCategoryId] = useState(getCategories()[0]?.id ?? 'other');
+  const [state, setState] = useState<EventState>('draft');
+  const [submitting, setSubmitting] = useState(false);
+  const [error, setError] = useState<string | null>(null);
+
+  useEffect(() => {
+    if (role === 'viewer') {
+      router.replace('/admin' as any);
+    }
+  }, [role, router]);
+
+  const handleSubmit = async () => {
+    const t = title.trim();
+    if (!t) {
+      setError('タイトルを入力してください');
+      return;
+    }
+    const d = date.trim();
+    if (!d) {
+      setError('日付を入力してください（YYYY-MM-DD）');
+      return;
+    }
+    const timeStr = time.trim() || '00:00';
+    setError(null);
+    setSubmitting(true);
+    try {
+      const event = await createEvent({
+        title: t,
+        date: d,
+        time: timeStr,
+        host: host.trim(),
+        categoryId,
+        state,
+      });
+      setSubmitting(false);
+      router.replace(`/admin/events/${event.id}` as any);
+    } catch (e) {
+      setSubmitting(false);
+      const msg = e instanceof Error ? e.message : String(e);
+      setError(msg);
+      Alert.alert('エラー', msg);
+    }
+  };
+
+  if (role === 'viewer') {
+    return (
+      <View style={styles.centered}>
+        <AppText variant="body" style={styles.text}>
+          権限がありません
+        </AppText>
+      </View>
+    );
+  }
+
+  return (
+    <AdminShell
+      title="イベント作成"
+      role={role}
+      onRoleChange={(r) => {
+        setRole(r);
+        if (r === 'viewer') router.replace('/admin' as any);
+      }}
+    >
+      <ScrollView contentContainerStyle={styles.content} keyboardShouldPersistTaps="handled">
+        <View style={styles.header}>
+          <AppText variant="h2" style={styles.title}>
+            イベント作成
+          </AppText>
+          <Button title="戻る" variant="secondary" onPress={() => router.back()} tone="dark" />
+        </View>
+
+        {error ? (
+          <Card style={styles.errorCard}>
+            <AppText variant="caption" style={styles.errorText}>
+              {error}
+            </AppText>
+          </Card>
+        ) : null}
+
+        <Card style={styles.card}>
+          <AppText variant="caption" style={styles.label}>
+            タイトル（必須）
+          </AppText>
+          <TextInput
+            style={styles.input}
+            value={title}
+            onChangeText={setTitle}
+            placeholder="例: 地域清掃ボランティア"
+            placeholderTextColor={adminTheme.colors.textTertiary}
+          />
+
+          <AppText variant="caption" style={styles.label}>
+            日付（YYYY-MM-DD）
+          </AppText>
+          <TextInput
+            style={styles.input}
+            value={date}
+            onChangeText={setDate}
+            placeholder="例: 2026-02-20"
+            placeholderTextColor={adminTheme.colors.textTertiary}
+            keyboardType="numbers-and-punctuation"
+          />
+
+          <AppText variant="caption" style={styles.label}>
+            時刻（HH:mm）
+          </AppText>
+          <TextInput
+            style={styles.input}
+            value={time}
+            onChangeText={setTime}
+            placeholder="例: 09:00"
+            placeholderTextColor={adminTheme.colors.textTertiary}
+            keyboardType="numbers-and-punctuation"
+          />
+
+          <AppText variant="caption" style={styles.label}>
+            主催
+          </AppText>
+          <TextInput
+            style={styles.input}
+            value={host}
+            onChangeText={setHost}
+            placeholder="例: 生徒会"
+            placeholderTextColor={adminTheme.colors.textTertiary}
+          />
+
+          <AppText variant="caption" style={styles.label}>
+            カテゴリ
+          </AppText>
+          <View style={styles.categoryRow}>
+            {getCategories().filter((c) => c.id !== 'all').map((c) => (
+              <Button
+                key={c.id}
+                title={c.label}
+                variant="secondary"
+                onPress={() => setCategoryId(c.id)}
+                tone="dark"
+                style={categoryId === c.id ? styles.categoryBtnActive : styles.categoryBtn}
+              />
+            ))}
+          </View>
+
+          <AppText variant="caption" style={styles.label}>
+            状態
+          </AppText>
+          <View style={styles.stateRow}>
+            <Button
+              title="下書き"
+              variant="secondary"
+              onPress={() => setState('draft')}
+              tone="dark"
+              style={state === 'draft' ? styles.categoryBtnActive : styles.categoryBtn}
+            />
+            <Button
+              title="公開中"
+              variant="secondary"
+              onPress={() => setState('published')}
+              tone="dark"
+              style={state === 'published' ? styles.categoryBtnActive : styles.categoryBtn}
+            />
+          </View>
+        </Card>
+
+        <Button
+          title={submitting ? '作成中…' : '作成する'}
+          onPress={handleSubmit}
+          disabled={submitting}
+          tone="dark"
+        />
+      </ScrollView>
+    </AdminShell>
+  );
+};
+
+const styles = StyleSheet.create({
+  content: {
+    paddingBottom: adminTheme.spacing.xl,
+  },
+  centered: {
+    flex: 1,
+    justifyContent: 'center',
+    alignItems: 'center',
+    backgroundColor: adminTheme.colors.background,
+  },
+  text: {
+    color: adminTheme.colors.text,
+  },
+  header: {
+    flexDirection: 'row',
+    justifyContent: 'space-between',
+    alignItems: 'center',
+    marginBottom: adminTheme.spacing.md,
+  },
+  title: {
+    color: '#ffffff',
+  },
+  errorCard: {
+    backgroundColor: adminTheme.colors.surface,
+    borderColor: adminTheme.colors.border,
+    marginBottom: adminTheme.spacing.md,
+  },
+  errorText: {
+    color: '#ff9999',
+  },
+  card: {
+    backgroundColor: adminTheme.colors.surface,
+    borderColor: adminTheme.colors.border,
+    marginBottom: adminTheme.spacing.lg,
+  },
+  label: {
+    color: adminTheme.colors.textSecondary,
+    marginBottom: adminTheme.spacing.xs,
+    marginTop: adminTheme.spacing.sm,
+  },
+  input: {
+    borderWidth: 1,
+    borderColor: adminTheme.colors.border,
+    borderRadius: adminTheme.radius.sm,
+    paddingHorizontal: adminTheme.spacing.md,
+    paddingVertical: adminTheme.spacing.sm,
+    color: adminTheme.colors.text,
+    backgroundColor: adminTheme.colors.background,
+  },
+  categoryRow: {
+    flexDirection: 'row',
+    flexWrap: 'wrap',
+    gap: adminTheme.spacing.sm,
+    marginTop: adminTheme.spacing.xs,
+  },
+  stateRow: {
+    flexDirection: 'row',
+    gap: adminTheme.spacing.sm,
+    marginTop: adminTheme.spacing.xs,
+  },
+  categoryBtn: {
+    marginRight: 0,
+  },
+  categoryBtnActive: {
+    opacity: 0.9,
+  },
+});
diff --git a/wene-mobile/src/screens/admin/AdminEventDetailScreen.tsx b/wene-mobile/src/screens/admin/AdminEventDetailScreen.tsx
index a8d697d..182810f 100644
--- a/wene-mobile/src/screens/admin/AdminEventDetailScreen.tsx
+++ b/wene-mobile/src/screens/admin/AdminEventDetailScreen.tsx
@@ -1,33 +1,97 @@
-import React from 'react';
-import { View, StyleSheet, ScrollView } from 'react-native';
+import React, { useMemo, useCallback, useState } from 'react';
+import { View, StyleSheet, ScrollView, Platform } from 'react-native';
 import { useLocalSearchParams, useRouter } from 'expo-router';
-import { AppText, Button, Card, AdminShell } from '../../ui/components';
+import { useFocusEffect } from '@react-navigation/native';
+import QRCode from 'react-native-qrcode-svg';
+import { AppText, Button, Card, AdminShell, AdminSearchBar } from '../../ui/components';
 import { adminTheme } from '../../ui/adminTheme';
-import { getMockAdminRole, setMockAdminRole, mockEvents, mockParticipants } from '../../data/adminMock';
+import { mockParticipants, getDisplayRtCount, getSharedParticipationsByEventId, loadSharedParticipations } from '../../data/adminMock';
+import { useAdminRole } from '../../hooks/useAdminRole';
+import { getEventByIdSync, getEventsSync } from '../../data/adminEventsStore';
+import { eventStateLabel } from '../../types/ui';
+import { getEventScanUrl } from '../../utils/appUrl';
+import { toCsv, downloadTextFile } from '../../utils/csv';
+
+function filterParticipantsByQuery(
+  participants: Array<{ id: string; display: string; code: string; time: string }>,
+  query: string
+): Array<{ id: string; display: string; code: string; time: string }> {
+  const q = query.trim().toLowerCase();
+  if (!q) return participants;
+  return participants.filter(
+    (p) =>
+      p.id.toLowerCase().includes(q) ||
+      p.display.toLowerCase().includes(q) ||
+      p.code.toLowerCase().includes(q) ||
+      p.time.includes(q)
+  );
+}
 
 export const AdminEventDetailScreen: React.FC = () => {
   const router = useRouter();
   const { eventId } = useLocalSearchParams<{ eventId: string }>();
-  const [role, setRole] = React.useState(getMockAdminRole());
+  const { role, setRole, loading } = useAdminRole();
+  if (loading || role == null) {
+    return (
+      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
+        <AppText variant="caption" style={{ color: adminTheme.colors.textSecondary }}>読み込み中…</AppText>
+      </View>
+    );
+  }
+  const [participantQuery, setParticipantQuery] = React.useState('');
+  const [refreshKey, setRefreshKey] = useState(0);
   const canPrint = role === 'admin';
   const canDownloadCsv = role === 'admin';
-  const event = mockEvents.find((item) => item.id === eventId) ?? mockEvents[0];
+  const event = getEventByIdSync(eventId ?? '') ?? getEventsSync()[0];
+
+  useFocusEffect(
+    useCallback(() => {
+      loadSharedParticipations().then(() => setRefreshKey((k) => k + 1));
+    }, [])
+  );
+
+  if (!event) {
+    return (
+      <AdminShell title="イベント詳細" role={role} onRoleChange={setRole}>
+        <View style={styles.content}>
+          <AppText variant="h3" style={styles.title}>イベントが見つかりません</AppText>
+          <Button title="一覧へ戻る" variant="secondary" onPress={() => router.replace('/admin' as any)} tone="dark" />
+        </View>
+      </AdminShell>
+    );
+  }
+
+  const filteredParticipants = useMemo(() => {
+    const all = [...mockParticipants, ...getSharedParticipationsByEventId(event.id)];
+    return filterParticipantsByQuery(all, participantQuery);
+  }, [event.id, participantQuery, refreshKey]);
+
+  const handleDownloadCsv = useCallback(() => {
+    if (Platform.OS !== 'web') return;
+    const headers = ['内部ID', '表示名', '確認コード', '参加時刻'];
+    const rows = filteredParticipants.map((p) => ({
+      '内部ID': p.id,
+      '表示名': p.display,
+      '確認コード': p.code,
+      '参加時刻': p.time,
+    }));
+    const csv = toCsv(headers, rows);
+    const safeTitle = event.title.replace(/[/\\?*:"]/g, '_').slice(0, 50);
+    downloadTextFile(`event-${event.id}-${safeTitle}.csv`, csv);
+  }, [event.id, event.title, filteredParticipants]);
 
   return (
     <AdminShell
       title="イベント詳細"
       role={role}
-      onRoleChange={(nextRole) => {
-        setRole(nextRole);
-        setMockAdminRole(nextRole);
-      }}
+      onRoleChange={setRole}
     >
       <ScrollView contentContainerStyle={styles.content}>
         <View style={styles.header}>
           <AppText variant="h2" style={styles.title}>
             イベント詳細
           </AppText>
-          <Button title="戻る" variant="secondary" onPress={() => router.back()} />
+          <Button title="戻る" variant="secondary" onPress={() => router.back()} tone="dark" />
         </View>
 
         <Card style={styles.card}>
@@ -44,7 +108,7 @@ export const AdminEventDetailScreen: React.FC = () => {
             ID: {event.id}
           </AppText>
           <AppText variant="small" style={styles.cardMuted}>
-            状態: {event.state}
+            状態: {eventStateLabel[event.state]}
           </AppText>
         </Card>
 
@@ -54,12 +118,12 @@ export const AdminEventDetailScreen: React.FC = () => {
               リアルタイム参加数
             </AppText>
             <AppText variant="h2" style={styles.cardText}>
-              {event.rtCount}
+              {getDisplayRtCount(event.id)}
             </AppText>
           </Card>
           <Card style={styles.countCard}>
             <AppText variant="caption" style={styles.cardText}>
-              total参加数
+              定員（総数）
             </AppText>
             <AppText variant="h2" style={styles.cardText}>
               {event.totalCount}
@@ -72,26 +136,30 @@ export const AdminEventDetailScreen: React.FC = () => {
             QR表示
           </AppText>
           <View style={styles.qrBox}>
-            <AppText variant="caption" style={styles.cardMuted}>
-              QRプレビュー（モック）
-            </AppText>
+            <QRCode
+              value={getEventScanUrl(event.id)}
+              size={Platform.OS === 'web' ? 180 : 200}
+              backgroundColor="#ffffff"
+              color="#000000"
+            />
           </View>
           <View style={styles.qrActions}>
-            <Button title="QRを表示" variant="secondary" onPress={() => {}} />
+            <Button title="QRを表示" variant="secondary" onPress={() => {}} tone="dark" />
             {canPrint ? (
               <Button
                 title="印刷用PDF"
                 variant="secondary"
                 onPress={() => router.push(`/admin/print/${eventId}` as any)}
                 style={styles.secondaryButton}
+                tone="dark"
               />
             ) : null}
           </View>
         </Card>
 
-        {canDownloadCsv ? (
+        {canDownloadCsv && Platform.OS === 'web' ? (
           <View style={styles.actions}>
-            <Button title="CSVダウンロード" variant="secondary" onPress={() => {}} />
+            <Button title="CSVダウンロード" variant="secondary" onPress={handleDownloadCsv} tone="dark" />
           </View>
         ) : null}
 
@@ -100,44 +168,64 @@ export const AdminEventDetailScreen: React.FC = () => {
             参加者一覧
           </AppText>
           <AppText variant="small" style={styles.muted}>
-            個人情報は表示しません
+            個人情報は表示しません。下の欄でアカウント情報から絞り込めます。
           </AppText>
         </View>
-        <Card style={styles.card}>
+        <AdminSearchBar
+          value={participantQuery}
+          label="アカウント情報で絞り込み"
+          placeholder="内部ID・表示名・確認コード・参加時刻のいずれかを入力"
+          hint="このイベントの参加者一覧をアカウント情報で絞り込みます"
+          onChange={setParticipantQuery}
+        />
+        {participantQuery.trim() ? (
+          <AppText variant="small" style={styles.filterCount}>
+            {filteredParticipants.length}件
+          </AppText>
+        ) : null}
+        <Card style={StyleSheet.flatten([styles.card, styles.participantCard])}>
           <View style={styles.tableHeader}>
-            <AppText variant="small" style={styles.cardMuted}>
+            <AppText variant="small" style={styles.participantMuted}>
               内部ID
             </AppText>
-            <AppText variant="small" style={styles.cardMuted}>
+            <AppText variant="small" style={styles.participantMuted}>
               表示名
             </AppText>
-            <AppText variant="small" style={styles.cardMuted}>
+            <AppText variant="small" style={styles.participantMuted}>
               確認コード
             </AppText>
-            <AppText variant="small" style={styles.cardMuted}>
+            <AppText variant="small" style={styles.participantMuted}>
               参加時刻
             </AppText>
           </View>
-          {mockParticipants.map((p) => (
-            <View key={p.id} style={styles.participantRow}>
+          {filteredParticipants.length === 0 ? (
+            <View style={styles.participantRow}>
+              <AppText variant="caption" style={styles.participantMuted}>
+                {participantQuery.trim() ? '該当する参加者はいません' : '参加者はまだいません'}
+              </AppText>
+            </View>
+          ) : (
+            filteredParticipants.map((p) => (
+            <View key={`${p.id}-${p.code}-${p.time}`} style={styles.participantRow}>
               <View style={styles.participantInfo}>
-                <AppText variant="bodyLarge" style={styles.cardText}>
+                <AppText variant="bodyLarge" style={styles.participantText}>
                   {p.id}
                 </AppText>
-                <AppText variant="caption" style={styles.cardMuted}>
+                <AppText variant="caption" style={styles.participantMuted}>
                   表示名: {p.display}
                 </AppText>
               </View>
               <View style={styles.participantMeta}>
-                <AppText variant="caption" style={styles.cardText}>
+                <AppText variant="caption" style={styles.participantText}>
                   {p.code}
                 </AppText>
-                <AppText variant="small" style={styles.cardMuted}>
+                <AppText variant="small" style={styles.participantMuted}>
                   {p.time}
                 </AppText>
               </View>
             </View>
-          ))}
+            ))
+          )}
         </Card>
       </ScrollView>
     </AdminShell>
@@ -200,6 +288,10 @@ const styles = StyleSheet.create({
   sectionHeader: {
     marginBottom: adminTheme.spacing.sm,
   },
+  filterCount: {
+    color: adminTheme.colors.textTertiary,
+    marginBottom: adminTheme.spacing.xs,
+  },
   muted: {
     color: adminTheme.colors.textTertiary,
   },
@@ -223,4 +315,13 @@ const styles = StyleSheet.create({
   participantMeta: {
     alignItems: 'flex-end',
   },
+  participantCard: {
+    backgroundColor: adminTheme.colors.surface,
+  },
+  participantText: {
+    color: adminTheme.colors.text,
+  },
+  participantMuted: {
+    color: adminTheme.colors.textSecondary,
+  },
 });
diff --git a/wene-mobile/src/screens/admin/AdminEventsScreen.tsx b/wene-mobile/src/screens/admin/AdminEventsScreen.tsx
index 9ea285c..c5991d2 100644
--- a/wene-mobile/src/screens/admin/AdminEventsScreen.tsx
+++ b/wene-mobile/src/screens/admin/AdminEventsScreen.tsx
@@ -1,25 +1,46 @@
-import React, { useState } from 'react';
+import React, { useState, useCallback } from 'react';
 import { View, StyleSheet, ScrollView } from 'react-native';
 import { useRouter } from 'expo-router';
+import { useFocusEffect } from '@react-navigation/native';
 import { AppText, Button, CategoryTabs, CountBadge, EventRow, AdminShell, StatusBadge } from '../../ui/components';
 import { adminTheme } from '../../ui/adminTheme';
-import { getMockAdminRole, setMockAdminRole, mockCategories, mockEvents } from '../../data/adminMock';
+import { getCategories, getDisplayRtCount } from '../../data/adminMock';
+import { useAdminRole } from '../../hooks/useAdminRole';
+import { listEvents } from '../../data/adminEventsStore';
+import type { AdminEvent } from '../../data/adminEventsStore';
 
 export const AdminEventsScreen: React.FC = () => {
   const router = useRouter();
   const [selectedCategory, setSelectedCategory] = useState('all');
-  const [role, setRole] = useState(getMockAdminRole());
+  const { role, setRole, loading } = useAdminRole();
+  const [events, setEvents] = useState<AdminEvent[]>([]);
   const canManageCategories = role === 'admin';
   const canCreateEvent = role === 'admin' || role === 'operator';
 
+  if (loading || role == null) {
+    return (
+      <View style={[styles.content, { justifyContent: 'center', alignItems: 'center' }]}>
+        <AppText variant="caption" style={{ color: adminTheme.colors.textSecondary }}>読み込み中…</AppText>
+      </View>
+    );
+  }
+
+  const fetchEvents = useCallback(async () => {
+    const list = await listEvents();
+    setEvents(list);
+  }, []);
+
+  useFocusEffect(
+    useCallback(() => {
+      fetchEvents();
+    }, [fetchEvents])
+  );
+
   return (
     <AdminShell
       title="イベント一覧"
       role={role}
-      onRoleChange={(nextRole) => {
-        setRole(nextRole);
-        setMockAdminRole(nextRole);
-      }}
+      onRoleChange={setRole}
     >
       <ScrollView contentContainerStyle={styles.content}>
         <View style={styles.header}>
@@ -28,7 +49,7 @@ export const AdminEventsScreen: React.FC = () => {
           </AppText>
           <View style={styles.headerActions}>
             {canCreateEvent ? (
-              <Button title="イベント作成" variant="secondary" onPress={() => {}} />
+              <Button title="イベント作成" variant="secondary" onPress={() => router.push('/admin/events/new' as any)} tone="dark" />
             ) : null}
             {canManageCategories ? (
               <Button
@@ -36,13 +57,14 @@ export const AdminEventsScreen: React.FC = () => {
                 variant="secondary"
                 onPress={() => router.push('/admin/categories' as any)}
                 style={styles.actionButton}
+                tone="dark"
               />
             ) : null}
           </View>
         </View>
 
         <CategoryTabs
-          categories={mockCategories}
+          categories={getCategories()}
           selectedId={selectedCategory}
           onSelect={setSelectedCategory}
           tone="dark"
@@ -50,15 +72,16 @@ export const AdminEventsScreen: React.FC = () => {
         />
 
         <View style={styles.list}>
-          {mockEvents.map((event) => (
+          {events.map((event) => (
             <EventRow
               key={event.id}
               title={event.title}
               datetime={event.datetime}
               host={event.host}
+              tone="dark"
               leftSlot={
                 <CountBadge
-                  value={event.rtCount}
+                  value={getDisplayRtCount(event.id)}
                   backgroundColor={adminTheme.colors.muted}
                   textColor={adminTheme.colors.textSecondary}
                 />
@@ -95,7 +118,7 @@ const styles = StyleSheet.create({
     marginLeft: adminTheme.spacing.sm,
   },
   title: {
-    color: adminTheme.colors.text,
+    color: '#ffffff',
   },
   tabs: {
     marginBottom: adminTheme.spacing.md,
@@ -112,7 +135,7 @@ const styles = StyleSheet.create({
     borderBottomColor: adminTheme.colors.border,
   },
   note: {
-    color: adminTheme.colors.textTertiary,
+    color: '#cccccc',
     marginTop: adminTheme.spacing.sm,
   },
 });
diff --git a/wene-mobile/src/screens/admin/AdminLoginScreen.tsx b/wene-mobile/src/screens/admin/AdminLoginScreen.tsx
index 349eb3b..4e4c3f6 100644
--- a/wene-mobile/src/screens/admin/AdminLoginScreen.tsx
+++ b/wene-mobile/src/screens/admin/AdminLoginScreen.tsx
@@ -1,39 +1,113 @@
-import React from 'react';
-import { View, StyleSheet } from 'react-native';
+import React, { useState } from 'react';
+import { View, StyleSheet, TextInput } from 'react-native';
 import { SafeAreaView } from 'react-native-safe-area-context';
 import { useRouter } from 'expo-router';
 import { AppText, Button, Card } from '../../ui/components';
 import { adminTheme } from '../../ui/adminTheme';
+import { isSchoolApiEnabled } from '../../config/api';
+import { apiAdminLogin, apiAdminLogout } from '../../api/adminApiClient';
 
 export const AdminLoginScreen: React.FC = () => {
   const router = useRouter();
+  const [passcode, setPasscode] = useState('');
+  const [error, setError] = useState<string | null>(null);
+  const [loading, setLoading] = useState(false);
+
+  const handleLogin = async () => {
+    setError(null);
+    setLoading(true);
+    try {
+      const res = await apiAdminLogin(passcode);
+      if (res.ok) {
+        router.replace('/admin' as any);
+        return;
+      }
+      setError('パスコードが違います');
+    } catch (e) {
+      setError('パスコードが違います');
+    } finally {
+      setLoading(false);
+    }
+  };
+
+  const onPasscodeChange = (text: string) => {
+    const digits = text.replace(/\D/g, '').slice(0, 8);
+    setPasscode(digits);
+  };
+
+  const handleLogout = async () => {
+    setError(null);
+    try {
+      await apiAdminLogout();
+      router.replace('/admin/login' as any);
+    } catch {
+      setError('ログアウトに失敗しました');
+    }
+  };
+
+  if (!isSchoolApiEnabled()) {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="h2" style={styles.title}>
+            管理者モード
+          </AppText>
+          <AppText variant="caption" style={styles.subtitle}>
+            API 未設定のためログインは不要です
+          </AppText>
+          <Button
+            title="管理者として続行"
+            variant="secondary"
+            onPress={() => router.replace('/admin' as any)}
+            tone="dark"
+          />
+        </View>
+      </SafeAreaView>
+    );
+  }
 
   return (
     <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
       <View style={styles.content}>
         <AppText variant="h2" style={styles.title}>
-          管理者モード
+          管理者ログイン
         </AppText>
         <AppText variant="caption" style={styles.subtitle}>
-          先生のPCで操作する前提です
+          8桁の数字パスコードを入力してください
         </AppText>
 
-        <Card style={styles.card}>
-          <AppText variant="caption" style={styles.cardText}>
-            ログインはモックです（後で認証を実装）
+        <TextInput
+          style={styles.input}
+          placeholder="12345678"
+          placeholderTextColor={adminTheme.colors.textTertiary}
+          value={passcode}
+          onChangeText={onPasscodeChange}
+          keyboardType="number-pad"
+          maxLength={8}
+          secureTextEntry
+          autoCapitalize="none"
+          autoCorrect={false}
+          editable={!loading}
+        />
+
+        {error ? (
+          <AppText variant="caption" style={styles.errorText}>
+            {error}
           </AppText>
-        </Card>
+        ) : null}
 
         <Button
-          title="管理者として続行"
-          variant="secondary"
-          onPress={() => router.replace('/admin' as any)}
+          title={loading ? 'ログイン中…' : 'ログイン'}
+          onPress={handleLogin}
+          disabled={loading || passcode.length !== 8}
+          tone="dark"
         />
         <Button
-          title="閲覧モードで開く"
+          title="ログアウト（cookie を削除）"
           variant="secondary"
-          onPress={() => router.replace('/admin' as any)}
+          onPress={handleLogout}
           style={styles.secondaryButton}
+          tone="dark"
         />
       </View>
     </SafeAreaView>
@@ -68,4 +142,18 @@ const styles = StyleSheet.create({
   secondaryButton: {
     marginTop: adminTheme.spacing.sm,
   },
+  input: {
+    borderWidth: 1,
+    borderColor: adminTheme.colors.border,
+    borderRadius: 8,
+    paddingHorizontal: adminTheme.spacing.md,
+    paddingVertical: adminTheme.spacing.sm,
+    color: adminTheme.colors.text,
+    marginBottom: adminTheme.spacing.md,
+    minHeight: 48,
+  },
+  errorText: {
+    color: '#e57373',
+    marginBottom: adminTheme.spacing.sm,
+  },
 });
diff --git a/wene-mobile/src/screens/admin/AdminParticipantsScreen.tsx b/wene-mobile/src/screens/admin/AdminParticipantsScreen.tsx
index fce146f..f27d391 100644
--- a/wene-mobile/src/screens/admin/AdminParticipantsScreen.tsx
+++ b/wene-mobile/src/screens/admin/AdminParticipantsScreen.tsx
@@ -1,58 +1,159 @@
-import React, { useState } from 'react';
-import { View, StyleSheet, ScrollView } from 'react-native';
+import React, { useState, useCallback } from 'react';
+import { View, StyleSheet, ScrollView, Platform } from 'react-native';
 import { useRouter } from 'expo-router';
+import { useFocusEffect } from '@react-navigation/native';
 import { AppText, Button, AdminSearchBar, Card, AdminShell } from '../../ui/components';
 import { adminTheme } from '../../ui/adminTheme';
-import { getMockAdminRole, setMockAdminRole, mockParticipantLogs } from '../../data/adminMock';
+import { mockParticipantLogs, getSharedParticipations, loadSharedParticipations } from '../../data/adminMock';
+import { useAdminRole } from '../../hooks/useAdminRole';
+import { toCsv, downloadTextFile } from '../../utils/csv';
+
+/** 参加者ログ1件（モック・共有どちらも同じ形に正規化） */
+interface ParticipantLogRow {
+  id: string;
+  display: string;
+  code: string;
+  eventName: string;
+  time: string;
+}
+
+function normalizeParticipantLogs(): ParticipantLogRow[] {
+  const mock = mockParticipantLogs.map((r: { id: string; display: string; code: string; time: string; event?: string; eventName?: string }) => ({
+    id: r.id,
+    display: r.display,
+    code: r.code,
+    eventName: (r.event ?? r.eventName) ?? '',
+    time: r.time,
+  }));
+  const shared = getSharedParticipations().map((r) => ({
+    id: r.id,
+    display: r.display,
+    code: r.code,
+    eventName: r.eventName,
+    time: r.time,
+  }));
+  return [...mock, ...shared];
+}
+
+/** 登録情報（ID・表示名・確認コード・イベント名）で検索 */
+function filterByRegistrationInfo(rows: ParticipantLogRow[], query: string): ParticipantLogRow[] {
+  const q = query.trim().toLowerCase();
+  if (!q) return rows;
+  return rows.filter(
+    (r) =>
+      r.id.toLowerCase().includes(q) ||
+      r.display.toLowerCase().includes(q) ||
+      r.code.toLowerCase().includes(q) ||
+      r.eventName.toLowerCase().includes(q)
+  );
+}
+
+const PARTICIPANT_CSV_HEADERS = ['内部ID', '表示名', '確認コード', 'イベント名', '参加時刻'] as const;
+
+function downloadParticipationsCsv(rows: ParticipantLogRow[]): void {
+  if (Platform.OS !== 'web') return;
+  const csvRows = rows.map((r) => ({
+    '内部ID': r.id,
+    '表示名': r.display,
+    '確認コード': r.code,
+    'イベント名': r.eventName,
+    '参加時刻': r.time,
+  }));
+  const csv = toCsv([...PARTICIPANT_CSV_HEADERS], csvRows);
+  downloadTextFile('participations.csv', csv);
+}
 
 export const AdminParticipantsScreen: React.FC = () => {
   const router = useRouter();
   const [query, setQuery] = useState('');
-  const [role, setRole] = useState(getMockAdminRole());
+  const [refreshKey, setRefreshKey] = useState(0);
+  const { role, setRole, loading } = useAdminRole();
+
+  useFocusEffect(
+    useCallback(() => {
+      loadSharedParticipations().then(() => setRefreshKey((k) => k + 1));
+    }, [])
+  );
+
+  if (loading || role == null) {
+    return (
+      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
+        <AppText variant="caption" style={{ color: adminTheme.colors.textSecondary }}>読み込み中…</AppText>
+      </View>
+    );
+  }
+
+  const allRows = normalizeParticipantLogs();
+  const filteredRows = filterByRegistrationInfo(allRows, query);
 
   return (
     <AdminShell
       title="参加者検索"
       role={role}
-      onRoleChange={(nextRole) => {
-        setRole(nextRole);
-        setMockAdminRole(nextRole);
-      }}
+      onRoleChange={setRole}
     >
       <ScrollView contentContainerStyle={styles.content}>
         <View style={styles.header}>
           <AppText variant="h2" style={styles.title}>
             参加者検索
           </AppText>
-          <Button title="戻る" variant="secondary" onPress={() => router.back()} />
+          <View style={styles.headerActions}>
+            {Platform.OS === 'web' && filteredRows.length > 0 ? (
+              <Button
+                title="CSVダウンロード"
+                variant="secondary"
+                onPress={() => downloadParticipationsCsv(filteredRows)}
+                style={styles.headerButton}
+                tone="dark"
+              />
+            ) : null}
+            <Button title="戻る" variant="secondary" onPress={() => router.back()} tone="dark" />
+          </View>
         </View>
 
-        <AdminSearchBar value={query} onChange={setQuery} />
+        <AdminSearchBar
+          value={query}
+          label="アカウント情報で絞り込み"
+          placeholder="内部ID・表示名・確認コード・イベント名のいずれかを入力"
+          hint="上記のいずれかに一致する参加者のみ一覧に表示されます"
+          onChange={setQuery}
+        />
 
+        {query.trim() ? (
+          <AppText variant="small" style={styles.countText}>
+            {filteredRows.length}件
+          </AppText>
+        ) : null}
         <Card style={styles.card}>
-          {mockParticipantLogs.map((result) => (
-            <View key={result.code} style={styles.resultRow}>
-              <View>
-                <AppText variant="bodyLarge" style={styles.cardText}>
-                  {result.id}
-                </AppText>
-                <AppText variant="caption" style={styles.cardMuted}>
-                  表示名: {result.display}
-                </AppText>
-                <AppText variant="caption" style={styles.cardMuted}>
-                  イベント: {result.event}
-                </AppText>
-              </View>
-              <View style={styles.meta}>
-                <AppText variant="caption" style={styles.cardText}>
-                  {result.code}
-                </AppText>
-                <AppText variant="small" style={styles.cardMuted}>
-                  {result.time}
-                </AppText>
+          {filteredRows.length === 0 ? (
+            <AppText variant="caption" style={styles.emptyText}>
+              {query.trim() ? '該当する参加者はありません' : '参加記録はまだありません'}
+            </AppText>
+          ) : (
+            filteredRows.map((result) => (
+              <View key={`${result.id}-${result.code}-${result.time}`} style={styles.resultRow}>
+                <View>
+                  <AppText variant="bodyLarge" style={styles.cardText}>
+                    {result.id}
+                  </AppText>
+                  <AppText variant="caption" style={styles.cardMuted}>
+                    表示名: {result.display}
+                  </AppText>
+                  <AppText variant="caption" style={styles.cardMuted}>
+                    イベント: {result.eventName}
+                  </AppText>
+                </View>
+                <View style={styles.meta}>
+                  <AppText variant="caption" style={styles.cardText}>
+                    {result.code}
+                  </AppText>
+                  <AppText variant="small" style={styles.cardMuted}>
+                    {result.time}
+                  </AppText>
+                </View>
               </View>
-            </View>
-          ))}
+            ))
+          )}
         </Card>
       </ScrollView>
     </AdminShell>
@@ -68,13 +169,29 @@ const styles = StyleSheet.create({
     alignItems: 'center',
     marginBottom: adminTheme.spacing.md,
   },
+  headerActions: {
+    flexDirection: 'row',
+    alignItems: 'center',
+    gap: adminTheme.spacing.sm,
+  },
+  headerButton: {
+  },
   title: {
     color: adminTheme.colors.text,
   },
+  countText: {
+    color: adminTheme.colors.textTertiary,
+    marginBottom: adminTheme.spacing.xs,
+  },
   card: {
     backgroundColor: adminTheme.colors.surface,
     borderColor: adminTheme.colors.border,
   },
+  emptyText: {
+    color: adminTheme.colors.textTertiary,
+    paddingVertical: adminTheme.spacing.lg,
+    textAlign: 'center',
+  },
   cardText: {
     color: adminTheme.colors.text,
   },
diff --git a/wene-mobile/src/screens/admin/AdminPrintScreen.tsx b/wene-mobile/src/screens/admin/AdminPrintScreen.tsx
index 64f2755..b74492d 100644
--- a/wene-mobile/src/screens/admin/AdminPrintScreen.tsx
+++ b/wene-mobile/src/screens/admin/AdminPrintScreen.tsx
@@ -1,27 +1,54 @@
-import React, { useEffect, useMemo } from 'react';
+import React, { useEffect, useState, useCallback } from 'react';
 import { View, StyleSheet, Platform } from 'react-native';
 import { SafeAreaView } from 'react-native-safe-area-context';
 import { useLocalSearchParams, useRouter } from 'expo-router';
+import QRCode from 'react-native-qrcode-svg';
 import { AppText, Button, Card } from '../../ui/components';
 import { adminTheme } from '../../ui/adminTheme';
-import { getMockAdminRole } from '../../data/adminMock';
+import { useAdminRole } from '../../hooks/useAdminRole';
+import { getEventByIdSync, getEventsSync } from '../../data/adminEventsStore';
 import { roleLabel } from '../../types/ui';
-import { buildPhantomBrowseUrl } from '../../utils/phantom';
+import { getEventScanUrl, getEventJoinUrl } from '../../utils/appUrl';
+import { getSchoolApiBaseUrl } from '../../config/api';
+import { apiFetchJoinToken } from '../../api/adminApiClient';
 
 export const AdminPrintScreen: React.FC = () => {
   const router = useRouter();
   const { eventId } = useLocalSearchParams<{ eventId: string }>();
-  const role = getMockAdminRole();
+  const { role, loading } = useAdminRole();
+  const [joinToken, setJoinToken] = useState<string | null>(null);
+  const [tokenLoading, setTokenLoading] = useState(false);
+  const event = getEventByIdSync(eventId ?? '') ?? getEventsSync()[0];
+
+  const fetchToken = useCallback(async () => {
+    if (!event?.id || !getSchoolApiBaseUrl()) return;
+    setTokenLoading(true);
+    try {
+      const data = await apiFetchJoinToken(event.id);
+      setJoinToken(data?.token ?? null);
+    } catch {
+      setJoinToken(null);
+    } finally {
+      setTokenLoading(false);
+    }
+  }, [event?.id]);
+
+  useEffect(() => {
+    if (event?.id && getSchoolApiBaseUrl() && role === 'admin') fetchToken();
+  }, [event?.id, role, fetchToken]);
+
+  if (loading || role == null) {
+    return (
+      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
+        <AppText variant="caption" style={{ color: adminTheme.colors.textSecondary }}>読み込み中…</AppText>
+      </View>
+    );
+  }
   const isAdmin = role === 'admin';
   const printHiddenProps = { 'data-print-hidden': 'true' } as any;
   const printCardProps = { 'data-print-card': 'true' } as any;
   const printQrProps = { 'data-print-qr': 'true' } as any;
-
-  const browseQrUrl = useMemo(() => {
-    if (Platform.OS !== 'web' || typeof window === 'undefined') return '';
-    const base = window.location.origin;
-    return buildPhantomBrowseUrl(base, '/u/scan');
-  }, []);
+  const scanUrl = getSchoolApiBaseUrl() && joinToken ? getEventJoinUrl(event.id, joinToken) : getEventScanUrl(event.id);
 
   useEffect(() => {
     if (Platform.OS !== 'web' || typeof document === 'undefined') return;
@@ -65,7 +92,7 @@ export const AdminPrintScreen: React.FC = () => {
             <AppText variant="small" style={styles.role}>
               {roleLabel[role]}
             </AppText>
-            <Button title="戻る" variant="secondary" onPress={() => router.back()} />
+            <Button title="戻る" variant="secondary" onPress={() => router.back()} tone="dark" />
           </View>
         </View>
 
@@ -82,37 +109,32 @@ export const AdminPrintScreen: React.FC = () => {
           <>
             <Card style={styles.card} {...printCardProps}>
               <AppText variant="h3" style={styles.cardText}>
-                地域清掃ボランティア
+                {event.title}
               </AppText>
               <AppText variant="caption" style={styles.cardText}>
-                2026/02/02 09:00-10:30
+                {event.datetime}
               </AppText>
               <AppText variant="caption" style={styles.cardText}>
-                主催: 生徒会
+                主催: {event.host}
               </AppText>
               <AppText variant="small" style={styles.cardMuted}>
-                ID: {eventId}
+                イベントID: {eventId}
               </AppText>
               <View style={styles.qrBox} {...printQrProps}>
-                <AppText variant="caption" style={styles.cardMuted}>
-                  QRプレビュー（印刷用）
-                </AppText>
-                {browseQrUrl ? (
-                  <AppText variant="small" style={[styles.cardMuted, styles.qrUrl]} selectable>
-                    {browseQrUrl}
-                  </AppText>
-                ) : null}
+                <QRCode
+                  value={scanUrl}
+                  size={220}
+                  backgroundColor="#ffffff"
+                  color="#000000"
+                />
               </View>
               <AppText variant="small" style={styles.cardMuted}>
-                参加用QR（Phantom内ブラウザで開く・Android推奨）
-              </AppText>
-              <AppText variant="caption" style={styles.cardMuted}>
-                上記URLをQRコード化して印刷してください。生徒はPhantomでスキャンするとアプリ内ブラウザで開きます。
+                参加用QRコード：読み取ると参加画面が開きます。印刷して受付でご利用ください。
               </AppText>
             </Card>
 
             <View {...printHiddenProps}>
-              <Button title="印刷する" variant="secondary" onPress={handlePrint} />
+              <Button title="印刷する" variant="secondary" onPress={handlePrint} tone="dark" />
             </View>
           </>
         )}
@@ -124,7 +146,7 @@ export const AdminPrintScreen: React.FC = () => {
 const styles = StyleSheet.create({
   container: {
     flex: 1,
-    backgroundColor: '#ffffff',
+    backgroundColor: adminTheme.colors.background,
   },
   content: {
     flex: 1,
@@ -158,18 +180,9 @@ const styles = StyleSheet.create({
     color: adminTheme.colors.textSecondary,
   },
   qrBox: {
-    height: 220,
-    borderRadius: adminTheme.radius.md,
-    borderWidth: 1,
-    borderColor: adminTheme.colors.border,
+    height: 260,
     alignItems: 'center',
     justifyContent: 'center',
     marginTop: adminTheme.spacing.md,
   },
-  qrUrl: {
-    marginTop: adminTheme.spacing.sm,
-    paddingHorizontal: adminTheme.spacing.sm,
-    fontSize: 10,
-    maxWidth: '100%',
-  },
 });
diff --git a/wene-mobile/src/screens/user/CertificatesScreen.tsx b/wene-mobile/src/screens/user/CertificatesScreen.tsx
new file mode 100644
index 0000000..7f4dc67
--- /dev/null
+++ b/wene-mobile/src/screens/user/CertificatesScreen.tsx
@@ -0,0 +1,160 @@
+import React, { useCallback, useState } from 'react';
+import {
+  View,
+  StyleSheet,
+  ScrollView,
+  RefreshControl,
+  ActivityIndicator,
+} from 'react-native';
+import { SafeAreaView } from 'react-native-safe-area-context';
+import { useRouter } from 'expo-router';
+import { useFocusEffect } from '@react-navigation/native';
+import { AppText, Button, Card } from '../../ui/components';
+import { theme } from '../../ui/theme';
+import { getStudentSession } from '../../utils/studentSession';
+import { getCertificatesByStudentId } from '../../api/certificates';
+import type { Certificate } from '../../types/certificate';
+import { schoolRoutes } from '../../lib/schoolRoutes';
+
+function formatIssuedAt(iso: string): string {
+  try {
+    const d = new Date(iso);
+    return d.getFullYear() + '/' + (d.getMonth() + 1) + '/' + d.getDate();
+  } catch {
+    return iso;
+  }
+}
+
+export const CertificatesScreen: React.FC = () => {
+  const router = useRouter();
+  const [certificates, setCertificates] = useState<Certificate[]>([]);
+  const [loading, setLoading] = useState(true);
+  const [refreshing, setRefreshing] = useState(false);
+
+  const fetchCertificates = useCallback(async () => {
+    const session = await getStudentSession();
+    if (!session) {
+      setCertificates([]);
+      setLoading(false);
+      setRefreshing(false);
+      return;
+    }
+    const list = await getCertificatesByStudentId(session.studentId);
+    setCertificates(list);
+    setLoading(false);
+    setRefreshing(false);
+  }, []);
+
+  useFocusEffect(
+    useCallback(() => {
+      setLoading(true);
+      fetchCertificates().catch(() => setLoading(false));
+    }, [fetchCertificates])
+  );
+
+  const onRefresh = useCallback(() => {
+    setRefreshing(true);
+    fetchCertificates().catch(() => setRefreshing(false));
+  }, [fetchCertificates]);
+
+  return (
+    <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+      <ScrollView
+        contentContainerStyle={[styles.content, styles.scrollContent]}
+        showsVerticalScrollIndicator={false}
+        refreshControl={
+          <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />
+        }
+      >
+        <AppText variant="h2" style={styles.title}>
+          参加証
+        </AppText>
+        <AppText variant="caption" style={styles.subtitle}>
+          参加が記録されたイベントの証明書一覧（新しい順）
+        </AppText>
+
+        {loading ? (
+          <View style={styles.loading}>
+            <ActivityIndicator size="large" color={theme.colors.active} />
+          </View>
+        ) : certificates.length === 0 ? (
+          <AppText variant="caption" style={styles.emptyText}>
+            証明書はまだありません
+          </AppText>
+        ) : (
+          certificates.map((cert) => (
+            <Card key={cert.certificateId} style={styles.card}>
+              <AppText variant="h3">{cert.eventName}</AppText>
+              <AppText variant="caption" style={styles.meta}>
+                {cert.organizerName}
+                {cert.category ? ` ・ ${cert.category}` : ''}
+              </AppText>
+              <AppText variant="caption" style={styles.issued}>
+                発行日: {formatIssuedAt(cert.issuedAt)}
+              </AppText>
+              {cert.note ? (
+                <AppText variant="caption" style={styles.note}>
+                  {cert.note}
+                </AppText>
+              ) : null}
+            </Card>
+          ))
+        )}
+
+        <Button
+          title="参加券に戻る"
+          variant="secondary"
+          onPress={() => router.back()}
+          style={styles.backButton}
+        />
+      </ScrollView>
+    </SafeAreaView>
+  );
+};
+
+const styles = StyleSheet.create({
+  container: {
+    flex: 1,
+    backgroundColor: theme.colors.background,
+  },
+  content: {
+    padding: theme.spacing.lg,
+  },
+  scrollContent: {
+    flexGrow: 1,
+    paddingBottom: theme.spacing.xxl,
+  },
+  title: {
+    marginBottom: theme.spacing.xs,
+  },
+  subtitle: {
+    color: theme.colors.textSecondary,
+    marginBottom: theme.spacing.lg,
+  },
+  loading: {
+    padding: theme.spacing.xxl,
+    alignItems: 'center',
+  },
+  emptyText: {
+    color: theme.colors.textTertiary,
+    marginTop: theme.spacing.sm,
+  },
+  card: {
+    marginBottom: theme.spacing.md,
+  },
+  meta: {
+    color: theme.colors.textSecondary,
+    marginTop: theme.spacing.xs,
+  },
+  issued: {
+    color: theme.colors.textTertiary,
+    marginTop: theme.spacing.xs,
+  },
+  note: {
+    color: theme.colors.textSecondary,
+    marginTop: theme.spacing.sm,
+  },
+  backButton: {
+    marginTop: theme.spacing.lg,
+  },
+});
diff --git a/wene-mobile/src/screens/user/JoinScreen.tsx b/wene-mobile/src/screens/user/JoinScreen.tsx
new file mode 100644
index 0000000..d13179f
--- /dev/null
+++ b/wene-mobile/src/screens/user/JoinScreen.tsx
@@ -0,0 +1,181 @@
+import React, { useEffect, useRef, useState } from 'react';
+import { View, StyleSheet } from 'react-native';
+import { SafeAreaView } from 'react-native-safe-area-context';
+import { useLocalSearchParams, useRouter } from 'expo-router';
+import { AppText, Button } from '../../ui/components';
+import { theme } from '../../ui/theme';
+import { getStudentSession } from '../../utils/studentSession';
+import { schoolRoutes } from '../../lib/schoolRoutes';
+import { useRecipientTicketStore } from '../../store/recipientTicketStore';
+import { setCompleted } from '../../data/participationStore';
+import { getEventById } from '../../api/schoolEvents';
+import { submitSchoolClaim } from '../../api/schoolClaim';
+
+type Status = 'idle' | 'loading' | 'success' | 'error';
+
+/**
+ * QR Join ルート: /u/join?eventId=...&token=...
+ * 登録済みなら recordParticipation を実行し、参加証を発行する。
+ * token は PoC では未検証。将来の署名・有効期限用にパラメータを用意。
+ */
+export const JoinScreen: React.FC = () => {
+  const router = useRouter();
+  const { eventId, token } = useLocalSearchParams<{ eventId?: string; token?: string }>();
+  const [status, setStatus] = useState<Status>('idle');
+  const [errorMessage, setErrorMessage] = useState<string | null>(null);
+  const didSubmitRef = useRef(false);
+  const { addTicket } = useRecipientTicketStore();
+
+  useEffect(() => {
+    if (status !== 'idle') return;
+    if (!eventId || eventId.trim() === '') {
+      setStatus('error');
+      setErrorMessage('イベントIDが指定されていません');
+      return;
+    }
+
+    if (__DEV__) {
+      console.log({ eventId, token });
+    }
+
+    let cancelled = false;
+
+    const run = async () => {
+      const session = await getStudentSession();
+      if (cancelled) return;
+      if (!session) {
+        router.replace(schoolRoutes.register as any);
+        return;
+      }
+      if (didSubmitRef.current) return;
+      didSubmitRef.current = true;
+      setStatus('loading');
+
+      const result = await submitSchoolClaim(eventId.trim(), token ?? undefined);
+      if (cancelled) return;
+      if (result.success) {
+        const eventName = result.eventName ?? getEventById(eventId.trim())?.title ?? eventId;
+        await setCompleted(eventId.trim());
+        if (cancelled) return;
+        await addTicket({
+          eventId: eventId.trim(),
+          eventName,
+          joinedAt: Date.now(),
+        });
+        if (cancelled) return;
+        setStatus('success');
+      } else {
+        setStatus('error');
+        setErrorMessage(result.error?.message ?? '参加の記録に失敗しました');
+      }
+    };
+
+    run();
+    return () => {
+      cancelled = true;
+    };
+  }, [eventId, token, status, router, addTicket]);
+
+  if (!eventId || eventId.trim() === '') {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="h2" style={styles.title}>
+            参加エラー
+          </AppText>
+          <AppText variant="bodyLarge" style={styles.muted}>
+            イベントIDが指定されていません。リンクを確認するか、一覧からお選びください。
+          </AppText>
+          <Button
+            title="イベント一覧へ"
+            variant="secondary"
+            onPress={() => router.replace(schoolRoutes.events as any)}
+            style={styles.button}
+          />
+        </View>
+      </SafeAreaView>
+    );
+  }
+
+  if (status === 'loading') {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="h2" style={styles.title}>
+            参加を記録しています…
+          </AppText>
+        </View>
+      </SafeAreaView>
+    );
+  }
+
+  if (status === 'error') {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="h2" style={styles.title}>
+            エラー
+          </AppText>
+          <AppText variant="bodyLarge" style={styles.muted}>
+            {errorMessage}
+          </AppText>
+          <Button
+            title="イベント一覧へ"
+            variant="secondary"
+            onPress={() => router.replace(schoolRoutes.events as any)}
+            style={styles.button}
+          />
+        </View>
+      </SafeAreaView>
+    );
+  }
+
+  if (status === 'success') {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="h2" style={styles.title}>
+            参加が記録されました
+          </AppText>
+          <AppText variant="bodyLarge" style={styles.muted}>
+            参加証が発行されました。
+          </AppText>
+          <Button
+            title="参加証を見る"
+            onPress={() => router.push(schoolRoutes.certificates as any)}
+            style={styles.button}
+          />
+          <Button
+            title="イベント一覧へ戻る"
+            variant="secondary"
+            onPress={() => router.replace(schoolRoutes.events as any)}
+            style={styles.button}
+          />
+        </View>
+      </SafeAreaView>
+    );
+  }
+
+  return null;
+};
+
+const styles = StyleSheet.create({
+  container: {
+    flex: 1,
+    backgroundColor: theme.colors.background,
+  },
+  content: {
+    flex: 1,
+    padding: theme.spacing.lg,
+  },
+  title: {
+    marginBottom: theme.spacing.sm,
+  },
+  muted: {
+    color: theme.colors.textSecondary,
+    marginBottom: theme.spacing.lg,
+  },
+  button: {
+    marginBottom: theme.spacing.sm,
+  },
+});
diff --git a/wene-mobile/src/screens/user/RegisterScreen.tsx b/wene-mobile/src/screens/user/RegisterScreen.tsx
new file mode 100644
index 0000000..e593bab
--- /dev/null
+++ b/wene-mobile/src/screens/user/RegisterScreen.tsx
@@ -0,0 +1,164 @@
+import React, { useState } from 'react';
+import { View, StyleSheet, ScrollView, TextInput, Alert } from 'react-native';
+import { SafeAreaView } from 'react-native-safe-area-context';
+import { useRouter } from 'expo-router';
+import { AppText, Button } from '../../ui/components';
+import { theme } from '../../ui/theme';
+import { setStudentSession } from '../../utils/studentSession';
+import {
+  upsertStudentRegistry,
+  maskStudentCode,
+} from '../../data/studentRegistryMock';
+import { schoolRoutes } from '../../lib/schoolRoutes';
+
+/**
+ * 生徒登録画面（モック）
+ * 登録成功時に setStudentSession の直後に upsertStudentRegistry を呼ぶ。
+ * 学年は UI で 1..12 の範囲を検証する。
+ * 実装時はバックエンド API が生徒プロファイルを保存する想定。
+ * studentCode は端末に保存せず、マスクしたコードのみレジストリに保存する。
+ */
+export const RegisterScreen: React.FC = () => {
+  const router = useRouter();
+  const [grade, setGrade] = useState('');
+  const [displayName, setDisplayName] = useState('');
+  const [studentCode, setStudentCode] = useState('');
+  const [loading, setLoading] = useState(false);
+
+  const handleSubmit = async () => {
+    const gradeNum = parseInt(grade.trim(), 10);
+    if (Number.isNaN(gradeNum) || gradeNum < 1 || gradeNum > 12) {
+      Alert.alert('入力エラー', '学年は 1～12 の数値を入力してください');
+      return;
+    }
+    const name = displayName.trim();
+    if (!name) {
+      Alert.alert('入力エラー', '表示名を入力してください');
+      return;
+    }
+    const code = studentCode.trim();
+    if (!code) {
+      Alert.alert('入力エラー', '確認用コードを入力してください');
+      return;
+    }
+
+    setLoading(true);
+    try {
+      // モック: studentId は仮発行。実 API では registerStudent の応答で受け取る。
+      const studentId = `stu-${Date.now()}-${Math.random().toString(36).slice(2, 9)}`;
+      await setStudentSession({ studentId });
+
+      await upsertStudentRegistry({
+        studentId,
+        grade: gradeNum,
+        studentCodeMasked: maskStudentCode(code),
+        displayName: name,
+        registeredAt: new Date().toISOString(),
+      });
+
+      router.replace(schoolRoutes.events as any);
+    } catch (e) {
+      Alert.alert('エラー', e instanceof Error ? e.message : '登録に失敗しました');
+    } finally {
+      setLoading(false);
+    }
+  };
+
+  return (
+    <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+      <ScrollView
+        contentContainerStyle={styles.content}
+        keyboardShouldPersistTaps="handled"
+      >
+        <AppText variant="h2" style={styles.title}>
+          生徒登録
+        </AppText>
+        <AppText variant="caption" style={styles.subtitle}>
+          参加券・参加証を利用するために登録してください（モック）
+        </AppText>
+
+        <AppText variant="caption" style={styles.label}>
+          学年（1～12）
+        </AppText>
+        <TextInput
+          style={styles.input}
+          value={grade}
+          onChangeText={setGrade}
+          placeholder="例: 3"
+          placeholderTextColor={theme.colors.textTertiary}
+          keyboardType="number-pad"
+        />
+
+        <AppText variant="caption" style={styles.label}>
+          表示名
+        </AppText>
+        <TextInput
+          style={styles.input}
+          value={displayName}
+          onChangeText={setDisplayName}
+          placeholder="例: 山田 太郎"
+          placeholderTextColor={theme.colors.textTertiary}
+          autoCapitalize="none"
+        />
+
+        <AppText variant="caption" style={styles.label}>
+          確認用コード（末尾4桁のみ保存されます）
+        </AppText>
+        <TextInput
+          style={styles.input}
+          value={studentCode}
+          onChangeText={setStudentCode}
+          placeholder="例: 12345678"
+          placeholderTextColor={theme.colors.textTertiary}
+          keyboardType="number-pad"
+        />
+
+        <Button
+          title={loading ? '登録中…' : '登録する'}
+          onPress={handleSubmit}
+          disabled={loading}
+          style={styles.submitButton}
+        />
+        <Button
+          title="戻る"
+          variant="secondary"
+          onPress={() => router.back()}
+        />
+      </ScrollView>
+    </SafeAreaView>
+  );
+};
+
+const styles = StyleSheet.create({
+  container: {
+    flex: 1,
+    backgroundColor: theme.colors.background,
+  },
+  content: {
+    padding: theme.spacing.lg,
+  },
+  title: {
+    marginBottom: theme.spacing.xs,
+  },
+  subtitle: {
+    color: theme.colors.textSecondary,
+    marginBottom: theme.spacing.lg,
+  },
+  label: {
+    color: theme.colors.textSecondary,
+    marginBottom: theme.spacing.xs,
+    marginTop: theme.spacing.sm,
+  },
+  input: {
+    borderWidth: 1,
+    borderColor: theme.colors.border,
+    borderRadius: theme.radius.sm,
+    padding: theme.spacing.md,
+    fontSize: 16,
+    color: theme.colors.text,
+  },
+  submitButton: {
+    marginTop: theme.spacing.lg,
+    marginBottom: theme.spacing.sm,
+  },
+});
diff --git a/wene-mobile/src/screens/user/UserConfirmScreen.tsx b/wene-mobile/src/screens/user/UserConfirmScreen.tsx
index 2aa284f..46403e3 100644
--- a/wene-mobile/src/screens/user/UserConfirmScreen.tsx
+++ b/wene-mobile/src/screens/user/UserConfirmScreen.tsx
@@ -36,7 +36,37 @@ export const UserConfirmScreen: React.FC = () => {
     }
   };
 
-  if (!isValid) return null;
+  if (!isValid) {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="body" style={styles.subtitle}>
+            リダイレクト中…
+          </AppText>
+        </View>
+      </SafeAreaView>
+    );
+  }
+
+  if (status === 'success' || status === 'already') {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="h2" style={styles.title}>
+            {status === 'already' ? '参加済みです' : '参加完了'}
+          </AppText>
+          <AppText variant="caption" style={styles.subtitle}>
+            {event?.title}
+          </AppText>
+          <Button
+            title="完了画面へ"
+            onPress={() => targetEventId && router.push(schoolRoutes.success(targetEventId) as any)}
+            style={styles.secondaryButton}
+          />
+        </View>
+      </SafeAreaView>
+    );
+  }
 
   return (
     <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
diff --git a/wene-mobile/src/screens/user/UserEventsScreen.tsx b/wene-mobile/src/screens/user/UserEventsScreen.tsx
index 0f07873..3371223 100644
--- a/wene-mobile/src/screens/user/UserEventsScreen.tsx
+++ b/wene-mobile/src/screens/user/UserEventsScreen.tsx
@@ -1,5 +1,5 @@
 import React, { useCallback, useState } from 'react';
-import { View, StyleSheet, ScrollView } from 'react-native';
+import { View, StyleSheet, ScrollView, Alert } from 'react-native';
 import { SafeAreaView } from 'react-native-safe-area-context';
 import { useRouter } from 'expo-router';
 import { useFocusEffect } from '@react-navigation/native';
@@ -10,13 +10,17 @@ import { useRecipientTicketStore } from '../../store/recipientTicketStore';
 import { getClaimMode } from '../../config/claimMode';
 import { getAllSchoolEvents } from '../../api/schoolEvents';
 import { schoolRoutes } from '../../lib/schoolRoutes';
+import { getStudentSession } from '../../utils/studentSession';
+import { setCompleted } from '../../data/participationStore';
+import { submitSchoolClaim } from '../../api/schoolClaim';
 
 export const UserEventsScreen: React.FC = () => {
   const router = useRouter();
   const [startedIds, setStartedIds] = useState<string[]>([]);
   const [completedIds, setCompletedIds] = useState<string[]>([]);
-  const { tickets, loadTickets, isJoined } = useRecipientTicketStore();
+  const { tickets, loadTickets, isJoined, addTicket } = useRecipientTicketStore();
   const isSchoolMode = getClaimMode() === 'school';
+  const [participatingId, setParticipatingId] = useState<string | null>(null);
 
   const loadParticipations = useCallback(async () => {
     if (isSchoolMode) {
@@ -29,6 +33,40 @@ export const UserEventsScreen: React.FC = () => {
     }
   }, [isSchoolMode, loadTickets]);
 
+  const handleMockParticipate = useCallback(
+    async (eventId: string, eventTitle: string) => {
+      const session = await getStudentSession();
+      if (!session) {
+        Alert.alert('登録が必要です', '参加するには先に登録してください。', [{ text: 'OK', style: 'cancel' }]);
+        return;
+      }
+      setParticipatingId(eventId);
+      try {
+        const result = await submitSchoolClaim(eventId);
+        if (result.success) {
+          await setCompleted(eventId);
+          await addTicket({ eventId, eventName: eventTitle, joinedAt: Date.now() });
+          Alert.alert(
+            '参加が記録されました',
+            '参加証が発行されました。\n「参加証」からご確認いただけます。',
+            [
+              { text: '参加券に戻る', style: 'default' },
+              { text: '参加証を見る', onPress: () => router.push(schoolRoutes.certificates as any) },
+            ]
+          );
+          await loadParticipations();
+        } else {
+          Alert.alert('エラー', result.error?.message ?? '参加の記録に失敗しました');
+        }
+      } catch {
+        Alert.alert('エラー', '参加の記録に失敗しました');
+      } finally {
+        setParticipatingId(null);
+      }
+    },
+    [addTicket, loadParticipations, router]
+  );
+
   useFocusEffect(
     useCallback(() => {
       loadParticipations().catch(() => {});
@@ -36,11 +74,14 @@ export const UserEventsScreen: React.FC = () => {
   );
 
   const events = getAllSchoolEvents();
-  const pendingEvents = events.filter(
-    (event) => startedIds.includes(event.id) && !(isSchoolMode && isJoined(event.id))
-  );
-  const completedEvents = events.filter(
-    (event) => (isSchoolMode ? isJoined(event.id) : completedIds.includes(event.id))
+  const pendingEvents = events.filter((event) => {
+    if (isSchoolMode) {
+      return !isJoined(event.id); // 学校 PoC: 未参加のイベントをすべて未完了に表示し「参加する」可能に
+    }
+    return startedIds.includes(event.id) && !completedIds.includes(event.id);
+  });
+  const completedEvents = events.filter((event) =>
+    isSchoolMode ? isJoined(event.id) : completedIds.includes(event.id)
   );
 
   return (
@@ -77,6 +118,17 @@ export const UserEventsScreen: React.FC = () => {
                 datetime={event.datetime}
                 host={event.host}
                 leftSlot={<StatusDot color="#f5c542" />}
+                rightSlot={
+                  isSchoolMode ? (
+                    <Button
+                      title={participatingId === event.id ? '処理中…' : '参加する'}
+                      onPress={() => handleMockParticipate(event.id, event.title)}
+                      disabled={participatingId !== null}
+                      variant="primary"
+                      style={styles.rowButton}
+                    />
+                  ) : undefined
+                }
                 onPress={() => router.push(schoolRoutes.confirm(event.id) as any)}
               />
             ))
@@ -106,6 +158,14 @@ export const UserEventsScreen: React.FC = () => {
         <AppText variant="small" style={styles.helper}>
           黄色の・は未完了、緑の・は完了済みです
         </AppText>
+        {isSchoolMode ? (
+          <Button
+            title="参加証"
+            variant="secondary"
+            onPress={() => router.push(schoolRoutes.certificates as any)}
+            style={styles.certificatesLink}
+          />
+        ) : null}
       </ScrollView>
     </SafeAreaView>
   );
@@ -143,4 +203,10 @@ const styles = StyleSheet.create({
   helper: {
     color: theme.colors.textTertiary,
   },
+  rowButton: {
+    minWidth: 100,
+  },
+  certificatesLink: {
+    marginTop: theme.spacing.lg,
+  },
 });
diff --git a/wene-mobile/src/screens/user/UserScanScreen.tsx b/wene-mobile/src/screens/user/UserScanScreen.tsx
index 17eb255..dbdb19d 100644
--- a/wene-mobile/src/screens/user/UserScanScreen.tsx
+++ b/wene-mobile/src/screens/user/UserScanScreen.tsx
@@ -1,16 +1,158 @@
-import React from 'react';
-import { View, StyleSheet } from 'react-native';
+import React, { useState, useCallback, useRef } from 'react';
+import { View, StyleSheet, Platform } from 'react-native';
 import { SafeAreaView } from 'react-native-safe-area-context';
 import { useRouter } from 'expo-router';
+import { CameraView, useCameraPermissions } from 'expo-camera';
 import { AppText, Button, Card } from '../../ui/components';
 import { theme } from '../../ui/theme';
 import { schoolRoutes } from '../../lib/schoolRoutes';
 import { useEventIdFromParams } from '../../hooks/useEventIdFromParams';
+import { getEventById } from '../../api/schoolEvents';
+
+/** 再読み取り直後の同一QR連続検知を防ぐ cooldown（ms） */
+const SCAN_COOLDOWN_MS = 1800;
+
+/**
+ * QRデータから eventId を抽出（URL の ?eventId= / path または生のID）
+ */
+function parseEventIdFromQrData(data: string): string | null {
+  const trimmed = data?.trim();
+  if (!trimmed) return null;
+  try {
+    if (trimmed.startsWith('http://') || trimmed.startsWith('https://')) {
+      const url = new URL(trimmed);
+      const fromQuery = url.searchParams.get('eventId');
+      if (fromQuery && fromQuery.trim().length > 0) return fromQuery.trim();
+      const path = url.pathname;
+      const match = path.match(/\/r\/school\/([^/]+)/) || path.match(/\/([^/]+)\/?$/);
+      if (match?.[1] && match[1] !== 'scan') return match[1];
+    }
+    if (/^evt-[a-z0-9-]+$/i.test(trimmed) || trimmed.length >= 4) return trimmed;
+  } catch {
+    if (trimmed.length >= 4) return trimmed;
+  }
+  return null;
+}
 
 export const UserScanScreen: React.FC = () => {
   const router = useRouter();
   const { eventId: targetEventId } = useEventIdFromParams({ defaultValue: 'evt-001' });
+  const [permission, requestPermission] = useCameraPermissions();
+  const [scanned, setScanned] = useState(false);
+  const [scannedEventId, setScannedEventId] = useState<string | null>(null);
+  const scanCooldownUntil = useRef(0);
+  const eventId = targetEventId ?? 'evt-001';
+  const event = scannedEventId ? getEventById(scannedEventId) : null;
+
+  const goToConfirm = useCallback(
+    (id: string) => {
+      router.push(schoolRoutes.confirm(id) as any);
+    },
+    [router]
+  );
+
+  const handleBarcodeScanned = useCallback(
+    (result: { data?: string; nativeEvent?: { data?: string } }) => {
+      const now = Date.now();
+      if (now < scanCooldownUntil.current) return;
+      const data = typeof result?.data === 'string' ? result.data : result?.nativeEvent?.data;
+      if (typeof data !== 'string') return;
+      const parsed = parseEventIdFromQrData(data);
+      if (!parsed) return;
+      scanCooldownUntil.current = now + SCAN_COOLDOWN_MS;
+      setScanned(true);
+      setScannedEventId(parsed);
+    },
+    []
+  );
+
+  const handleContinueWithoutScan = useCallback(() => {
+    goToConfirm(eventId);
+  }, [goToConfirm, eventId]);
+
+  /** もう一度読み取る: 同一画面で状態のみリセット（カメラは再マウントしない） */
+  const handleRetry = useCallback(() => {
+    setScanned(false);
+    setScannedEventId(null);
+  }, []);
+
+  // Web: カメラは未対応のためフォールバックUI
+  if (Platform.OS === 'web') {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="h2" style={styles.title}>
+            QRを読み取る
+          </AppText>
+          <AppText variant="caption" style={styles.subtitle}>
+            Webではカメラを利用できません。専用アプリ（iOS/Android）で開くか、下のボタンで続行してください。
+          </AppText>
+          <Card style={styles.cameraBox}>
+            <AppText variant="caption" style={styles.cameraText}>
+              ［Web］カメラはアプリでご利用ください
+            </AppText>
+          </Card>
+          <Button title="続行（テスト用）" onPress={handleContinueWithoutScan} />
+          <Button
+            title="もう一度"
+            variant="secondary"
+            onPress={handleRetry}
+            style={styles.secondaryButton}
+          />
+        </View>
+      </SafeAreaView>
+    );
+  }
+
+  // Native: 権限未許可
+  if (!permission) {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="h2" style={styles.title}>
+            QRを読み取る
+          </AppText>
+          <AppText variant="caption" style={styles.subtitle}>
+            読み込み中…
+          </AppText>
+          <Card style={styles.cameraBox}>
+            <AppText variant="caption" style={styles.cameraText}>
+              カメラの準備をしています
+            </AppText>
+          </Card>
+        </View>
+      </SafeAreaView>
+    );
+  }
+
+  if (!permission.granted) {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="h2" style={styles.title}>
+            QRを読み取る
+          </AppText>
+          <AppText variant="caption" style={styles.subtitle}>
+            カメラを使うには設定で許可してください。
+          </AppText>
+          <Card style={styles.cameraBox}>
+            <AppText variant="caption" style={styles.cameraText}>
+              カメラが許可されていません
+            </AppText>
+          </Card>
+          <Button title="カメラを許可" onPress={requestPermission} />
+          <Button
+            title="許可せずに続行（テスト用）"
+            variant="secondary"
+            onPress={handleContinueWithoutScan}
+            style={styles.secondaryButton}
+          />
+        </View>
+      </SafeAreaView>
+    );
+  }
 
+  // Native: カメラ表示＋バーコードスキャン
   return (
     <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
       <View style={styles.content}>
@@ -18,24 +160,72 @@ export const UserScanScreen: React.FC = () => {
           QRを読み取る
         </AppText>
         <AppText variant="caption" style={styles.subtitle}>
-          受付のQRを読み取ってください
+          受付のQRコードを枠内に合わせてください
         </AppText>
 
-        <Card style={styles.cameraBox}>
-          <AppText variant="caption" style={styles.cameraText}>
-            カメラプレビュー（モック）
-          </AppText>
-        </Card>
-
-        <Button title="読み取り開始" onPress={() => targetEventId && router.push(schoolRoutes.confirm(targetEventId) as any)} />
-        <Button
-          title="もう一度読み取る"
-          variant="secondary"
-          onPress={() => targetEventId && router.replace(`${schoolRoutes.scan}?eventId=${targetEventId}` as any)}
-          style={styles.secondaryButton}
-        />
+        <View style={styles.cameraBox}>
+          <CameraView
+            style={StyleSheet.absoluteFill}
+            facing="back"
+            barcodeScannerSettings={{ barcodeTypes: ['qr'] }}
+            onBarcodeScanned={scanned ? undefined : handleBarcodeScanned}
+          />
+          {scanned ? (
+            <View style={styles.scannedOverlay}>
+              <AppText variant="caption" style={styles.scannedText}>
+                読み取りました
+              </AppText>
+              {event ? (
+                <View style={styles.scannedEventBox}>
+                  <AppText variant="body" style={styles.scannedEventTitle} numberOfLines={2}>
+                    {event.title}
+                  </AppText>
+                  {event.datetime ? (
+                    <AppText variant="caption" style={styles.scannedEventMeta}>
+                      {event.datetime}
+                    </AppText>
+                  ) : null}
+                  {event.host ? (
+                    <AppText variant="caption" style={styles.scannedEventMeta}>
+                      主催: {event.host}
+                    </AppText>
+                  ) : null}
+                </View>
+              ) : scannedEventId ? (
+                <AppText variant="caption" style={styles.scannedEventMeta}>
+                  イベントID: {scannedEventId}
+                </AppText>
+              ) : null}
+              <Button
+                title="参加確認へ"
+                onPress={() => scannedEventId && goToConfirm(scannedEventId)}
+                style={styles.scannedConfirmButton}
+              />
+              <Button
+                title="もう一度読み取る"
+                variant="secondary"
+                onPress={handleRetry}
+                style={styles.scannedRetryButton}
+              />
+            </View>
+          ) : null}
+        </View>
 
-        {/* TODO: QR 期限切れ時のみ表示。現状はモックのため非表示 */}
+        {!scanned && (
+          <>
+            <Button
+              title="読み取れない場合はこちら"
+              variant="secondary"
+              onPress={handleContinueWithoutScan}
+            />
+            <Button
+              title="もう一度読み取る"
+              variant="secondary"
+              onPress={handleRetry}
+              style={styles.secondaryButton}
+            />
+          </>
+        )}
       </View>
     </SafeAreaView>
   );
@@ -59,13 +249,48 @@ const styles = StyleSheet.create({
   },
   cameraBox: {
     height: 280,
-    alignItems: 'center',
-    justifyContent: 'center',
+    borderRadius: 8,
+    overflow: 'hidden',
     marginBottom: theme.spacing.lg,
+    backgroundColor: theme.colors.gray100,
   },
   cameraText: {
     color: theme.colors.textTertiary,
   },
+  scannedOverlay: {
+    ...StyleSheet.absoluteFillObject,
+    backgroundColor: 'rgba(0,0,0,0.6)',
+    alignItems: 'center',
+    justifyContent: 'center',
+    padding: theme.spacing.lg,
+  },
+  scannedText: {
+    color: '#fff',
+    marginBottom: theme.spacing.sm,
+  },
+  scannedEventBox: {
+    alignSelf: 'stretch',
+    marginBottom: theme.spacing.md,
+    paddingHorizontal: theme.spacing.sm,
+  },
+  scannedEventTitle: {
+    color: '#fff',
+    fontWeight: '600',
+    marginBottom: theme.spacing.xs,
+    textAlign: 'center',
+  },
+  scannedEventMeta: {
+    color: 'rgba(255,255,255,0.9)',
+    marginTop: theme.spacing.xs,
+    textAlign: 'center',
+  },
+  scannedConfirmButton: {
+    marginTop: theme.spacing.sm,
+    marginBottom: theme.spacing.xs,
+  },
+  scannedRetryButton: {
+    marginTop: theme.spacing.xs,
+  },
   secondaryButton: {
     marginTop: theme.spacing.sm,
   },
diff --git a/wene-mobile/src/screens/user/UserSuccessScreen.tsx b/wene-mobile/src/screens/user/UserSuccessScreen.tsx
index f92efa5..1b1ae85 100644
--- a/wene-mobile/src/screens/user/UserSuccessScreen.tsx
+++ b/wene-mobile/src/screens/user/UserSuccessScreen.tsx
@@ -17,7 +17,17 @@ export const UserSuccessScreen: React.FC = () => {
     setCompleted(targetEventId).catch(() => {});
   }, [targetEventId]);
 
-  if (!isValid) return null;
+  if (!isValid) {
+    return (
+      <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
+        <View style={styles.content}>
+          <AppText variant="body" style={styles.subtitle}>
+            リダイレクト中…
+          </AppText>
+        </View>
+      </SafeAreaView>
+    );
+  }
 
   return (
     <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
diff --git a/wene-mobile/src/solana/grantProgram.ts b/wene-mobile/src/solana/grantProgram.ts
index a973a5b..99624c7 100644
--- a/wene-mobile/src/solana/grantProgram.ts
+++ b/wene-mobile/src/solana/grantProgram.ts
@@ -1,25 +1,15 @@
 /**
- * Grant Program SDK
+ * Grant Program PDA Utilities
  * 
  * 【安定性のポイント】
  * - Program ID は config.ts から一元取得
- * - Connection は singleton を使用
  * - PDA 計算は純粋関数（副作用なし）
  */
 
-import {
-  PublicKey,
-  Transaction,
-} from '@solana/web3.js';
-import {
-  getAssociatedTokenAddress,
-  createAssociatedTokenAccountInstruction,
-  getAccount,
-} from '@solana/spl-token';
+import { PublicKey } from '@solana/web3.js';
 
 // Program ID は config.ts から一元取得
 import { GRANT_PROGRAM_ID } from './config';
-import { getConnection } from './singleton';
 
 // ============================================================
 // PDA 計算（純粋関数）
@@ -103,117 +93,3 @@ export const calculatePeriodIndex = (
   }
   return elapsed / periodSeconds;
 };
-
-// ============================================================
-// トランザクション構築
-// ============================================================
-
-/**
- * Claim Grantトランザクションを構築
- * 
- * 【安定性】
- * - Connection は singleton を使用
- * - 署名は呼び出し側で行う（Phantomなど）
- */
-export const buildClaimGrantTransaction = async (
-  claimer: PublicKey,
-  params: {
-    authority: PublicKey;
-    mint: PublicKey;
-    grantId: bigint;
-    periodIndex: bigint;
-  }
-): Promise<Transaction> => {
-  const connection = getConnection();
-  const { authority, mint, grantId, periodIndex } = params;
-  
-  // PDAを計算
-  const [grantPda] = getGrantPda(authority, mint, grantId);
-  const [_vaultPda] = getVaultPda(grantPda);
-  const [_receiptPda] = getReceiptPda(grantPda, claimer, periodIndex);
-  
-  // 受給者のATAを取得/作成
-  const claimerAta = await getAssociatedTokenAddress(mint, claimer);
-  
-  // ATAが存在しない場合は作成命令を追加
-  const transaction = new Transaction();
-  try {
-    await getAccount(connection, claimerAta);
-  } catch {
-    // ATAが存在しない場合は作成命令を追加
-    transaction.add(
-      createAssociatedTokenAccountInstruction(
-        claimer,
-        claimerAta,
-        claimer,
-        mint
-      )
-    );
-  }
-  
-  // TODO: Anchor ProgramのIDLを使って実際のinstructionを構築
-  // const program = getProgram();
-  // const instruction = await program.methods
-  //   .claimGrant(new BN(periodIndex.toString()))
-  //   .accounts({ ... })
-  //   .instruction();
-  // transaction.add(instruction);
-  
-  return transaction;
-};
-
-/**
- * Grant情報を取得
- * 
- * 【安定性】
- * - Connection は singleton を使用
- */
-export const fetchGrantInfo = async (
-  authority: PublicKey,
-  mint: PublicKey,
-  grantId: bigint
-): Promise<{
-  grant: PublicKey;
-  vault: PublicKey;
-  amountPerPeriod: bigint;
-  periodSeconds: bigint;
-  startTs: bigint;
-  expiresAt: bigint;
-} | null> => {
-  try {
-    const [grantPda] = getGrantPda(authority, mint, grantId);
-    const [vaultPda] = getVaultPda(grantPda);
-    
-    // TODO: Anchor Programのaccount.fetch()を使う
-    // const program = getProgram();
-    // const grantAccount = await program.account.grant.fetch(grantPda);
-    
-    // スタブ: ダミーデータを返す
-    return {
-      grant: grantPda,
-      vault: vaultPda,
-      amountPerPeriod: BigInt(1000),
-      periodSeconds: BigInt(2592000), // 30日
-      startTs: BigInt(Math.floor(Date.now() / 1000) - 86400),
-      expiresAt: BigInt(0),
-    };
-  } catch {
-    return null;
-  }
-};
-
-// ============================================================
-// 型定義（後方互換性）
-// ============================================================
-
-export interface GrantProgram {
-  version: string;
-  name: string;
-  instructions: Array<{
-    name: string;
-    accounts: Array<any>;
-    args: Array<any>;
-  }>;
-  accounts: Array<any>;
-  types: Array<any>;
-}
diff --git a/wene-mobile/src/solana/index.ts b/wene-mobile/src/solana/index.ts
index bddaf28..4896f4b 100644
--- a/wene-mobile/src/solana/index.ts
+++ b/wene-mobile/src/solana/index.ts
@@ -47,8 +47,6 @@ export {
   getVaultPda,
   getReceiptPda,
   calculatePeriodIndex,
-  buildClaimGrantTransaction,
-  fetchGrantInfo,
 } from './grantProgram';
 
 // ============================================================
diff --git a/wene-mobile/src/solana/sendTx.ts b/wene-mobile/src/solana/sendTx.ts
index 243a6c6..ffe608e 100644
--- a/wene-mobile/src/solana/sendTx.ts
+++ b/wene-mobile/src/solana/sendTx.ts
@@ -1,5 +1,5 @@
 import { Transaction } from '@solana/web3.js';
-import { getConnection } from './anchorClient';
+import { getConnection } from './singleton';
 
 /**
  * DEV のみ: simulate 失敗時に UI に err/logs を渡すためのエラー。
diff --git a/wene-mobile/src/solana/singleton.ts b/wene-mobile/src/solana/singleton.ts
index 50d026d..9899d4f 100644
--- a/wene-mobile/src/solana/singleton.ts
+++ b/wene-mobile/src/solana/singleton.ts
@@ -7,7 +7,7 @@
  * 【安定性のポイント】
  * - モジュールスコープでインスタンスを保持
  * - 一度生成したら再利用（lazy singleton）
- * - cluster は cluster.ts の DEFAULT_CLUSTER に集約（DEV=devnet, 本番=mainnet-beta）
+ * - cluster は cluster.ts の DEFAULT_CLUSTER に集約（現状は devnet 固定）
  */
 
 import { Connection, Keypair } from '@solana/web3.js';
diff --git a/wene-mobile/src/solana/txBuilders.ts b/wene-mobile/src/solana/txBuilders.ts
index 6bb52b4..c9ac9f8 100644
--- a/wene-mobile/src/solana/txBuilders.ts
+++ b/wene-mobile/src/solana/txBuilders.ts
@@ -8,11 +8,10 @@ import {
 } from '@solana/spl-token';
 import { BN } from '@coral-xyz/anchor';
 import { GRANT_PROGRAM_ID } from './config';
-import { getConnection, getProgram } from './anchorClient';
+import { getConnection, getProgram, RPC_URL } from './singleton';
 import { getGrantPda, getVaultPda, getReceiptPda, calculatePeriodIndex } from './grantProgram';
 import { DEFAULT_CLUSTER } from './cluster';
 import { DEVNET_GRANT_CONFIG } from './devnetConfig';
-import { RPC_URL } from './singleton';
 
 /**
  * Claim Transaction 構築パラメータ
@@ -55,7 +54,7 @@ export interface BuildClaimTxResult {
 export async function buildClaimTx(
   params: BuildClaimTxParams
 ): Promise<BuildClaimTxResult> {
-  const { campaignId, recipientPubkey } = params;
+  const { campaignId: _campaignId, recipientPubkey } = params;
   const connection = getConnection();
   if (typeof __DEV__ !== 'undefined' && __DEV__) {
     console.log('[RPC] buildClaimTx() connection.rpcEndpoint=', connection.rpcEndpoint);
@@ -188,7 +187,8 @@ export interface BuildUseTxResult {
   tx: Transaction;
   meta: {
     feePayer: PublicKey | null;
-    recentBlockhash: string | null;
+    recentBlockhash: string;
+    lastValidBlockHeight: number;
     instructionCount: number;
     mint: PublicKey;
     userAta: PublicKey;
@@ -207,15 +207,19 @@ export interface BuildUseTxResult {
 export async function buildUseTx(
   params: BuildUseTxParams
 ): Promise<BuildUseTxResult> {
-  const { campaignId, recipientPubkey, amount } = params;
+  const { campaignId: _campaignId, recipientPubkey, amount } = params;
   const connection = getConnection();
 
   // TODO: campaignId から Grant 情報（mint）を取得
-  // 現時点では、ダミー値を使用（実際の実装では API から取得）
-  const dummyMint = new PublicKey('So11111111111111111111111111111111111111112'); // SOL (devnet)
+  // PoC: devnetConfig の mint のみ許可（誤って wSOL などを burn しないための安全装置）
+  const devnetConfig = DEFAULT_CLUSTER === 'devnet' ? DEVNET_GRANT_CONFIG : null;
+  if (!devnetConfig) {
+    throw new Error('UseTx is not configured (devnetConfig is missing)');
+  }
+  const mint = devnetConfig.mint;
 
   // ユーザーの ATA を取得
-  const userAta = await getAssociatedTokenAddress(dummyMint, recipientPubkey);
+  const userAta = await getAssociatedTokenAddress(mint, recipientPubkey);
 
   // トランザクションを作成
   const tx = new Transaction();
@@ -244,9 +248,9 @@ export async function buildUseTx(
       tx.add(
         createBurnInstruction(
           userAta, // account: 燃やすトークンアカウント
-          dummyMint, // mint: トークンのmint
+          mint, // mint: PoC の配布トークン
           recipientPubkey, // owner: トークンアカウントの所有者（signer）
-          Number(burnAmount), // amount (u64)
+          burnAmount, // amount (u64)
           [], // multiSigners（単一署名者の場合は空）
           TOKEN_PROGRAM_ID
         )
@@ -257,15 +261,9 @@ export async function buildUseTx(
     }
   }
 
-  // recentBlockhash を取得
-  let recentBlockhash: string | null = null;
-  try {
-    const { blockhash } = await connection.getLatestBlockhash('confirmed');
-    recentBlockhash = blockhash;
-    tx.recentBlockhash = blockhash;
-  } catch (error) {
-    console.warn('Failed to get recent blockhash:', error);
-  }
+  // recentBlockhash / lastValidBlockHeight（sendSignedTx の confirm で使えるようにする）
+  const { blockhash: recentBlockhash, lastValidBlockHeight } = await connection.getLatestBlockhash('confirmed');
+  tx.recentBlockhash = recentBlockhash;
 
   // feePayer を設定
   tx.feePayer = recipientPubkey;
@@ -275,8 +273,9 @@ export async function buildUseTx(
     meta: {
       feePayer: recipientPubkey,
       recentBlockhash,
+      lastValidBlockHeight,
       instructionCount: tx.instructions.length,
-      mint: dummyMint,
+      mint,
       userAta,
       amount: burnAmount,
     },
diff --git a/wene-mobile/src/solana/wallet.ts b/wene-mobile/src/solana/wallet.ts
index 778e8ba..92c5aae 100644
--- a/wene-mobile/src/solana/wallet.ts
+++ b/wene-mobile/src/solana/wallet.ts
@@ -4,7 +4,7 @@
  */
 
 import { Connection, PublicKey } from "@solana/web3.js";
-import { TOKEN_PROGRAM_ID, getAssociatedTokenAddress, getAccount } from "@solana/spl-token";
+import { TOKEN_PROGRAM_ID, getAssociatedTokenAddress, getAccount, getMint } from "@solana/spl-token";
 
 // --- changed ---
 // Devnet: set this to a mint you actually care about (or leave TODO and rely on fallback elsewhere)
@@ -109,9 +109,12 @@ export async function fetchSplBalance(
 ): Promise<FetchSplBalanceResult> {
   try {
     const ata = await getAssociatedTokenAddress(mintPubkey, ownerPubkey);
-    const acc = await getAccount(connection, ata);
+    const [acc, mint] = await Promise.all([
+      getAccount(connection, ata),
+      getMint(connection, mintPubkey),
+    ]);
     // acc.amount is bigint
-    return { amount: acc.amount.toString(), decimals: 6 };
+    return { amount: acc.amount.toString(), decimals: mint.decimals };
   } catch {
     // Fail-soft: no ATA / no balance / RPC issues => 0
     return { amount: "0", decimals: 6 };
diff --git a/wene-mobile/src/store/studentSession.ts b/wene-mobile/src/store/studentSession.ts
new file mode 100644
index 0000000..98a9eca
--- /dev/null
+++ b/wene-mobile/src/store/studentSession.ts
@@ -0,0 +1,9 @@
+/**
+ * 生徒セッションは utils/studentSession を唯一の実装とする。ここは re-export のみ。
+ */
+export {
+  getStudentSession,
+  setStudentSession,
+  clearStudentSession,
+  type StudentSession,
+} from '../utils/studentSession';
diff --git a/wene-mobile/src/types/certificate.ts b/wene-mobile/src/types/certificate.ts
new file mode 100644
index 0000000..5395a8e
--- /dev/null
+++ b/wene-mobile/src/types/certificate.ts
@@ -0,0 +1,15 @@
+/**
+ * 参加証（証明書）の型定義
+ * 唯一の定義元。他では re-export のみ利用すること。
+ */
+
+export interface Certificate {
+  certificateId: string;
+  studentId: string;
+  eventId: string;
+  eventName: string;
+  category?: string;
+  issuedAt: string; // ISO
+  organizerName: string;
+  note?: string;
+}
diff --git a/wene-mobile/src/types/participation.ts b/wene-mobile/src/types/participation.ts
new file mode 100644
index 0000000..487c43b
--- /dev/null
+++ b/wene-mobile/src/types/participation.ts
@@ -0,0 +1,15 @@
+/**
+ * 参加記録の型（PoC 用・最小限）
+ * 実 API では recordId 等はサーバー発行に差し替え可能
+ */
+export type ParticipationRecord = {
+  recordId: string;
+  studentId: string;
+  eventId: string;
+  recordedAt: string; // ISO
+  source?: 'manual' | 'qr';
+  /** UI/CSV 用。記録時スナップショットまたはレジストリから補完。学年は UI で 1..12 を想定。 */
+  grade?: number;
+  studentCodeMasked?: string;
+  displayName?: string;
+};
diff --git a/wene-mobile/src/types/school.ts b/wene-mobile/src/types/school.ts
index ead06f3..7bc52fc 100644
--- a/wene-mobile/src/types/school.ts
+++ b/wene-mobile/src/types/school.ts
@@ -35,3 +35,5 @@ export interface SchoolClaimResultFailure {
 }
 
 export type SchoolClaimResult = SchoolClaimResultSuccess | SchoolClaimResultFailure;
+
+export type { Certificate } from './certificate';
diff --git a/wene-mobile/src/types/ui.ts b/wene-mobile/src/types/ui.ts
index 02478ff..4f64269 100644
--- a/wene-mobile/src/types/ui.ts
+++ b/wene-mobile/src/types/ui.ts
@@ -5,7 +5,13 @@ export type EventState = 'draft' | 'published' | 'ended';
 export type ParticipationState = 'started' | 'completed' | 'expired' | 'invalid';
 
 export const roleLabel: Record<Role, string> = {
-  viewer: 'Viewer - Read only',
-  operator: 'Operator',
-  admin: 'Admin',
+  viewer: '閲覧のみ',
+  operator: '運用者',
+  admin: '管理者',
+};
+
+export const eventStateLabel: Record<EventState, string> = {
+  draft: '下書き',
+  published: '公開中',
+  ended: '終了',
 };
diff --git a/wene-mobile/src/ui/components/AdminSearchBar.tsx b/wene-mobile/src/ui/components/AdminSearchBar.tsx
index 1836033..73eaa9b 100644
--- a/wene-mobile/src/ui/components/AdminSearchBar.tsx
+++ b/wene-mobile/src/ui/components/AdminSearchBar.tsx
@@ -5,22 +5,33 @@ import { adminTheme } from '../adminTheme';
 
 interface AdminSearchBarProps {
   value: string;
+  /** ラベル（例: 「アカウント情報で絞り込み」） */
+  label?: string;
   placeholder?: string;
+  /** ラベル下の補足テキスト */
+  hint?: string;
   onChange: (text: string) => void;
   style?: ViewStyle;
 }
 
 export const AdminSearchBar: React.FC<AdminSearchBarProps> = ({
   value,
+  label = '検索',
   placeholder = 'ID / 表示名 / 確認コードで検索',
+  hint,
   onChange,
   style,
 }) => {
   return (
     <View style={[styles.container, style]}>
       <AppText variant="caption" style={styles.label}>
-        検索
+        {label}
       </AppText>
+      {hint ? (
+        <AppText variant="small" style={styles.hint}>
+          {hint}
+        </AppText>
+      ) : null}
       <TextInput
         style={styles.input}
         placeholder={placeholder}
@@ -37,6 +48,10 @@ const styles = StyleSheet.create({
     marginBottom: adminTheme.spacing.md,
   },
   label: {
+    color: adminTheme.colors.text,
+    marginBottom: adminTheme.spacing.xs,
+  },
+  hint: {
     color: adminTheme.colors.textSecondary,
     marginBottom: adminTheme.spacing.xs,
   },
diff --git a/wene-mobile/src/ui/components/AdminShell.tsx b/wene-mobile/src/ui/components/AdminShell.tsx
index 7fd2ca8..86fcd4a 100644
--- a/wene-mobile/src/ui/components/AdminShell.tsx
+++ b/wene-mobile/src/ui/components/AdminShell.tsx
@@ -1,11 +1,15 @@
-import React from 'react';
+import React, { useState, useEffect } from 'react';
 import { View, StyleSheet, TouchableOpacity } from 'react-native';
+import { SafeAreaView } from 'react-native-safe-area-context';
 import { useRouter } from 'expo-router';
 import { AppText } from './AppText';
 import { adminTheme } from '../adminTheme';
 import type { Role } from '../../types/ui';
 import { roleLabel } from '../../types/ui';
 import { DevRoleSwitcher } from './DevRoleSwitcher';
+import { pingSchoolApi } from '../../api/adminApiHealth';
+import { isSchoolApiEnabled } from '../../config/api';
+import { apiAdminLogout } from '../../api/adminApiClient';
 
 interface AdminShellProps {
   title: string;
@@ -14,15 +18,41 @@ interface AdminShellProps {
   children: React.ReactNode;
 }
 
+type ApiStatus = 'off' | 'on' | 'err';
+
 export const AdminShell: React.FC<AdminShellProps> = ({ title, role, onRoleChange, children }) => {
   const router = useRouter();
   const showCategories = role === 'admin';
+  const [apiStatus, setApiStatus] = useState<ApiStatus>('off');
+  const [apiError, setApiError] = useState<string | null>(null);
+
+  useEffect(() => {
+    let cancelled = false;
+    pingSchoolApi().then((result) => {
+      if (cancelled) return;
+      if (result.ok) {
+        setApiStatus('on');
+        setApiError(null);
+      } else if (result.error === 'disabled') {
+        setApiStatus('off');
+        setApiError(null);
+      } else {
+        setApiStatus('err');
+        setApiError(result.error ?? result.status?.toString() ?? 'error');
+      }
+    });
+    return () => {
+      cancelled = true;
+    };
+  }, []);
+
+  const apiLabel = apiStatus === 'on' ? 'API: ON' : apiStatus === 'err' ? 'API: ERR' : 'API: OFF';
 
   return (
-    <View style={styles.container}>
+    <SafeAreaView style={styles.container} edges={['top', 'bottom']}>
       <View style={styles.header}>
         <AppText variant="h3" style={styles.logo}>
-          we-ne Admin
+          We-ne 管理画面
         </AppText>
         <AppText variant="caption" style={styles.pageTitle}>
           {title}
@@ -31,33 +61,46 @@ export const AdminShell: React.FC<AdminShellProps> = ({ title, role, onRoleChang
           <AppText variant="small" style={styles.role}>
             {roleLabel[role]}
           </AppText>
+          <AppText variant="small" style={[styles.apiStatus, apiStatus === 'on' && styles.apiOn, apiStatus === 'err' && styles.apiErr]}>
+            {apiLabel}
+            {apiError ? ` (${apiError})` : ''}
+          </AppText>
           <View style={styles.nav}>
             <TouchableOpacity onPress={() => router.push('/admin' as any)}>
               <AppText variant="caption" style={styles.navText}>
-                Events
+                イベント
               </AppText>
             </TouchableOpacity>
             <TouchableOpacity onPress={() => router.push('/admin/participants' as any)}>
               <AppText variant="caption" style={styles.navText}>
-                Participants
+                参加者
               </AppText>
             </TouchableOpacity>
             {showCategories ? (
               <TouchableOpacity onPress={() => router.push('/admin/categories' as any)}>
                 <AppText variant="caption" style={styles.navText}>
-                  Categories
+                  カテゴリ
                 </AppText>
               </TouchableOpacity>
             ) : null}
-            <TouchableOpacity onPress={() => router.push('/admin/login' as any)}>
+            <TouchableOpacity
+              onPress={async () => {
+                if (isSchoolApiEnabled()) {
+                  await apiAdminLogout();
+                  router.replace('/admin/login' as any);
+                } else {
+                  router.push('/admin/login' as any);
+                }
+              }}
+            >
               <AppText variant="caption" style={styles.navText}>
-                Logout
+                ログアウト
               </AppText>
             </TouchableOpacity>
             {typeof __DEV__ !== 'undefined' && __DEV__ ? (
               <TouchableOpacity onPress={() => router.push('/dev/web3' as any)}>
                 <AppText variant="caption" style={styles.navText}>
-                  Web3 Smoke
+                  Web3確認
                 </AppText>
               </TouchableOpacity>
             ) : null}
@@ -70,7 +113,7 @@ export const AdminShell: React.FC<AdminShellProps> = ({ title, role, onRoleChang
           <DevRoleSwitcher value={role} onChange={onRoleChange} />
         </View>
       ) : null}
-    </View>
+    </SafeAreaView>
   );
 };
 
@@ -101,6 +144,16 @@ const styles = StyleSheet.create({
     color: adminTheme.colors.textTertiary,
     marginBottom: adminTheme.spacing.xs,
   },
+  apiStatus: {
+    color: adminTheme.colors.textTertiary,
+    marginBottom: adminTheme.spacing.xs,
+  },
+  apiOn: {
+    color: adminTheme.colors.textSecondary,
+  },
+  apiErr: {
+    color: '#e57373',
+  },
   nav: {
     flexDirection: 'row',
     gap: adminTheme.spacing.md,
diff --git a/wene-mobile/src/ui/components/Button.tsx b/wene-mobile/src/ui/components/Button.tsx
index cf3a7bd..26625a0 100644
--- a/wene-mobile/src/ui/components/Button.tsx
+++ b/wene-mobile/src/ui/components/Button.tsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import { TouchableOpacity, Text, StyleSheet, ActivityIndicator, ViewStyle, TextStyle } from 'react-native';
 import { theme } from '../theme';
+import { adminTheme } from '../adminTheme';
 
 type ButtonVariant = 'primary' | 'secondary';
 type ButtonSize = 'large' | 'medium';
@@ -13,6 +14,8 @@ interface ButtonProps {
   disabled?: boolean;
   loading?: boolean;
   style?: ViewStyle;
+  /** 管理者UI用: 背景・文字を暗色テーマに（文字は白） */
+  tone?: 'light' | 'dark';
 }
 
 export const Button: React.FC<ButtonProps> = ({
@@ -23,29 +26,41 @@ export const Button: React.FC<ButtonProps> = ({
   disabled = false,
   loading = false,
   style,
+  tone = 'light',
 }) => {
   const isDisabled = disabled || loading;
-
-  return (
-    <TouchableOpacity
-      style={[
+  const isDark = tone === 'dark';
+  const buttonStyles = isDark
+    ? [
+        styles.button,
+        variant === 'primary' ? styles.primaryDark : styles.secondaryDark,
+        styles[size],
+        isDisabled && styles.disabled,
+        style,
+      ]
+    : [
         styles.button,
         styles[variant],
         styles[size],
         isDisabled && styles.disabled,
         style,
-      ]}
+      ];
+  const textStyles = isDark
+    ? ([styles.text, styles[`${size}Text`], styles.textDark] as TextStyle[])
+    : [styles.text, styles[`${variant}Text`], styles[`${size}Text`]];
+  const indicatorColor = isDark ? adminTheme.colors.text : (variant === 'primary' ? theme.colors.white : theme.colors.black);
+
+  return (
+    <TouchableOpacity
+      style={buttonStyles}
       onPress={onPress}
       disabled={isDisabled}
       activeOpacity={0.7}
     >
       {loading ? (
-        <ActivityIndicator
-          size="small"
-          color={variant === 'primary' ? theme.colors.white : theme.colors.black}
-        />
+        <ActivityIndicator size="small" color={indicatorColor} />
       ) : (
-        <Text style={[styles.text, styles[`${variant}Text`], styles[`${size}Text`]]}>
+        <Text style={textStyles}>
           {title}
         </Text>
       )}
@@ -68,6 +83,16 @@ const styles = StyleSheet.create({
     borderWidth: 1,
     borderColor: theme.colors.border,
   },
+  primaryDark: {
+    backgroundColor: adminTheme.colors.primary,
+    borderWidth: 1,
+    borderColor: adminTheme.colors.border,
+  },
+  secondaryDark: {
+    backgroundColor: adminTheme.colors.surface,
+    borderWidth: 1,
+    borderColor: adminTheme.colors.border,
+  },
   large: {
     paddingVertical: theme.spacing.md,
     paddingHorizontal: theme.spacing.lg,
@@ -91,6 +116,9 @@ const styles = StyleSheet.create({
   secondaryText: {
     color: theme.colors.black,
   },
+  textDark: {
+    color: adminTheme.colors.text,
+  },
   largeText: {
     fontSize: 16,
   },
diff --git a/wene-mobile/src/ui/components/DevRoleSwitcher.tsx b/wene-mobile/src/ui/components/DevRoleSwitcher.tsx
index 0582a08..28534ef 100644
--- a/wene-mobile/src/ui/components/DevRoleSwitcher.tsx
+++ b/wene-mobile/src/ui/components/DevRoleSwitcher.tsx
@@ -3,6 +3,7 @@ import { View, StyleSheet, TouchableOpacity, TextStyle } from 'react-native';
 import { AppText } from './AppText';
 import { adminTheme } from '../adminTheme';
 import type { Role } from '../../types/ui';
+import { roleLabel } from '../../types/ui';
 
 interface DevRoleSwitcherProps {
   value: Role;
@@ -17,7 +18,7 @@ export const DevRoleSwitcher: React.FC<DevRoleSwitcherProps> = ({ value, onChang
   return (
     <View style={styles.container}>
       <AppText variant="small" style={styles.label}>
-        Dev Role
+        開発用ロール
       </AppText>
       <View style={styles.buttons}>
         {roles.map((role) => (
@@ -30,7 +31,7 @@ export const DevRoleSwitcher: React.FC<DevRoleSwitcherProps> = ({ value, onChang
               variant="small"
               style={[styles.buttonText, value === role && styles.buttonTextActive] as unknown as TextStyle}
             >
-              {role}
+              {roleLabel[role]}
             </AppText>
           </TouchableOpacity>
         ))}
@@ -44,7 +45,7 @@ const styles = StyleSheet.create({
     marginTop: adminTheme.spacing.md,
   },
   label: {
-    color: adminTheme.colors.textTertiary,
+    color: adminTheme.colors.textSecondary,
     marginBottom: adminTheme.spacing.xs,
   },
   buttons: {
diff --git a/wene-mobile/src/ui/components/EventRow.tsx b/wene-mobile/src/ui/components/EventRow.tsx
index 20cba24..15a12d6 100644
--- a/wene-mobile/src/ui/components/EventRow.tsx
+++ b/wene-mobile/src/ui/components/EventRow.tsx
@@ -1,7 +1,8 @@
 import React from 'react';
-import { View, StyleSheet, TouchableOpacity, ViewStyle } from 'react-native';
+import { View, StyleSheet, TouchableOpacity, ViewStyle, TextStyle } from 'react-native';
 import { AppText } from './AppText';
 import { theme } from '../theme';
+import { adminTheme } from '../adminTheme';
 
 interface EventRowProps {
   title: string;
@@ -11,6 +12,8 @@ interface EventRowProps {
   rightSlot?: React.ReactNode;
   onPress?: () => void;
   style?: ViewStyle;
+  /** 管理者UI用: 文字・枠を白系に */
+  tone?: 'light' | 'dark';
 }
 
 export const EventRow: React.FC<EventRowProps> = ({
@@ -21,14 +24,18 @@ export const EventRow: React.FC<EventRowProps> = ({
   rightSlot,
   onPress,
   style,
+  tone = 'light',
 }) => {
+  const isDark = tone === 'dark';
+  const textStyle: TextStyle | undefined = isDark ? { color: '#ffffff' } : undefined;
+  const rowStyle = isDark ? [styles.row, styles.rowDark, style] : [styles.row, style];
   return (
-    <TouchableOpacity style={[styles.row, style]} onPress={onPress} disabled={!onPress}>
+    <TouchableOpacity style={rowStyle} onPress={onPress} disabled={!onPress}>
       {leftSlot ? <View style={styles.left}>{leftSlot}</View> : null}
       <View style={styles.body}>
-        <AppText variant="bodyLarge">{title}</AppText>
-        <AppText variant="caption">{datetime}</AppText>
-        <AppText variant="caption">主催: {host}</AppText>
+        <AppText variant="bodyLarge" style={textStyle}>{title}</AppText>
+        <AppText variant="caption" style={textStyle}>{datetime}</AppText>
+        <AppText variant="caption" style={textStyle}>主催: {host}</AppText>
       </View>
       {rightSlot ? <View style={styles.right}>{rightSlot}</View> : null}
     </TouchableOpacity>
@@ -43,6 +50,12 @@ const styles = StyleSheet.create({
     borderBottomWidth: 1,
     borderBottomColor: theme.colors.divider,
   },
+  rowDark: {
+    borderBottomColor: adminTheme.colors.border,
+  },
+  textDark: {
+    color: '#ffffff',
+  },
   left: {
     marginRight: theme.spacing.sm,
   },
diff --git a/wene-mobile/src/ui/components/StatusBadge.tsx b/wene-mobile/src/ui/components/StatusBadge.tsx
index 4daa57b..49be33c 100644
--- a/wene-mobile/src/ui/components/StatusBadge.tsx
+++ b/wene-mobile/src/ui/components/StatusBadge.tsx
@@ -3,23 +3,18 @@ import { View, StyleSheet, ViewStyle } from 'react-native';
 import { AppText } from './AppText';
 import { adminTheme } from '../adminTheme';
 import type { EventState } from '../../types/ui';
+import { eventStateLabel } from '../../types/ui';
 
 interface StatusBadgeProps {
   state: EventState;
   style?: ViewStyle;
 }
 
-const labelMap: Record<EventState, string> = {
-  draft: 'Draft',
-  published: 'Published',
-  ended: 'Ended',
-};
-
 export const StatusBadge: React.FC<StatusBadgeProps> = ({ state, style }) => {
   return (
     <View style={[styles.badge, style]}>
       <AppText variant="small" style={styles.text}>
-        {labelMap[state]}
+        {eventStateLabel[state]}
       </AppText>
     </View>
   );
diff --git a/wene-mobile/src/utils/appUrl.ts b/wene-mobile/src/utils/appUrl.ts
new file mode 100644
index 0000000..12cfc0d
--- /dev/null
+++ b/wene-mobile/src/utils/appUrl.ts
@@ -0,0 +1,30 @@
+import { Platform } from 'react-native';
+
+/**
+ * アプリのベースURL（Web: 現在オリジン、Native: 環境変数またはデフォルト）
+ * 管理者のQRコードで参加者に配布するスキャンURLの基点に使用する。
+ */
+export function getBaseUrl(): string {
+  if (Platform.OS === 'web' && typeof window !== 'undefined') {
+    return window.location.origin;
+  }
+  return (process.env.EXPO_PUBLIC_APP_URL as string) || 'https://wene.app';
+}
+
+/**
+ * イベントの参加用スキャンURL（QRコードにエンコードする値）
+ * 参加者がこのURLを開くと /u/scan?eventId=xxx に遷移する。
+ */
+export function getEventScanUrl(eventId: string): string {
+  const base = getBaseUrl().replace(/\/$/, '');
+  return `${base}/u/scan?eventId=${encodeURIComponent(eventId)}`;
+}
+
+/**
+ * イベントの参加用URL（token 付き。サーバ発行トークンで /u/join に直接遷移）
+ * API 有効時は印刷QRにこのURLを使用する。
+ */
+export function getEventJoinUrl(eventId: string, token: string): string {
+  const base = getBaseUrl().replace(/\/$/, '');
+  return `${base}/u/join?eventId=${encodeURIComponent(eventId)}&token=${encodeURIComponent(token)}`;
+}
diff --git a/wene-mobile/src/utils/csv.ts b/wene-mobile/src/utils/csv.ts
new file mode 100644
index 0000000..be90c6e
--- /dev/null
+++ b/wene-mobile/src/utils/csv.ts
@@ -0,0 +1,50 @@
+/**
+ * CSV 生成とダウンロード（Web 用）
+ */
+
+/**
+ * 1 フィールドの CSV エスケープ（カンマ・改行・ダブルクォートを囲む）
+ */
+function escapeCsvCell(value: string | number | null | undefined): string {
+  if (value === null || value === undefined) return '';
+  const s = String(value);
+  if (s.includes(',') || s.includes('"') || s.includes('\n') || s.includes('\r')) {
+    return `"${s.replace(/"/g, '""')}"`;
+  }
+  return s;
+}
+
+/**
+ * ヘッダーと行から CSV 文字列を生成
+ */
+export function toCsv(
+  headers: string[],
+  rows: Record<string, string | number | null | undefined>[]
+): string {
+  const headerLine = headers.map(escapeCsvCell).join(',');
+  const dataLines = rows.map((row) =>
+    headers.map((h) => escapeCsvCell(row[h])).join(',')
+  );
+  return [headerLine, ...dataLines].join('\r\n');
+}
+
+/**
+ * テキストファイルをダウンロード（Web: Blob + a[download]）
+ */
+export function downloadTextFile(
+  filename: string,
+  content: string,
+  mime = 'text/csv;charset=utf-8;'
+): void {
+  if (typeof window === 'undefined' || !window.URL?.createObjectURL) return;
+  const blob = new Blob(['\uFEFF' + content], { type: mime });
+  const url = URL.createObjectURL(blob);
+  const a = document.createElement('a');
+  a.href = url;
+  a.download = filename;
+  a.rel = 'noopener';
+  document.body.appendChild(a);
+  a.click();
+  document.body.removeChild(a);
+  URL.revokeObjectURL(url);
+}
diff --git a/wene-mobile/src/utils/studentSession.ts b/wene-mobile/src/utils/studentSession.ts
new file mode 100644
index 0000000..e0424e3
--- /dev/null
+++ b/wene-mobile/src/utils/studentSession.ts
@@ -0,0 +1,98 @@
+/**
+ * 生徒セッションの唯一の実装（get/set/clear）
+ * studentId は登録フロー（registerStudent 応答など）で setStudentSession に渡して永続化する。
+ * device-id ベースの studentId は使わない。
+ */
+
+import AsyncStorage from '@react-native-async-storage/async-storage';
+
+const STORAGE_KEY = 'studentSession';
+const LEGACY_STORAGE_KEY = 'wene:student_session';
+
+export interface StudentSession {
+  studentId: string;
+}
+
+/**
+ * 永続化用のストレージ（AsyncStorage を利用。Web では RN の AsyncStorage が localStorage にフォールバックする想定）
+ */
+async function getItem(key: string): Promise<string | null> {
+  try {
+    return await AsyncStorage.getItem(key);
+  } catch {
+    if (typeof localStorage !== 'undefined') {
+      return localStorage.getItem(key);
+    }
+    return null;
+  }
+}
+
+async function setItem(key: string, value: string): Promise<void> {
+  try {
+    await AsyncStorage.setItem(key, value);
+  } catch {
+    if (typeof localStorage !== 'undefined') {
+      localStorage.setItem(key, value);
+    }
+  }
+}
+
+async function removeItem(key: string): Promise<void> {
+  try {
+    await AsyncStorage.removeItem(key);
+  } catch {
+    if (typeof localStorage !== 'undefined') {
+      localStorage.removeItem(key);
+    }
+  }
+}
+
+function parseSession(raw: string): StudentSession | null {
+  try {
+    const data = JSON.parse(raw) as { studentId?: string };
+    if (typeof data?.studentId === 'string' && data.studentId.length > 0) {
+      return { studentId: data.studentId };
+    }
+  } catch {
+    // ignore
+  }
+  return null;
+}
+
+/**
+ * 現在の生徒セッションを取得する。
+ * 登録済みで setStudentSession が呼ばれていれば { studentId } を返し、未登録なら null。
+ * 旧キー "wene:student_session" が存在する場合は "studentSession" へ移行する。
+ */
+export async function getStudentSession(): Promise<StudentSession | null> {
+  let raw = await getItem(STORAGE_KEY);
+  if (!raw) {
+    raw = await getItem(LEGACY_STORAGE_KEY);
+    if (raw) {
+      const session = parseSession(raw);
+      if (session) {
+        await setItem(STORAGE_KEY, raw);
+        await removeItem(LEGACY_STORAGE_KEY);
+        return session;
+      }
+    }
+    return null;
+  }
+  return parseSession(raw);
+}
+
+/**
+ * 生徒セッションを保存する（登録フローで registerStudent 応答の studentId を渡して呼ぶ）
+ */
+export async function setStudentSession(session: StudentSession): Promise<void> {
+  await setItem(STORAGE_KEY, JSON.stringify({ studentId: session.studentId }));
+}
+
+/**
+ * 生徒セッションをクリアする（ログアウト時など）
+ * 新キー・旧キー両方を削除し、AsyncStorage と localStorage のどちらに残っていても消えるようにする。
+ */
+export async function clearStudentSession(): Promise<void> {
+  await removeItem(STORAGE_KEY);
+  await removeItem(LEGACY_STORAGE_KEY);
+}
